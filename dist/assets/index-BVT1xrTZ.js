(function(){const Ls=document.createElement("link").relList;if(Ls&&Ls.supports&&Ls.supports("modulepreload"))return;for(const Yn of document.querySelectorAll('link[rel="modulepreload"]'))Is(Yn);new MutationObserver(Yn=>{for(const ko of Yn)if(ko.type==="childList")for(const tr of ko.addedNodes)tr.tagName==="LINK"&&tr.rel==="modulepreload"&&Is(tr)}).observe(document,{childList:!0,subtree:!0});function ui(Yn){const ko={};return Yn.integrity&&(ko.integrity=Yn.integrity),Yn.referrerPolicy&&(ko.referrerPolicy=Yn.referrerPolicy),Yn.crossOrigin==="use-credentials"?ko.credentials="include":Yn.crossOrigin==="anonymous"?ko.credentials="omit":ko.credentials="same-origin",ko}function Is(Yn){if(Yn.ep)return;Yn.ep=!0;const ko=ui(Yn);fetch(Yn.href,ko)}})();function WZ(ia){return ia&&ia.__esModule&&Object.prototype.hasOwnProperty.call(ia,"default")?ia.default:ia}var tI={exports:{}};(function(ia){(function(){var Ls=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ui=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Is=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Yn=function(e,t){return ko(function(o,r){return e.eq(t(o),t(r))})},ko=function(e){return{eq:e}},tr=ko(function(e,t){return e===t}),nr=tr,Kr=function(e){return ko(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},Xn=function(e,t){return Yn(Kr(e),function(o){return Is(o,t)})},pn=function(e){return ko(function(t,o){var r=Object.keys(t),a=Object.keys(o);if(!Xn(nr).eq(r,a))return!1;for(var c=r.length,d=0;d<c;d++){var g=r[d];if(!e.eq(t[g],o[g]))return!1}return!0})},Ur=ko(function(e,t){if(e===t)return!0;var o=Ls(e),r=Ls(t);return o!==r?!1:ui(o)?e===t:o==="array"?Kr(Ur).eq(e,t):o==="object"?pn(Ur).eq(e,t):!1});const Fs=Object.getPrototypeOf,Bt=(e,t,o)=>{var r;return o(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},so=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Bt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},cn=e=>t=>so(t)===e,cr=e=>t=>typeof t===e,st=e=>t=>e===t,uo=(e,t)=>ue(e)&&Bt(e,t,(o,r)=>Fs(o)===r),Tt=cn("string"),ue=cn("object"),Dt=e=>uo(e,Object),ye=cn("array"),ht=st(null),ss=cr("boolean"),gr=st(void 0),Lo=e=>e==null,Fe=e=>!Lo(e),Pt=cr("function"),O=cr("number"),ot=(e,t)=>{if(ye(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Qe=()=>{},Ft=(e,t)=>(...o)=>e(t.apply(null,o)),Zo=(e,t)=>o=>e(t(o)),$e=e=>()=>e,Oo=e=>e,la=(e,t)=>e===t;function wt(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const et=e=>t=>!e(t),St=e=>()=>{throw new Error(e)},as=e=>e(),gn=e=>{e()},hn=$e(!1),wo=$e(!0);class H{constructor(t,o){this.tag=t,this.value=o}static some(t){return new H(!0,t)}static none(){return H.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?H.some(t(this.value)):H.none()}bind(t){return this.tag?t(this.value):H.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:H.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Fe(t)?H.some(t):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const wa=Array.prototype.slice,Cr=Array.prototype.indexOf,xn=Array.prototype.push,$i=(e,t)=>Cr.call(e,t),Bl=(e,t)=>{const o=$i(e,t);return o===-1?H.none():H.some(o)},tn=(e,t)=>$i(e,t)>-1,Sn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return!0}return!1},Ko=(e,t)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const c=e[a];r[a]=t(c,a)}return r},Te=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];t(a,o)}},yt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},tt=(e,t)=>{const o=[],r=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:r).push(d)}return{pass:o,fail:r}},Xe=(e,t)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const c=e[r];t(c,r)&&o.push(c)}return o},Wt=(e,t,o)=>(yt(e,(r,a)=>{o=t(o,r,a)}),o),ao=(e,t,o)=>(Te(e,(r,a)=>{o=t(o,r,a)}),o),jo=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++){const c=e[r];if(t(c,r))return H.some(c);if(o(c,r))break}return H.none()},En=(e,t)=>jo(e,t,hn),Jn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return H.some(o)}return H.none()},In=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!ye(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);xn.apply(t,e[o])}return t},Tn=(e,t)=>In(Ko(e,t)),Yr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},Ys=e=>{const t=wa.call(e,0);return t.reverse(),t},Fn=(e,t)=>Xe(e,o=>!tn(t,o)),Sr=(e,t)=>{const o={};for(let r=0,a=e.length;r<a;r++){const c=e[r];o[String(c)]=t(c,r)}return o},Yo=(e,t)=>{const o=wa.call(e,0);return o.sort(t),o},Xs=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),ct=e=>Xs(e,0),Co=e=>Xs(e,e.length-1),Vo=Pt(Array.from)?Array.from:e=>wa.call(e),Hs=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return H.none()},fi=(e,t)=>{const o=[],r=Pt(t)?a=>Sn(o,c=>t(c,a)):a=>tn(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];r(d)||o.push(d)}return o},nt=Object.keys,Xa=Object.hasOwnProperty,Fo=(e,t)=>{const o=nt(e);for(let r=0,a=o.length;r<a;r++){const c=o[r],d=e[c];t(d,c)}},Ti=(e,t)=>Vn(e,(o,r)=>({k:r,v:t(o,r)})),Vn=(e,t)=>{const o={};return Fo(e,(r,a)=>{const c=t(r,a);o[c.k]=c.v}),o},is=e=>(t,o)=>{e[o]=t},ul=(e,t,o,r)=>{Fo(e,(a,c)=>{(t(a,c)?o:r)(a,c)})},nl=(e,t)=>{const o={},r={};return ul(e,t,is(o),is(r)),{t:o,f:r}},Oi=(e,t)=>{const o={};return ul(e,t,is(o),Qe),o},mi=(e,t)=>{const o=[];return Fo(e,(r,a)=>{o.push(t(r,a))}),o},fl=e=>mi(e,Oo),Nn=(e,t)=>mo(e,t)?H.from(e[t]):H.none(),mo=(e,t)=>Xa.call(e,t),Ba=(e,t)=>mo(e,t)&&e[t]!==void 0&&e[t]!==null,Os=(e,t,o=Ur)=>pn(o).eq(e,t),ud=e=>{const t={};return Te(e,o=>{t[o]={}}),nt(t)},kt=e=>e.length!==void 0,_s=Array.isArray,Jd=e=>{if(_s(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},hr=(e,t,o)=>{if(!e)return!1;if(o=o||e,kt(e)){for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(mo(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},fd=(e,t)=>{const o=[];return hr(e,(r,a)=>{o.push(t(r,a,e))}),o},Ja=(e,t)=>{const o=[];return hr(e,(r,a)=>{(!t||t(r,a,e))&&o.push(r)}),o},Vi=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},pi=(e,t,o,r)=>{let a=gr(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(r,a,e[c],c);return a},rr=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e))return r;return-1},ca=e=>e[e.length-1],Qa=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},Qd=(e,t,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),g=d||r("(pointer:coarse)"),v=a||!c&&d&&r("(min-device-width:768px)"),z=c||d&&!v,M=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,P=!z&&!v&&!M;return{isiPad:$e(a),isiPhone:$e(c),isTablet:$e(v),isPhone:$e(z),isTouch:$e(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:$e(M),isDesktop:$e(P)}},cc=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},gi=(e,t)=>{const o=cc(e,t);if(!o)return{major:0,minor:0};const r=a=>Number(t.replace(o,"$"+a));return kn(r(1),r(2))},eu=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Hc():gi(e,o)},Hc=()=>kn(0,0),kn=(e,t)=>({major:e,minor:t}),Xr={nu:kn,detect:eu,unknown:Hc},da=(e,t)=>Hs(t.brands,o=>{const r=o.brand.toLowerCase();return En(e,a=>{var c;return r===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:Xr.nu(parseInt(o.version,10),0)}))}),Bu=(e,t)=>{const o=String(t).toLowerCase();return En(e,r=>r.search(o))},ji=(e,t)=>Bu(e,t).map(o=>{const r=Xr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),md=(e,t)=>Bu(e,t).map(o=>{const r=Xr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),As=(e,t)=>e.substring(t),ua=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,hi=(e,t)=>sr(e,t)?As(e,t.length):e,Rn=(e,t,o=0,r)=>{const a=e.indexOf(t,o);return a!==-1?gr(r)?!0:a+t.length<=r:!1},sr=(e,t)=>ua(e,t,0),Ui=(e,t)=>ua(e,t,e.length-t.length),dc=e=>t=>t.replace(e,""),ls=dc(/^\s+|\s+$/g),ml=dc(/^\s+/g),Tr=dc(/\s+$/g),bn=e=>e.length>0,bi=e=>!bn(e),Ca=(e,t)=>t<=0?"":new Array(t+1).join(e),Ns=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?H.none():H.some(o)},Sa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fr=e=>t=>Rn(t,e),pd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Rn(e,"edge/")&&Rn(e,"chrome")&&Rn(e,"safari")&&Rn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sa],search:e=>Rn(e,"chrome")&&!Rn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Rn(e,"msie")||Rn(e,"trident")},{name:"Opera",versionRegexes:[Sa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fr("firefox")},{name:"Safari",versionRegexes:[Sa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Rn(e,"safari")||Rn(e,"mobile/"))&&Rn(e,"applewebkit")}],to=[{name:"Windows",search:Fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Rn(e,"iphone")||Rn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fr("linux"),versionRegexes:[]},{name:"Solaris",search:Fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pl={browsers:$e(pd),oses:$e(to)},cs="Edge",Er="Chromium",$c="IE",Wo="Opera",Pl="Firefox",fa="Safari",po=()=>Ai({current:void 0,version:Xr.unknown()}),Ai=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isEdge:r(cs),isChromium:r(Er),isIE:r($c),isOpera:r(Wo),isFirefox:r(Pl),isSafari:r(fa)}},ei={unknown:po,nu:Ai,edge:$e(cs),chromium:$e(Er),ie:$e($c),opera:$e(Wo),firefox:$e(Pl),safari:$e(fa)},br="Windows",Ll="iOS",Hr="Android",uc="Linux",$s="macOS",_n="Solaris",gl="FreeBSD",Vc="ChromeOS",gd=()=>yr({current:void 0,version:Xr.unknown()}),yr=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isWindows:r(br),isiOS:r(Ll),isAndroid:r(Hr),isMacOS:r($s),isLinux:r(uc),isSolaris:r(_n),isFreeBSD:r(gl),isChromeOS:r(Vc)}},Ea={unknown:gd,nu:yr,windows:$e(br),ios:$e(Ll),android:$e(Hr),linux:$e(uc),macos:$e($s),solaris:$e(_n),freebsd:$e(gl),chromeos:$e(Vc)},ae={detect:(e,t,o)=>{const r=pl.browsers(),a=pl.oses(),c=t.bind(v=>da(r,v)).orThunk(()=>ji(r,e)).fold(ei.unknown,ei.nu),d=md(a,e).fold(Ea.unknown,Ea.nu),g=Qd(d,c,e,o);return{browser:c,os:d,deviceType:g}}},xe=e=>window.matchMedia(e).matches;let Pe=Qa(()=>ae.detect(window.navigator.userAgent,H.from(window.navigator.userAgentData),xe));const rt=()=>Pe(),Lt=window.navigator.userAgent,No=rt(),Dn=No.browser,Ho=No.os,jn=No.deviceType,$r=Lt.indexOf("Windows Phone")!==-1,Mo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Dn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Dn.isIE(),windowsPhone:$r,browser:{current:Dn.current,version:Dn.version,isChromium:Dn.isChromium,isEdge:Dn.isEdge,isFirefox:Dn.isFirefox,isIE:Dn.isIE,isOpera:Dn.isOpera,isSafari:Dn.isSafari},os:{current:Ho.current,version:Ho.version,isAndroid:Ho.isAndroid,isChromeOS:Ho.isChromeOS,isFreeBSD:Ho.isFreeBSD,isiOS:Ho.isiOS,isLinux:Ho.isLinux,isMacOS:Ho.isMacOS,isSolaris:Ho.isSolaris,isWindows:Ho.isWindows},deviceType:{isDesktop:jn.isDesktop,isiPad:jn.isiPad,isiPhone:jn.isiPhone,isPhone:jn.isPhone,isTablet:jn.isTablet,isTouch:jn.isTouch,isWebView:jn.isWebView}},rl=/^\s*|\s*$/g,Il=e=>Lo(e)?"":(""+e).replace(rl,""),fc=(e,t)=>t?t==="array"&&_s(e)?!0:typeof e===t:e!==void 0,Mm=(e,t,o={})=>{const r=Tt(e)?e.split(t||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},Ig=mo,Ni=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const a in r)if(mo(r,a)){const c=r[a];c!==void 0&&(e[a]=c)}}return e},Bm=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),hr(e,(a,c)=>t.call(r,a,c,o)===!1?!1:(Bm(a,t,o,r),!0)))},ft={trim:Il,isArray:_s,is:fc,toArray:Jd,makeMap:Mm,each:hr,map:fd,grep:Ja,inArray:Vi,hasOwn:Ig,extend:Ni,walk:Bm,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>ye(e)?e:e===""?[]:fd(e.split(t||","),Il),_addCacheSuffix:e=>{const t=Mo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},hd=(e,t,o=la)=>e.exists(r=>o(r,t)),bd=(e,t,o=la)=>ma(e,t,o).getOr(e.isNone()&&t.isNone()),Ef=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},ma=(e,t,o)=>e.isSome()&&t.isSome()?H.some(o(e.getOrDie(),t.getOrDie())):H.none(),yd=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?H.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):H.none(),tu=(e,t)=>e?H.some(t):H.none(),Hg=typeof window<"u"?window:Function("return this;")(),Bp=(e,t)=>{let o=t??Hg;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Pp=(e,t)=>{const o=e.split(".");return Bp(o,t)},bb=(e,t)=>Pp(e,t),$g=(e,t)=>{const o=bb(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},yb=Object.getPrototypeOf,zf=e=>$g("HTMLElement",e),Fl=e=>{const t=Pp("ownerDocument.defaultView",e);return ue(e)&&(zf(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(yb(e).constructor.name))},jc=8,Hl=9,Vs=11,yi=1,vd=3,rn=e=>e.dom.nodeName.toLowerCase(),hl=e=>e.dom.nodeType,Pu=e=>t=>hl(t)===e,Lu=e=>hl(e)===jc||rn(e)==="#comment",ti=e=>Jr(e)&&Fl(e.dom),Jr=Pu(yi),vr=Pu(vd),Js=Pu(Hl),ar=Pu(Vs),xd=e=>t=>Jr(t)&&rn(t)===e,kd=(e,t,o)=>{if(Tt(o)||ss(o)||O(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ws=(e,t,o)=>{kd(e.dom,t,o)},Pa=(e,t)=>{const o=e.dom;Fo(t,(r,a)=>{kd(o,a,r)})},za=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},gs=(e,t)=>H.from(za(e,t)),Uc=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},$o=(e,t)=>{e.dom.removeAttribute(t)},ds=e=>{const t=e.dom.attributes;return t==null||t.length===0},La=e=>ao(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),$l=(e,t)=>{const o=za(e,t);return o===void 0||o===""?[]:o.split(" ")},Rs=(e,t,o)=>{const a=$l(e,t).concat([o]);return ws(e,t,a.join(" ")),!0},Ht=(e,t,o)=>{const r=Xe($l(e,t),a=>a!==o);return r.length>0?ws(e,t,r.join(" ")):$o(e,t),!1},bl=e=>e.dom.classList!==void 0,yl=e=>$l(e,"class"),dn=(e,t)=>Rs(e,"class",t),ou=(e,t)=>Ht(e,"class",t),Pm=(e,t)=>tn(yl(e),t)?ou(e,t):dn(e,t),Vl=(e,t)=>{bl(e)?e.dom.classList.add(t):dn(e,t)},Uo=e=>{(bl(e)?e.dom.classList:yl(e)).length===0&&$o(e,"class")},Ta=(e,t)=>{bl(e)?e.dom.classList.remove(t):ou(e,t),Uo(e)},Iu=(e,t)=>{const o=bl(e)?e.dom.classList.toggle(t):Pm(e,t);return Uo(e),o},mc=(e,t)=>bl(e)&&e.dom.classList.contains(t),Tf=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return jl(r.childNodes[0])},vl=(e,t)=>{const r=(t||document).createElement(e);return jl(r)},Ia=(e,t)=>{const r=(t||document).createTextNode(e);return jl(r)},jl=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},de={fromHtml:Tf,fromTag:vl,fromText:Ia,fromDom:jl,fromPoint:(e,t,o)=>H.from(e.dom.elementFromPoint(t,o)).map(jl)},nu=(e,t)=>{const o=[],r=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(r);while(a.isSome());return o},Un=(e,t)=>{const o=e.dom;if(o.nodeType!==yi)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Lm=e=>e.nodeType!==yi&&e.nodeType!==Hl&&e.nodeType!==Vs||e.childElementCount===0,Fu=(e,t)=>{const o=t===void 0?document:t.dom;return Lm(o)?[]:Ko(o.querySelectorAll(e),de.fromDom)},sl=(e,t)=>{const o=t===void 0?document:t.dom;return Lm(o)?H.none():H.from(o.querySelector(e)).map(de.fromDom)},on=(e,t)=>e.dom===t.dom,pa=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},Zi=e=>de.fromDom(e.dom.ownerDocument),al=e=>Js(e)?e:Zi(e),Ul=e=>de.fromDom(al(e).dom.documentElement),pc=e=>de.fromDom(al(e).dom.defaultView),Qs=e=>H.from(e.dom.parentNode).map(de.fromDom),wd=e=>H.from(e.dom.parentElement).map(de.fromDom),Hu=(e,t)=>{const o=Pt(t)?t:hn;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,d=de.fromDom(c);if(a.push(d),o(d)===!0)break;r=c}return a},Of=e=>{const t=o=>Xe(o,r=>!on(e,r));return Qs(e).map(ga).map(t).getOr([])},Ds=e=>H.from(e.dom.previousSibling).map(de.fromDom),Kt=e=>H.from(e.dom.nextSibling).map(de.fromDom),gc=e=>Ys(nu(e,Ds)),ru=e=>nu(e,Kt),ga=e=>Ko(e.dom.childNodes,de.fromDom),hc=(e,t)=>{const o=e.dom.childNodes;return H.from(o[t]).map(de.fromDom)},Ri=e=>hc(e,0),bc=e=>hc(e,e.dom.childNodes.length-1),Zc=e=>e.dom.childNodes.length,Ms=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return de.fromDom(t)},il=e=>ar(e)&&Fe(e.dom.host),Zl=e=>de.fromDom(e.dom.getRootNode()),su=e=>il(e)?e:Ms(al(e)),Lp=e=>il(e)?e:de.fromDom(al(e).dom.body),yc=e=>{const t=Zl(e);return il(t)?H.some(t):H.none()},Cd=e=>de.fromDom(e.dom.host),$u=e=>{if(Fe(e.target)){const t=de.fromDom(e.target);if(Jr(t)&&xr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return ct(o)}}return H.from(e.target)},xr=e=>Fe(e.dom.shadowRoot),Fa=e=>{const t=vr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return yc(de.fromDom(t)).fold(()=>o.body.contains(t),Zo(Fa,Cd))};var ea=(e,t,o,r,a)=>e(o,r)?H.some(o):Pt(a)&&a(o)?H.none():t(o,r,a);const oi=(e,t,o)=>{let r=e.dom;const a=Pt(o)?o:hn;for(;r.parentNode;){r=r.parentNode;const c=de.fromDom(r);if(t(c))return H.some(c);if(a(c))break}return H.none()},us=(e,t,o)=>ea((a,c)=>c(a),oi,e,t,o),Af=(e,t)=>{const o=e.dom;return o.parentNode?Qr(de.fromDom(o.parentNode),r=>!on(e,r)&&t(r)):H.none()},Qr=(e,t)=>{const o=a=>t(de.fromDom(a));return En(e.dom.childNodes,o).map(de.fromDom)},ta=(e,t)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const c=de.fromDom(r.childNodes[a]);if(t(c))return H.some(c);const d=o(r.childNodes[a]);if(d.isSome())return d}return H.none()};return o(e.dom)},xl=(e,t,o)=>oi(e,r=>Un(r,t),o),Ue=(e,t)=>sl(t,e),js=(e,t,o)=>ea((a,c)=>Un(a,c),xl,e,t,o),au=e=>js(e,"[contenteditable]"),Or=(e,t=!1)=>Fa(e)?e.dom.isContentEditable:au(e).fold($e(t),o=>kl(o)==="true"),kl=e=>e.dom.contentEditable,Ha=e=>e.style!==void 0&&Pt(e.style.getPropertyValue),_l=(e,t,o)=>{if(!Tt(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ha(e)&&e.style.setProperty(t,o)},iu=(e,t)=>{Ha(e)&&e.style.removeProperty(t)},ni=(e,t,o)=>{const r=e.dom;_l(r,t,o)},Xo=(e,t)=>{const o=e.dom;Fo(t,(r,a)=>{_l(o,a,r)})},es=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!Fa(e)?vc(o,t):a},vc=(e,t)=>Ha(e)?e.style.getPropertyValue(t):"",Ar=(e,t)=>{const o=e.dom,r=vc(o,t);return H.from(r).filter(a=>a.length>0)},Vu=e=>{const t={},o=e.dom;if(Ha(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);t[a]=o.style[a]}return t},Wl=(e,t)=>{const o=e.dom;iu(o,t),hd(gs(e,"style").map(ls),"")&&$o(e,"style")},Im=e=>e.dom.offsetWidth,Nr=(e,t)=>{Qs(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},we=(e,t)=>{Kt(e).fold(()=>{Qs(e).each(a=>{ts(a,t)})},r=>{Nr(r,t)})},$a=(e,t)=>{Ri(e).fold(()=>{ts(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},ts=(e,t)=>{e.dom.appendChild(t.dom)},vi=(e,t)=>{Nr(e,t),ts(t,e)},wl=(e,t)=>{Te(t,(o,r)=>{const a=r===0?e:t[r-1];we(a,o)})},fs=(e,t)=>{Te(t,o=>{ts(e,o)})},ir=e=>{e.dom.textContent="",Te(ga(e),t=>{Mn(t)})},Mn=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ha=e=>{const t=ga(e);t.length>0&&wl(e,t),Mn(e)},xi=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,ga(de.fromDom(r))},ri=e=>Ko(e,de.fromDom),Wi=e=>e.dom.innerHTML,ql=(e,t)=>{const r=Zi(e).dom,a=de.fromDom(r.createDocumentFragment()),c=xi(t,r);fs(a,c),ir(e),ts(e,a)},xc=e=>{const t=de.fromTag("div"),o=de.fromDom(e.dom.cloneNode(!0));return ts(t,o),Wi(t)},Wc=(e,t,o,r,a,c,d)=>({target:e,x:t,y:o,stop:r,prevent:a,kill:c,raw:d}),Nf=e=>{const t=de.fromDom($u(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=Ft(r,o);return Wc(t,e.clientX,e.clientY,o,r,a,e)},Rf=(e,t)=>o=>{e(o)&&t(Nf(o))},kc=(e,t,o,r,a)=>{const c=Rf(o,r);return e.dom.addEventListener(t,c,a),{unbind:wt(D,e,t,c,a)}},w=(e,t,o,r)=>kc(e,t,o,r,!1),D=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},V=(e,t)=>({left:e,top:t,translate:(r,a)=>V(e+r,t+a)}),ie=V,me=e=>{const t=e.getBoundingClientRect();return ie(t.left,t.top)},Ze=(e,t)=>e!==void 0?e:t!==void 0?t:0,eo=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,a=t.documentElement;if(o===e.dom)return ie(o.offsetLeft,o.offsetTop);const c=Ze(r==null?void 0:r.pageYOffset,a.scrollTop),d=Ze(r==null?void 0:r.pageXOffset,a.scrollLeft),g=Ze(a.clientTop,o.clientTop),v=Ze(a.clientLeft,o.clientLeft);return Eo(e).translate(d-v,c-g)},Eo=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?ie(r.offsetLeft,r.offsetTop):Fa(e)?me(t):ie(0,0)},go=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return ie(o,r)},Vt=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},zn=(e,t)=>{rt().browser.isSafari()&&Pt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Zr=e=>{const t=e===void 0?window:e;return rt().browser.isFirefox()?H.none():H.from(t.visualViewport)},Rr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Cl=e=>{const t=e===void 0?window:e,o=t.document,r=go(de.fromDom(o));return Zr(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return Rr(r.left,r.top,c,d)},a=>Rr(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},lu=(e,t)=>Xe(ga(e),t),Sd=(e,t)=>{let o=[];return Te(ga(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(Sd(r,t))}),o},Cs=(e,t)=>Fu(t,e),Vg=(e,t,o)=>oi(e,t,o).isSome(),Fm=(e,t)=>Af(e,t).isSome(),Ip=(e,t)=>ta(e,t).isSome();class Oa{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[r],c)return c}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const Wr="\uFEFF",oa=" ",qc=e=>e===Wr,Df=e=>e.replace(/\uFEFF/g,""),Mf=/^[ \t\r\n]*$/,Di=e=>Mf.test(e),si=e=>{for(const t of e)if(!qc(t))return!1;return!0},Bf=e=>" \f	\v".indexOf(e)!==-1,_c=e=>e===`
`||e==="\r",Jy=(e,t)=>t<e.length&&t>=0?_c(e[t]):!1,Hm=(e,t=4,o=!0,r=!0)=>{const a=Ca(" ",t),c=e.replace(/\t/g,a);return ao(c,(g,v)=>Bf(v)||v===oa?g.pcIsSpace||g.str===""&&o||g.str.length===c.length-1&&r||Jy(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+oa}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:_c(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},Gc=e=>t=>!!t&&t.nodeType===e,Ed=e=>!!e&&!Object.getPrototypeOf(e),It=Gc(1),Gl=e=>It(e)&&ti(de.fromDom(e)),Pf=e=>It(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",zd=e=>{const t=e.toLowerCase();return o=>Fe(o)&&o.nodeName.toLowerCase()===t},ba=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return tn(t,r)}return!1}},Sl=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(It(r)){const a=r.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(r,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},ju=e=>t=>It(t)&&t.hasAttribute(e),Td=e=>It(e)&&e.hasAttribute("data-mce-bogus"),Fp=e=>It(e)&&e.getAttribute("data-mce-bogus")==="all",Kl=e=>It(e)&&e.tagName==="TABLE",Lf=e=>t=>!!(Gl(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),If=ba(["textarea","input"]),it=Gc(3),Hp=Gc(4),Od=Gc(7),Bo=Gc(8),jt=Gc(9),Ad=Gc(11),zr=zd("br"),El=zd("img"),zl=Lf("true"),_o=Lf("false"),Uu=ba(["td","th"]),vb=ba(["td","th","caption"]),Le=ba(["video","audio","object","embed"]),$p=zd("li"),Ff=zd("details"),Hf=zd("summary"),Zu={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},cu=(e,t,o)=>{const r=de.fromDom(t),a=de.fromDom(e),c=o.getWhitespaceElements();return Vg(a,g=>mo(c,rn(g)),wt(on,r))},xb=e=>It(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Nd=(e,t)=>It(e)&&mo(t.getNonEmptyElements(),e.nodeName),dr=ju("data-mce-bookmark"),wc=e=>wd(de.fromDom(e)).exists(t=>!Or(t)),Vp=(e,t,o)=>Di(e.data)&&!cu(e,t,o),Tl=(e,t,o,r)=>it(e)&&!Vp(e,t,o)&&(!r.includeZwsp||!si(e.data)),du=(e,t,o,r)=>Pt(r.isContent)&&r.isContent(t)||Nd(t,e)||dr(t)||xb(t)||Tl(t,o,e,r)||_o(t)||zl(t)&&wc(t),ll=(e,t,o)=>{const r={...Zu,...o};if(r.checkRootAsContent&&du(e,t,t,r))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new Oa(a,t);do{if(r.skipBogus&&It(a)){const g=a.getAttribute("data-mce-bogus");if(g){a=d.next(g==="all");continue}}if(Bo(a)){a=d.next(!0);continue}if(zr(a)){c++,a=d.next();continue}if(du(e,a,t,r))return!1;a=d.next()}while(a);return c<=1},qr=(e,t,o)=>ll(e,t.dom,{checkRootAsContent:!0,...o}),uu=(e,t,o)=>du(e,t,t,{includeZwsp:Zu.includeZwsp,...o}),hs=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},$m=e=>{const t=hs(H.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(g))}}},Ol=e=>{const t=hs(H.none()),o=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(setInterval(g,e)))}}},Us=()=>{const e=$m(Qe);return{...e,on:o=>e.get().each(o)}},at=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},fu=e=>at(e)!=="html",Zs=e=>fu(e.nodeName),kb=e=>at(e.nodeName),k=["svg","math"],T=()=>{const e=Us(),t=()=>e.get().map(kb).getOr("html");return{track:a=>(Zs(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},$="data-mce-block",J=e=>Xe(nt(e),t=>!/[A-Z]/.test(t)),he=e=>Ko(J(e),t=>{const o=CSS.escape(t);return`${o}:`+Ko(k,r=>`not(${r} ${o})`).join(":")}).join(","),Ve=(e,t)=>Fe(t.querySelector(e))?(t.setAttribute($,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute($),!1),dt=(e,t)=>{const o=he(e.getTransparentElements()),r=he(e.getBlockElements());return Xe(t.querySelectorAll(o),a=>Ve(r,a))},ut=(e,t,o)=>{var r;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(ll(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},ho=(e,t,o)=>{const r=document.createRange(),a=t.parentNode;if(a){r.setStartBefore(t),r.setEndBefore(o);const c=r.extractContents();ut(e,c,!0),r.setStartAfter(o),r.setEndAfter(t);const d=r.extractContents();ut(e,d,!1),ll(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),ll(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),ll(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},Ut=(e,t,o)=>{const r=e.getBlockElements(),a=de.fromDom(t),c=g=>rn(g)in r,d=g=>on(g,a);Te(ri(o),g=>{oi(g,c,d).each(v=>{const z=lu(g,M=>c(M)&&!e.isValidChild(rn(v),rn(M)));if(z.length>0){const M=wd(v);Te(z,P=>{oi(P,c,d).each(I=>{ho(e,I.dom,P.dom)})}),M.each(P=>dt(e,P.dom))}})})},Jo=(e,t,o)=>{Te([...o,...Cc(e,t)?[t]:[]],r=>Te(Cs(de.fromDom(r),r.nodeName.toLowerCase()),a=>{Vm(e,a.dom)&&ha(a)}))},Ao=(e,t)=>{const o=dt(e,t);Ut(e,t,o),Jo(e,t,o)},Bn=(e,t)=>{if(Xl(e,t)){const o=he(e.getBlockElements());Ve(o,t)}},Ws=(e,t,o)=>{const r=c=>on(c,de.fromDom(t)),a=Hu(de.fromDom(o),r);Xs(a,a.length-2).filter(Jr).fold(()=>Ao(e,t),c=>Ao(e,c.dom))},Dr=e=>e.hasAttribute($),Yl=(e,t)=>mo(e.getTransparentElements(),t),Xl=(e,t)=>It(t)&&Yl(e,t.nodeName),Cc=(e,t)=>Xl(e,t)&&Dr(t),Vm=(e,t)=>Xl(e,t)&&!Dr(t),Kc=(e,t)=>t.type===1&&Yl(e,t.name)&&Tt(t.attr($)),Wu=rt().browser,$f=e=>En(e,Jr),mu=e=>Wu.isFirefox()&&rn(e)==="table"?$f(ga(e)).filter(t=>rn(t)==="caption").bind(t=>$f(ru(t)).map(o=>{const r=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=a?-c:0})).getOr(0):0,qu=(e,t)=>e.children&&tn(e.children,t),jg=(e,t,o)=>{let r=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&es(de.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!qu(d,o);){const g=d;r+=g.offsetLeft||0,a+=g.offsetTop||0,d=g.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!qu(d,o);)r-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=mu(de.fromDom(t))}return{x:r,y:a}},pu=(e,t={})=>{let o=0;const r={},a=de.fromDom(e),c=al(a),d=ge=>{t.referrerPolicy=ge},g=ge=>{t.contentCssCors=ge},v=ge=>{ts(su(a),ge)},z=ge=>{const ke=su(a);Ue(ke,"#"+ge).each(Mn)},M=ge=>Nn(r,ge).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),P=ge=>new Promise((ke,ve)=>{let ze;const Je=ft._addCacheSuffix(ge),gt=M(Je);r[Je]=gt,gt.count++;const Ot=(Mt,Yt)=>{Te(Mt,gn),gt.status=Yt,gt.passed=[],gt.failed=[],ze&&(ze.onload=null,ze.onerror=null,ze=null)},He=()=>Ot(gt.passed,2),Ne=()=>Ot(gt.failed,3);if(ke&&gt.passed.push(ke),ve&&gt.failed.push(ve),gt.status===1)return;if(gt.status===2){He();return}if(gt.status===3){Ne();return}gt.status=1;const Ke=de.fromTag("link",c.dom);Pa(Ke,{rel:"stylesheet",type:"text/css",id:gt.id}),t.contentCssCors&&ws(Ke,"crossOrigin","anonymous"),t.referrerPolicy&&ws(Ke,"referrerpolicy",t.referrerPolicy),ze=Ke.dom,ze.onload=He,ze.onerror=Ne,v(Ke),ws(Ke,"href",Je)}),I=(ge,ke)=>{const ve=M(ge);r[ge]=ve,ve.count++;const ze=de.fromTag("style",c.dom);Pa(ze,{rel:"stylesheet",type:"text/css",id:ve.id}),ze.dom.innerHTML=ke,v(ze)},K=ge=>Promise.allSettled(Ko(ge,ve=>P(ve).then($e(ve)))).then(ve=>{const ze=tt(ve,Je=>Je.status==="fulfilled");return ze.fail.length>0?Promise.reject(Ko(ze.fail,Je=>Je.reason)):Ko(ze.pass,Je=>Je.value)}),oe=ge=>{const ke=ft._addCacheSuffix(ge);Nn(r,ke).each(ve=>{--ve.count===0&&(delete r[ke],z(ve.id))})};return{load:P,loadRawCss:I,loadAll:K,unload:oe,unloadRawCss:ge=>{Nn(r,ge).each(ke=>{--ke.count===0&&(delete r[ge],z(ke.id))})},unloadAll:ge=>{Te(ge,ke=>{oe(ke)})},_setReferrerPolicy:d,_setContentCssCors:g}},Mr=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const c=Zl(o).dom;return H.from(e.get(c)).getOrThunk(()=>{const d=pu(c,r);return e.set(c,d),d})}}})(),Va=e=>e.nodeName.toLowerCase()==="span",qi=(e,t)=>Fe(e)&&(uu(t,e)||t.isInline(e.nodeName.toLowerCase())),Ug=(e,t,o)=>{const r=new Oa(e,t).prev(!1),a=new Oa(e,t).next(!1),c=gr(r)||qi(r,o),d=gr(a)||qi(a,o);return c&&d},jm=e=>Va(e)&&e.getAttribute("data-mce-type")==="bookmark",Vf=(e,t,o)=>it(e)&&e.data.length>0&&Ug(e,t,o),jf=e=>It(e)?e.childNodes.length>0:!1,Zg=e=>Ad(e)||jt(e),jp=(e,t,o,r)=>{var a;const c=r||t;if(It(t)&&jm(t))return t;const d=t.childNodes;for(let g=d.length-1;g>=0;g--)jp(e,d[g],o,c);if(It(t)){const g=t.childNodes;g.length===1&&jm(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!Zg(t)&&!uu(o,t)&&!jf(t)&&!Vf(t,c,o)&&e.remove(t),t},Qy=ft.makeMap,Wg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uf=/[<>&\"\']/g,Up=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,e1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},gu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Um={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Zm=e=>{const t=de.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},hu=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let a=0;a<r.length;a+=2){const c=String.fromCharCode(parseInt(r[a],t));if(!gu[c]){const d="&"+r[a+1]+";";o[c]=d,o[d]=c}}return o}else return},Gu=hu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Gg=(e,t)=>e.replace(t?Wg:qg,o=>gu[o]||o),T_=e=>(""+e).replace(Uf,t=>gu[t]||t),Kg=(e,t)=>e.replace(t?Wg:qg,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":gu[o]||"&#"+o.charCodeAt(0)+";"),Sc=(e,t,o)=>{const r=o||Gu;return e.replace(t?Wg:qg,a=>gu[a]||r[a]||a)},Wm={encodeRaw:Gg,encodeAllRaw:T_,encodeNumeric:Kg,encodeNamed:Sc,getEncodeFunc:(e,t)=>{const o=hu(t)||Gu,r=(d,g)=>d.replace(g?Wg:qg,v=>gu[v]!==void 0?gu[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),a=(d,g)=>Sc(d,g,o),c=Qy(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?a:Sc:c.numeric?Kg:Gg},decode:e=>e.replace(Up,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):e1[o]||String.fromCharCode(o)):Um[t]||Gu[t]||Zm(t))},ja=(e,t)=>(e=ft.trim(e),e?e.split(t||" "):[]),qm=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Gm=e=>ue(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",_b=e=>{const t=o=>ye(o)?Ko(o,t):Gm(o)?new RegExp(o.source,o.flags):ue(o)?Ti(o,t):o;return t(e)},un=e=>{const t=/^(~)?(.+)$/;return Tn(ja(e,","),o=>{const r=t.exec(o);if(r){const c=r[1]==="~"?"span":"div",d=r[2];return[{cloneName:c,name:d}]}else return[]})},Gi=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Rd=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},ai=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Rd(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(r)})},ur={html4:Qa(()=>ai("html4")),html5:Qa(()=>ai("html5")),"html5-strict":Qa(()=>ai("html5-strict"))},Yg=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=ur[e]();return t==="blocks"?H.some(o):t==="phrasing"?H.some(r):t==="flow"?H.some(a):H.none()},Nv=e=>{const t=Gi(e),{phrasingContent:o,flowContent:r}=Rd(e),a={},c=(v,z,M)=>{a[v]={attributes:Sr(z,$e({})),attributesOrder:z,children:Sr(M,$e({}))}},d=(v,z="",M="")=>{const P=ja(M),I=ja(v);let K=I.length;const oe=[...t,...ja(z)];for(;K--;)c(I[K],oe.slice(),P)},g=(v,z)=>{const M=ja(v),P=ja(z);let I=M.length;for(;I--;){const K=a[M[I]];for(let oe=0,Y=P.length;oe<Y;oe++)K.attributes[P[oe]]={},K.attributesOrder.push(P[oe])}};return e!=="html5-strict"&&(Te(ja("acronym applet basefont big font strike tt"),M=>{d(M,"",o)}),Te(ja("center dir isindex noframes"),M=>{d(M,"",r)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),d("dd div","",r),d("address dt caption","",e==="html4"?o:r),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",r),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",r),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:r),d("q","cite",o),d("ins del","cite datetime",r),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",r),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),d("param","name value"),d("map","name",[r,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",r),d("th","colspan rowspan headers scope abbr",r),d("form","accept-charset action autocomplete enctype method name novalidate target",r),d("fieldset","disabled form name",[r,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[r,"li"].join(" ")),d("noscript","",r),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",r),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",r),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",r),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[r,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",r),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[r,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Te([a.video,a.audio],v=>{delete v.children.audio,delete v.children.video}),Te(ja("a form meter progress dfn"),v=>{a[v]&&delete a[v].children[v]}),delete a.caption.children.table,delete a.script,a},O_=e=>e==="-"?"remove":"add",Br=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return H.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},wb=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Tn(ja(e,","),o=>{const r=t.exec(o);if(r){const a=r[1],c=a?O_(a):"replace",d=r[2],g=Tn(ja(r[3],"|"),v=>Br(v).toArray());return[{operation:c,name:d,validChildren:g}]}else return[]})},o1=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Te(ja(e,"|"),d=>{const g=o.exec(d);if(g){const v={},z=g[1],M=g[2].replace(/[\\:]:/g,":"),P=g[3],I=g[4];if(z==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(M),v.required=!0),z==="-"){delete a[M],c.splice(ft.inArray(c,M),1);return}if(P&&(P==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:M,value:I}),v.defaultValue=I):P==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:M,value:I}),v.forcedValue=I):P==="<"&&(v.validValues=ft.makeMap(I,"?"))),r.test(M)){const K=v;t.attributePatterns=t.attributePatterns||[],K.pattern=qm(M),t.attributePatterns.push(K)}else a[M]||c.push(M),a[M]=v}})},Zf=(e,t)=>{Fo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Ec=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Tn(ja(t,","),r=>{const a=o.exec(r);if(a){const c=a[1],d=a[2],g=a[3],v=a[4],z=a[5],M={attributes:{},attributesOrder:[]};if(e.each(P=>Zf(P,M)),c==="#"?M.paddEmpty=!0:c==="-"&&(M.removeEmpty=!0),v==="!"&&(M.removeEmptyAttrs=!0),z&&o1(z,M),g&&(M.outputName=d),d==="@")if(e.isNone())e=H.some(M);else return[];return[g?{name:d,element:M,aliasName:g}:{name:d,element:M}]}else return[]})},Zp={},At=ft.makeMap,Yc=ft.each,n1=ft.extend,Cb=ft.explode,Wp=(e,t={})=>{const o=At(e," ",At(e.toUpperCase()," "));return n1(o,t)},Sb=e=>Wp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Km=(e,t)=>{if(e){const o={};return Tt(e)&&(e={"*":e}),Yc(e,(r,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?At(r,/[, ]/):Cb(r,/[, ]/)}),o}else return},zc=(e={})=>{var t;const o={},r={};let a=[];const c={},d={},g=(Qt,Cn,xs)=>{const Ks=e[Qt];if(Ks)return At(Ks,/[, ]/,At(Ks.toUpperCase(),/[, ]/));{let Ma=Zp[Qt];return Ma||(Ma=Wp(Cn,xs),Zp[Qt]=Ma),Ma}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",z=Nv(v);e.verify_html===!1&&(e.valid_elements="*[*]");const M=Km(e.valid_styles),P=Km(e.invalid_styles,"map"),I=Km(e.valid_classes,"map"),K=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),oe=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Y=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),re=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ge="td th iframe video audio object script code",ke=g("non_empty_elements",ge+" pre svg textarea summary",Y),ve=g("move_caret_before_on_enter_elements",ge+" table",Y),ze="h1 h2 h3 h4 h5 h6",Je=g("text_block_elements",ze+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Je),Ot=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),He=g("transparent_elements","a ins del canvas map"),Ne=g("wrap_block_elements","pre "+ze);Yc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Qt=>{d[Qt]=new RegExp("</"+Qt+"[^>]*>","gi")});const Ke=Qt=>{const Cn=H.from(o["@"]),xs=/[*?+]/;Te(Ec(Cn,Qt??""),({name:Ks,element:Ma,aliasName:Hi})=>{if(Hi&&(o[Hi]=Ma),xs.test(Ks)){const ka=Ma;ka.pattern=qm(Ks),a.push(ka)}else o[Ks]=Ma})},Mt=Qt=>{a=[],Te(nt(o),Cn=>{delete o[Cn]}),Ke(Qt)},Yt=(Qt,Cn)=>{var xs,Ks;delete Zp.text_block_elements,delete Zp.block_elements;const Ma=Cn.extends?!Yd(Cn.extends):!1,Hi=Cn.extends;if(r[Qt]=Hi?r[Hi]:{},c[Qt]=Hi??Qt,ke[Qt.toUpperCase()]={},ke[Qt]={},Ma||(gt[Qt.toUpperCase()]={},gt[Qt]={}),Hi&&!o[Qt]&&o[Hi]){const ka=_b(o[Hi]);delete ka.removeEmptyAttrs,delete ka.removeEmpty,o[Qt]=ka}else o[Qt]={attributesOrder:[],attributes:{}};if(ye(Cn.attributes)){const ka=ic=>{_a.attributesOrder.push(ic),_a.attributes[ic]={}},_a=(xs=o[Qt])!==null&&xs!==void 0?xs:{};delete _a.attributesDefault,delete _a.attributesForced,delete _a.attributePatterns,delete _a.attributesRequired,_a.attributesOrder=[],_a.attributes={},Te(Cn.attributes,ic=>{const Tm=Gi(v);Br(ic).each(({preset:Om,name:Am})=>{Om?Am==="global"&&Te(Tm,ka):ka(Am)})}),o[Qt]=_a}if(ss(Cn.padEmpty)){const ka=(Ks=o[Qt])!==null&&Ks!==void 0?Ks:{};ka.paddEmpty=Cn.padEmpty,o[Qt]=ka}if(ye(Cn.children)){const ka={},_a=Tm=>{ka[Tm]={}},ic=Tm=>{Yg(v,Tm).each(Om=>{Te(Om,_a)})};Te(Cn.children,Tm=>{Br(Tm).each(({preset:Om,name:Am})=>{Om?ic(Am):_a(Am)})}),r[Qt]=ka}Hi&&Fo(r,(ka,_a)=>{ka[Hi]&&(r[_a]=ka=n1({},r[_a]),ka[Qt]=ka[Hi])})},qo=Qt=>{Te(un(Qt??""),({name:Cn,cloneName:xs})=>{Yt(Cn,{extends:xs})})},nn=Qt=>{ue(Qt)?Fo(Qt,(Cn,xs)=>Yt(xs,Cn)):Tt(Qt)&&qo(Qt)},Wn=Qt=>{Te(wb(Qt??""),({operation:Cn,name:xs,validChildren:Ks})=>{const Ma=Cn==="replace"?{"#comment":{}}:r[xs],Hi=_a=>{Cn==="remove"?delete Ma[_a]:Ma[_a]={}},ka=_a=>{Yg(v,_a).each(ic=>{Te(ic,Hi)})};Te(Ks,({preset:_a,name:ic})=>{_a?ka(ic):Hi(ic)}),r[xs]=Ma})},or=Qt=>{const Cn=o[Qt];if(Cn)return Cn;let xs=a.length;for(;xs--;){const Ks=a[xs];if(Ks.pattern.test(Qt))return Ks}},Ps=()=>{e.valid_elements?(Mt(e.valid_elements),Yc(z,(Qt,Cn)=>{r[Cn]=Qt.children})):(Yc(z,(Qt,Cn)=>{o[Cn]={attributes:Qt.attributes,attributesOrder:Qt.attributesOrder},r[Cn]=Qt.children}),Yc(ja("strong/b em/i"),Qt=>{const Cn=ja(Qt,"/");o[Cn[1]].outputName=Cn[0]}),Yc(Ot,(Qt,Cn)=>{o[Cn]&&(e.padd_empty_block_inline_children&&(o[Cn].paddInEmptyBlock=!0),o[Cn].removeEmpty=!0)}),Yc(ja("ol ul blockquote a table tbody"),Qt=>{o[Qt]&&(o[Qt].removeEmpty=!0)}),Yc(ja("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Qt=>{o[Qt]&&(o[Qt].paddEmpty=!0)}),Yc(ja("span"),Qt=>{o[Qt].removeEmptyAttrs=!0})),delete o.svg,nn(e.custom_elements),Wn(e.valid_children),Ke(e.extended_valid_elements),Wn("+ol[ul|ol],+ul[ul|ol]"),Yc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Qt,Cn)=>{o[Cn]&&(o[Cn].parentsRequired=ja(Qt))}),e.invalid_elements&&Yc(Cb(e.invalid_elements),Qt=>{o[Qt]&&delete o[Qt]}),or("span")||Ke("span[!data-mce-type|*]")},ol=$e(M),pr=$e(P),xt=$e(I),Gt=$e(re),Ln=$e(gt),_t=$e(Je),ro=$e(Ot),en=$e(Object.seal(Y)),zt=$e(oe),Go=$e(ke),sn=$e(ve),di=$e(K),er=$e(He),Ya=$e(Ne),kf=$e(Object.seal(d)),Dp=(Qt,Cn)=>{const xs=r[Qt.toLowerCase()];return!!(xs&&xs[Cn.toLowerCase()])},ac=(Qt,Cn)=>{const xs=or(Qt);if(xs)if(Cn){if(xs.attributes[Cn])return!0;const Ks=xs.attributePatterns;if(Ks){let Ma=Ks.length;for(;Ma--;)if(Ks[Ma].pattern.test(Cn))return!0}}else return!0;return!1},Yd=Qt=>mo(Ln(),Qt),_f=Qt=>!sr(Qt,"#")&&ac(Qt)&&!Yd(Qt),Xd=Qt=>mo(Ya(),Qt)||_f(Qt),wf=$e(c);return Ps(),{type:v,children:r,elements:o,getValidStyles:ol,getValidClasses:xt,getBlockElements:Ln,getInvalidStyles:pr,getVoidElements:en,getTextBlockElements:_t,getTextInlineElements:ro,getBoolAttrs:Gt,getElementRule:or,getSelfClosingElements:zt,getNonEmptyElements:Go,getMoveCaretBeforeOnEnterElements:sn,getWhitespaceElements:di,getTransparentElements:er,getSpecialElements:kf,isValidChild:Dp,isValid:ac,isBlock:Yd,isInline:_f,isWrapper:Xd,getCustomElements:wf,addValidElements:Ke,setValidElements:Mt,addCustomElements:nn,addValidChildren:Wn}},A_=e=>({value:Eb(e)}),Eb=e=>hi(e,"#").toUpperCase(),r1=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},zb=e=>{const t=r1(e.red)+r1(e.green)+r1(e.blue);return A_(t)},s1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,a1=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Tb=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),i1=(e,t,o,r)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),g=parseFloat(r);return Tb(a,c,d,g)},l1=e=>s1.test(e)?"rgb":a1.test(e)?"rgba":"other",Rv=e=>{const t=s1.exec(e);if(t!==null)return H.some(i1(t[1],t[2],t[3],"1"));const o=a1.exec(e);return o!==null?H.some(i1(o[1],o[2],o[3],o[4])):H.none()},N_=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Xg=e=>Rv(e).map(zb).map(t=>"#"+t.value).getOr(e),c1=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,g;const v=Wr;t&&(d=t.getValidStyles(),g=t.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let P=0;P<z.length;P++)c[z[P]]=v+P,c[v+P]=z[P];const M={parse:P=>{const I={};let K=!1;const oe=e.url_converter,Y=e.url_converter_scope||M,re=(He,Ne,Ke)=>{const Mt=I[He+"-top"+Ne];if(!Mt)return;const Yt=I[He+"-right"+Ne];if(!Yt)return;const qo=I[He+"-bottom"+Ne];if(!qo)return;const nn=I[He+"-left"+Ne];if(!nn)return;const Wn=[Mt,Yt,qo,nn];let or=Wn.length-1;for(;or--&&Wn[or]===Wn[or+1];);or>-1&&Ke||(I[He+Ne]=or===-1?Wn[0]:Wn.join(" "),delete I[He+"-top"+Ne],delete I[He+"-right"+Ne],delete I[He+"-bottom"+Ne],delete I[He+"-left"+Ne])},ge=He=>{const Ne=I[He];if(!Ne)return;const Ke=Ne.indexOf(",")>-1?[Ne]:Ne.split(" ");let Mt=Ke.length;for(;Mt--;)if(Ke[Mt]!==Ke[0])return!1;return I[He]=Ke[0],!0},ke=(He,Ne,Ke,Mt)=>{ge(Ne)&&ge(Ke)&&ge(Mt)&&(I[He]=I[Ne]+" "+I[Ke]+" "+I[Mt],delete I[Ne],delete I[Ke],delete I[Mt])},ve=He=>(K=!0,c[He]),ze=(He,Ne)=>(K&&(He=He.replace(/\uFEFF[0-9]/g,Ke=>c[Ke])),Ne||(He=He.replace(/\\([\'\";:])/g,"$1")),He),Je=He=>String.fromCharCode(parseInt(He.slice(1),16)),gt=He=>He.replace(/\\[0-9a-f]+/gi,Je),Ot=(He,Ne,Ke,Mt,Yt,qo)=>{if(Yt=Yt||qo,Yt)return Yt=ze(Yt),"'"+Yt.replace(/\'/g,"\\'")+"'";if(Ne=ze(Ne||Ke||Mt||""),!e.allow_script_urls){const nn=Ne.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(nn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(nn))return""}return oe&&(Ne=oe.call(Y,Ne,"style")),"url('"+Ne.replace(/\'/g,"\\'")+"')"};if(P){P=P.replace(/[\u0000-\u001F]/g,""),P=P.replace(/\\[\"\';:\uFEFF]/g,ve).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ne=>Ne.replace(/[;:]/g,ve));let He;for(;He=r.exec(P);){r.lastIndex=He.index+He[0].length;let Ne=He[1].replace(a,"").toLowerCase(),Ke=He[2].replace(a,"");if(Ne&&Ke){if(Ne=gt(Ne),Ke=gt(Ke),Ne.indexOf(v)!==-1||Ne.indexOf('"')!==-1||!e.allow_script_urls&&(Ne==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ke)))continue;Ne==="font-weight"&&Ke==="700"?Ke="bold":(Ne==="color"||Ne==="background-color")&&(Ke=Ke.toLowerCase()),l1(Ke)==="rgb"&&Rv(Ke).each(Mt=>{Ke=Xg(N_(Mt)).toLowerCase()}),Ke=Ke.replace(o,Ot),I[Ne]=K?ze(Ke,!0):Ke}}re("border","",!0),re("border","-width"),re("border","-color"),re("border","-style"),re("padding",""),re("margin",""),ke("border","border-width","border-style","border-color"),I.border==="medium none"&&delete I.border,I["border-image"]==="none"&&delete I["border-image"]}return I},serialize:(P,I)=>{let K="";const oe=(re,ge)=>{const ke=ge[re];if(ke)for(let ve=0,ze=ke.length;ve<ze;ve++){const Je=ke[ve],gt=P[Je];gt&&(K+=(K.length>0?" ":"")+Je+": "+gt+";")}},Y=(re,ge)=>{if(!g||!ge)return!0;let ke=g["*"];return ke&&ke[re]?!1:(ke=g[ge],!(ke&&ke[re]))};return I&&d?(oe("*",d),oe(I,d)):Fo(P,(re,ge)=>{re&&Y(ge,I)&&(K+=(K.length>0?" ":"")+ge+": "+re+";")}),K}};return M},Ym={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},R_=e=>e instanceof Event||Pt(e.initEvent),D_=e=>e.isDefaultPrevented===wo||e.isDefaultPrevented===hn,Ku=e=>Lo(e.preventDefault)||R_(e),Wf=(e,t)=>{const o=t??{};for(const r in e)mo(Ym,r)||(o[r]=e[r]);return Fe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Fe(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Fe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Ob=(e,t,o,r)=>{var a;const c=Wf(t,r);return c.type=e,Lo(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),Ku(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=wo,Pt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=wo,Pt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=wo,c.stopPropagation()},D_(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?wo:hn,c.isPropagationStopped=c.cancelBubble===!0?wo:hn,c.isImmediatePropagationStopped=hn)),c},Dv="mce-data-",d1=/^(?:mouse|contextmenu)|click/,Jg=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},bu=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Ab=e=>Fe(e)&&d1.test(e.type),qs=(e,t)=>{const o=Ob(e.type,e,document,t);if(Ab(e)&&gr(e.pageX)&&!gr(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,c=r.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},ms=(e,t,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,d=()=>{bu(e,"DOMContentLoaded",d),bu(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Jg(e,"DOMContentLoaded",d),o.domLoaded||Jg(e,"load",d)};class Yu{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Dv+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,a){const c=this;let d;const g=window,v=I=>{c.executeHandlers(qs(I||g.event),z)};if(!t||it(t)||Bo(t))return r;let z;t[c.expando]?z=t[c.expando]:(z=c.count++,t[c.expando]=z,c.events[z]={}),a=a||t;const M=o.split(" ");let P=M.length;for(;P--;){let I=M[P],K=v,oe=!1,Y=!1;if(I==="DOMContentLoaded"&&(I="ready"),c.domLoaded&&I==="ready"&&t.readyState==="complete"){r.call(a,qs({type:I}));continue}!c.hasFocusIn&&(I==="focusin"||I==="focusout")&&(oe=!0,Y=I==="focusin"?"focus":"blur",K=re=>{const ge=qs(re||g.event);ge.type=ge.type==="focus"?"focusin":"focusout",c.executeHandlers(ge,z)}),d=c.events[z][I],d?I==="ready"&&c.domLoaded?r(qs({type:I})):d.push({func:r,scope:a}):(c.events[z][I]=d=[{func:r,scope:a}],d.fakeName=Y,d.capture=oe,d.nativeHandler=K,I==="ready"?ms(t,K,c):Jg(t,Y||I,K,oe))}return t=d=null,r}unbind(t,o,r){if(!t||it(t)||Bo(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let g=d.length;for(;g--;){const v=d[g],z=c[v];if(z){if(r){let M=z.length;for(;M--;)if(z[M].func===r){const P=z.nativeHandler,I=z.fakeName,K=z.capture,oe=z.slice(0,M).concat(z.slice(M+1));oe.nativeHandler=P,oe.fakeName=I,oe.capture=K,c[v]=oe}}(!r||z.length===0)&&(delete c[v],bu(t,z.fakeName||v,z.nativeHandler,z.capture))}}}else Fo(c,(d,g)=>{bu(t,d.fakeName||g,d.nativeHandler,d.capture)}),c={};for(const d in c)if(mo(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||it(t)||Bo(t))return this;const a=qs({type:o,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||it(t)||Bo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],a=r&&r[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Yu.Event=new Yu;const u1=ft.each,Nb=ft.grep,Aa="data-mce-style",Mi=ft.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Xm=(e,t,o)=>{Lo(o)||o===""?$o(e,t):ws(e,t,o)},Xu=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),qf=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&it(a)&&(c===r||!a.data.length)||(o++,r=c)}return o},Rb=(e,t)=>{const o=za(t,"style"),r=e.serialize(e.parse(o),rn(t));Xm(t,Aa,r)},Mv=(e,t)=>O(e)?mo(Mi,t)?e+"":e+"px":e,f1=(e,t,o)=>{const r=Xu(t);Lo(o)||o===""?Wl(e,r):ni(e,r,Mv(o,r))},Gf=(e,t,o)=>{const r=t.keep_values,a={set:(d,g,v)=>{const z=de.fromDom(d);Pt(t.url_converter)&&Fe(g)&&(g=t.url_converter.call(t.url_converter_scope||o(),String(g),v,d));const M="data-mce-"+v;Xm(z,M,g),Xm(z,v,g)},get:(d,g)=>{const v=de.fromDom(d);return za(v,"data-mce-"+g)||za(v,g)}},c={style:{set:(d,g)=>{const v=de.fromDom(d);r&&Xm(v,Aa,g),$o(v,"style"),Tt(g)&&Xo(v,e.parse(g))},get:d=>{const g=de.fromDom(d),v=za(g,Aa)||za(g,"style");return e.serialize(e.parse(v),rn(g))}}};return r&&(c.href=c.src=a),c},fr=(e,t={})=>{const o={},r=window,a={};let c=0;const d=!0,g=!0,v=Mr.forElement(de.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),z=[],M=t.schema?t.schema:zc({}),P=c1({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),I=t.ownEvents?new Yu:Yu.Event,K=M.getBlockElements(),oe=Ae=>Tt(Ae)?mo(K,Ae):It(Ae)&&(mo(K,Ae.nodeName)||Cc(M,Ae)),Y=Ae=>Ae&&e&&Tt(Ae)?e.getElementById(Ae):Ae,re=Ae=>{const Re=Y(Ae);return Fe(Re)?de.fromDom(Re):null},ge=(Ae,Re,vt="")=>{let pt;const fo=re(Ae);if(Fe(fo)&&Jr(fo)){const mn=W4[Re];mn&&mn.get?pt=mn.get(fo.dom,Re):pt=za(fo,Re)}return Fe(pt)?pt:vt},ke=Ae=>{const Re=Y(Ae);return Lo(Re)?[]:Re.attributes},ve=(Ae,Re,vt)=>{Gt(Ae,pt=>{if(It(pt)){const fo=de.fromDom(pt),mn=vt===""?null:vt,ks=za(fo,Re),Nm=W4[Re];Nm&&Nm.set?Nm.set(fo.dom,mn,Re):Xm(fo,Re,mn),ks!==mn&&t.onSetAttrib&&t.onSetAttrib({attrElm:fo.dom,attrName:Re,attrValue:mn})}})},ze=(Ae,Re)=>Ae.cloneNode(Re),Je=()=>t.root_element||e.body,gt=Ae=>{const Re=Cl(Ae);return{x:Re.x,y:Re.y,w:Re.width,h:Re.height}},Ot=(Ae,Re)=>jg(e.body,Y(Ae),Re),He=(Ae,Re,vt)=>{Gt(Ae,pt=>{const fo=de.fromDom(pt);f1(fo,Re,vt),t.update_styles&&Rb(P,fo)})},Ne=(Ae,Re)=>{Gt(Ae,vt=>{const pt=de.fromDom(vt);Fo(Re,(fo,mn)=>{f1(pt,mn,fo)}),t.update_styles&&Rb(P,pt)})},Ke=(Ae,Re,vt)=>{const pt=Y(Ae);if(!(Lo(pt)||!Gl(pt)&&!Pf(pt)))return vt?es(de.fromDom(pt),Xu(Re)):(Re=Re.replace(/-(\D)/g,(fo,mn)=>mn.toUpperCase()),Re==="float"&&(Re="cssFloat"),pt.style?pt.style[Re]:void 0)},Mt=Ae=>{const Re=Y(Ae);if(!Re)return{w:0,h:0};let vt=Ke(Re,"width"),pt=Ke(Re,"height");return(!vt||vt.indexOf("px")===-1)&&(vt="0"),(!pt||pt.indexOf("px")===-1)&&(pt="0"),{w:parseInt(vt,10)||Re.offsetWidth||Re.clientWidth,h:parseInt(pt,10)||Re.offsetHeight||Re.clientHeight}},Yt=Ae=>{const Re=Y(Ae),vt=Ot(Re),pt=Mt(Re);return{x:vt.x,y:vt.y,w:pt.w,h:pt.h}},qo=(Ae,Re)=>{if(!Ae)return!1;const vt=ye(Ae)?Ae:[Ae];return Sn(vt,pt=>Un(de.fromDom(pt),Re))},nn=(Ae,Re,vt,pt)=>{const fo=[];let mn=Y(Ae);pt=pt===void 0;const ks=vt||(Je().nodeName!=="BODY"?Je().parentNode:null);if(Tt(Re))if(Re==="*")Re=It;else{const Nm=Re;Re=HN=>qo(HN,Nm)}for(;mn&&!(mn===ks||Lo(mn.nodeType)||jt(mn)||Ad(mn));){if(!Re||Re(mn))if(pt)fo.push(mn);else return[mn];mn=mn.parentNode}return pt?fo:null},Wn=(Ae,Re,vt)=>{const pt=nn(Ae,Re,vt,!1);return pt&&pt.length>0?pt[0]:null},or=(Ae,Re,vt)=>{let pt=Re;if(Ae){Tt(Re)&&(pt=fo=>qo(fo,Re));for(let fo=Ae[vt];fo;fo=fo[vt])if(Pt(pt)&&pt(fo))return fo}return null},Ps=(Ae,Re)=>or(Ae,Re,"nextSibling"),ol=(Ae,Re)=>or(Ae,Re,"previousSibling"),pr=Ae=>Pt(Ae.querySelectorAll),xt=(Ae,Re)=>{var vt,pt;const fo=(pt=(vt=Y(Re))!==null&&vt!==void 0?vt:t.root_element)!==null&&pt!==void 0?pt:e;return pr(fo)?Vo(fo.querySelectorAll(Ae)):[]},Gt=function(Ae,Re,vt){const pt=vt??this;if(ye(Ae)){const fo=[];return u1(Ae,(mn,ks)=>{const Nm=Y(mn);Nm&&fo.push(Re.call(pt,Nm,ks))}),fo}else{const fo=Y(Ae);return fo?Re.call(pt,fo):!1}},Ln=(Ae,Re)=>{Gt(Ae,vt=>{Fo(Re,(pt,fo)=>{ve(vt,fo,pt)})})},_t=(Ae,Re)=>{Gt(Ae,vt=>{const pt=de.fromDom(vt);ql(pt,Re)})},ro=(Ae,Re,vt,pt,fo)=>Gt(Ae,mn=>{const ks=Tt(Re)?e.createElement(Re):Re;return Fe(vt)&&Ln(ks,vt),pt&&(!Tt(pt)&&pt.nodeType?ks.appendChild(pt):Tt(pt)&&_t(ks,pt)),fo?ks:mn.appendChild(ks)}),en=(Ae,Re,vt)=>ro(e.createElement(Ae),Ae,Re,vt,!0),zt=Wm.decode,Go=Wm.encodeAllRaw,sn=(Ae,Re,vt="")=>{let pt="<"+Ae;for(const fo in Re)Ba(Re,fo)&&(pt+=" "+fo+'="'+Go(Re[fo])+'"');return bi(vt)&&mo(M.getVoidElements(),Ae)?pt+" />":pt+">"+vt+"</"+Ae+">"},di=Ae=>{const Re=e.createElement("div"),vt=e.createDocumentFragment();vt.appendChild(Re),Ae&&(Re.innerHTML=Ae);let pt;for(;pt=Re.firstChild;)vt.appendChild(pt);return vt.removeChild(Re),vt},er=(Ae,Re)=>Gt(Ae,vt=>{const pt=de.fromDom(vt);return Re&&Te(ga(pt),fo=>{vr(fo)&&fo.dom.length===0?Mn(fo):Nr(pt,fo)}),Mn(pt),pt.dom}),Ya=Ae=>Gt(Ae,Re=>{const vt=Re.attributes;for(let pt=vt.length-1;pt>=0;pt--)Re.removeAttributeNode(vt.item(pt))}),kf=Ae=>P.parse(Ae),Dp=(Ae,Re)=>P.serialize(Ae,Re),ac=Ae=>{if(Lg!==fr.DOM&&e===document){if(o[Ae])return;o[Ae]=!0}let Re=e.getElementById("mceDefaultStyles");if(!Re){Re=e.createElement("style"),Re.id="mceDefaultStyles",Re.type="text/css";const vt=e.head;vt.firstChild?vt.insertBefore(Re,vt.firstChild):vt.appendChild(Re)}Re.styleSheet?Re.styleSheet.cssText+=Ae:Re.appendChild(e.createTextNode(Ae))},Yd=Ae=>{Ae||(Ae=""),Te(Ae.split(","),Re=>{a[Re]=!0,v.load(Re).catch(Qe)})},_f=(Ae,Re,vt)=>{Gt(Ae,pt=>{if(It(pt)){const fo=de.fromDom(pt),mn=Re.split(" ");Te(mn,ks=>{Fe(vt)?(vt?Vl:Ta)(fo,ks):Iu(fo,ks)})}})},Xd=(Ae,Re)=>{_f(Ae,Re,!0)},wf=(Ae,Re)=>{_f(Ae,Re,!1)},Qt=(Ae,Re)=>{const vt=re(Ae),pt=Re.split(" ");return Fe(vt)&&Yr(pt,fo=>mc(vt,fo))},Cn=Ae=>{Gt(Ae,Re=>Wl(de.fromDom(Re),"display"))},xs=Ae=>{Gt(Ae,Re=>ni(de.fromDom(Re),"display","none"))},Ks=Ae=>{const Re=re(Ae);return Fe(Re)&&hd(Ar(Re,"display"),"none")},Ma=Ae=>(Ae||"mce_")+c++,Hi=Ae=>{const Re=re(Ae);return Fe(Re)?It(Re.dom)?Re.dom.outerHTML:xc(Re):""},ka=(Ae,Re)=>{Gt(Ae,vt=>{It(vt)&&(vt.outerHTML=Re)})},_a=(Ae,Re)=>{const vt=Y(Re);return Gt(Ae,pt=>{const fo=vt==null?void 0:vt.parentNode,mn=vt==null?void 0:vt.nextSibling;return fo&&(mn?fo.insertBefore(pt,mn):fo.appendChild(pt)),pt})},ic=(Ae,Re,vt)=>Gt(Re,pt=>{var fo;const mn=ye(Re)?Ae.cloneNode(!0):Ae;return vt&&u1(Nb(pt.childNodes),ks=>{mn.appendChild(ks)}),(fo=pt.parentNode)===null||fo===void 0||fo.replaceChild(mn,pt),pt}),Tm=(Ae,Re)=>{if(Ae.nodeName!==Re.toUpperCase()){const vt=en(Re);return u1(ke(Ae),pt=>{ve(vt,pt.nodeName,ge(Ae,pt.nodeName))}),ic(vt,Ae,!0),vt}else return Ae},Om=(Ae,Re)=>{let vt=Ae;for(;vt;){let pt=Re;for(;pt&&vt!==pt;)pt=pt.parentNode;if(vt===pt)break;vt=vt.parentNode}return!vt&&Ae.ownerDocument?Ae.ownerDocument.documentElement:vt},Am=(Ae,Re,vt)=>Dt(Re)?ll(M,Ae,{...vt,isContent:fo=>{const mn=fo.nodeName.toLowerCase();return!!Re[mn]}}):ll(M,Ae,vt),Cf=()=>e.createRange(),Xy=(Ae,Re,vt)=>{let pt=Cf(),fo,mn;if(Ae&&Re&&Ae.parentNode&&Re.parentNode){const ks=Ae.parentNode;return pt.setStart(ks,qf(Ae)),pt.setEnd(Re.parentNode,qf(Re)),fo=pt.extractContents(),pt=Cf(),pt.setStart(Re.parentNode,qf(Re)+1),pt.setEnd(ks,qf(Ae)+1),mn=pt.extractContents(),ks.insertBefore(jp(Lg,fo,M),Ae),vt?ks.insertBefore(vt,Ae):ks.insertBefore(Re,Ae),ks.insertBefore(jp(Lg,mn,M),Ae),er(Ae),vt||Re}else return},E_=(Ae,Re,vt,pt)=>{if(ye(Ae)){let fo=Ae.length;const mn=[];for(;fo--;)mn[fo]=E_(Ae[fo],Re,vt,pt);return mn}else return t.collect&&(Ae===e||Ae===r)&&z.push([Ae,Re,vt,pt]),I.bind(Ae,Re,vt,pt||Lg)},z_=(Ae,Re,vt)=>{if(ye(Ae)){let pt=Ae.length;const fo=[];for(;pt--;)fo[pt]=z_(Ae[pt],Re,vt);return fo}else{if(z.length>0&&(Ae===e||Ae===r)){let pt=z.length;for(;pt--;){const[fo,mn,ks]=z[pt];Ae===fo&&(!Re||Re===mn)&&(!vt||vt===ks)&&I.unbind(fo,mn,ks)}}return I.unbind(Ae,Re,vt)}},X7=(Ae,Re,vt)=>I.dispatch(Ae,Re,vt),gb=(Ae,Re,vt)=>I.dispatch(Ae,Re,vt),FN=Ae=>{if(Ae&&Gl(Ae)){const Re=Ae.getAttribute("data-mce-contenteditable");return Re&&Re!=="inherit"?Re:Ae.contentEditable!=="inherit"?Ae.contentEditable:null}else return null},Lg={doc:e,settings:t,win:r,files:a,stdMode:d,boxModel:g,styleSheetLoader:v,boundEvents:z,styles:P,schema:M,events:I,isBlock:oe,root:null,clone:ze,getRoot:Je,getViewPort:gt,getRect:Yt,getSize:Mt,getParent:Wn,getParents:nn,get:Y,getNext:Ps,getPrev:ol,select:xt,is:qo,add:ro,create:en,createHTML:sn,createFragment:di,remove:er,setStyle:He,getStyle:Ke,setStyles:Ne,removeAllAttribs:Ya,setAttrib:ve,setAttribs:Ln,getAttrib:ge,getPos:Ot,parseStyle:kf,serializeStyle:Dp,addStyle:ac,loadCSS:Yd,addClass:Xd,removeClass:wf,hasClass:Qt,toggleClass:_f,show:Cn,hide:xs,isHidden:Ks,uniqueId:Ma,setHTML:_t,getOuterHTML:Hi,setOuterHTML:ka,decode:zt,encode:Go,insertAfter:_a,replace:ic,rename:Tm,findCommonAncestor:Om,run:Gt,getAttribs:ke,isEmpty:Am,createRng:Cf,nodeIndex:qf,split:Xy,bind:E_,unbind:z_,fire:gb,dispatch:X7,getContentEditable:FN,getContentEditableParent:Ae=>{const Re=Je();let vt=null;for(let pt=Ae;pt&&pt!==Re&&(vt=FN(pt),vt===null);pt=pt.parentNode);return vt},isEditable:Ae=>{if(Fe(Ae)){const Re=It(Ae)?Ae:Ae.parentElement;return Fe(Re)&&Gl(Re)&&Or(de.fromDom(Re))}else return!1},destroy:()=>{if(z.length>0){let Ae=z.length;for(;Ae--;){const[Re,vt,pt]=z[Ae];I.unbind(Re,vt,pt)}}Fo(a,(Ae,Re)=>{v.unload(Re),delete a[Re]})},isChildOf:(Ae,Re)=>Ae===Re||Re.contains(Ae),dumpRng:Ae=>"startContainer: "+Ae.startContainer.nodeName+", startOffset: "+Ae.startOffset+", endContainer: "+Ae.endContainer.nodeName+", endOffset: "+Ae.endOffset},W4=Gf(P,t,$e(Lg));return Lg};fr.DOM=fr(document),fr.nodeIndex=qf;const Db=fr.DOM,Pr=0,Dd=1,Xc=2,Jm=3;class Ki{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,r)=>{const a=Db;let c;const d=()=>{a.remove(z),c&&(c.onerror=c.onload=c=null)},g=()=>{d(),o()},v=()=>{d(),r("Failed to load script: "+t)},z=a.uniqueId();c=document.createElement("script"),c.id=z,c.type="text/javascript",c.src=ft._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===Xc}markDone(t){this.states[t]=Xc}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Pr),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(v,z)=>{Nn(o.scriptLoadedCallbacks,z).each(M=>{Te(M,P=>P[v](z))}),delete o.scriptLoadedCallbacks[z]},a=v=>{const z=Xe(v,M=>M.status==="rejected");return z.length>0?Promise.reject(Tn(z,({reason:M})=>ye(M)?M:[M])):Promise.resolve()},c=v=>Promise.allSettled(Ko(v,z=>o.states[z]===Xc?(r("resolve",z),Promise.resolve()):o.states[z]===Jm?(r("reject",z),Promise.reject(z)):(o.states[z]=Dd,o.loadScript(z).then(()=>{o.states[z]=Xc,r("resolve",z);const M=o.queue;return M.length>0?(o.queue=[],c(M).then(a)):Promise.resolve()},()=>(o.states[z]=Jm,r("reject",z),Promise.reject(z)))))),d=v=>(o.loading=!0,c(v).then(z=>{o.loading=!1;const M=o.queueLoadedCallbacks.shift();return H.from(M).each(gn),a(z)})),g=ud(t);return o.loading?new Promise((v,z)=>{o.queueLoadedCallbacks.push(()=>{d(g).then(v,z)})}):d(g)}}Ki.ScriptLoader=new Ki;const Ua=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Kf=e=>ue(e)&&mo(e,"raw"),Qg=e=>ye(e)&&e.length>1,Qm={},eh=hs("en"),ep=()=>Nn(Qm,eh.get()),Tc={getData:()=>Ti(Qm,e=>({...e})),setCode:e=>{e&&eh.set(e)},getCode:()=>eh.get(),add:(e,t)=>{let o=Qm[e];o||(Qm[e]=o={});const r=Ko(nt(t),a=>a.toLowerCase());Fo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&Ua(r,d)?(mo(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=ep().getOr({}),o=d=>Pt(d)?Object.prototype.toString.call(d):r(d)?"":""+d,r=d=>d===""||d===null||d===void 0,a=d=>{const g=o(d);return mo(t,g)?o(t[g]):Nn(t,g.toLowerCase()).map(o).getOr(g)},c=d=>d.replace(/{context:\w+}$/,"");if(r(e))return"";if(Kf(e))return o(e.raw);if(Qg(e)){const d=e.slice(1),g=a(e[0]).replace(/\{([0-9]+)\}/g,(v,z)=>mo(d,z)?o(d[z]):v);return c(g)}return c(a(e))},isRtl:()=>ep().bind(e=>Nn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>mo(Qm,e)},Bi=()=>{const e=[],t={},o={},r=[],a=(Y,re)=>{const ge=Xe(r,ke=>ke.name===Y&&ke.state===re);Te(ge,ke=>ke.resolve())},c=Y=>mo(t,Y),d=Y=>mo(o,Y),g=Y=>{if(o[Y])return o[Y].instance},v=(Y,re)=>{const ge=Tc.getCode(),ke=","+(re||"")+",";!ge||re&&ke.indexOf(","+ge+",")===-1||Ki.ScriptLoader.add(t[Y]+"/langs/"+ge+".js")},z=(Y,re)=>{Bi.languageLoad!==!1&&(c(Y)?v(Y,re):oe(Y,"loaded").then(()=>v(Y,re)))},M=(Y,re)=>(e.push(re),o[Y]={instance:re},a(Y,"added"),re),P=Y=>{delete t[Y],delete o[Y]},I=(Y,re)=>Tt(re)?Tt(Y)?{prefix:"",resource:re,suffix:""}:{prefix:Y.prefix,resource:re,suffix:Y.suffix}:re,K=(Y,re)=>{if(t[Y])return Promise.resolve();let ge=Tt(re)?re:re.prefix+re.resource+re.suffix;ge.indexOf("/")!==0&&ge.indexOf("://")===-1&&(ge=Bi.baseURL+"/"+ge),t[Y]=ge.substring(0,ge.lastIndexOf("/"));const ke=()=>(a(Y,"loaded"),Promise.resolve());return o[Y]?ke():Ki.ScriptLoader.add(ge).then(ke)},oe=(Y,re="added")=>re==="added"&&d(Y)||re==="loaded"&&c(Y)?Promise.resolve():new Promise(ge=>{r.push({name:Y,state:re,resolve:ge})});return{items:e,urls:t,lookup:o,get:g,requireLangPack:z,add:M,remove:P,createUrl:I,load:K,waitFor:oe}};Bi.languageLoad=!0,Bi.baseURL="",Bi.PluginManager=Bi(),Bi.ThemeManager=Bi(),Bi.ModelManager=Bi();const tp=(e,t)=>{let o=null;return{cancel:()=>{ht(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{ht(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},qp=(e,t)=>{let o=null;const r=()=>{ht(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...c)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},Iv=(e,t,o)=>xl(e,t,o).isSome(),os=$e("mce-annotation"),ns=$e("data-mce-annotation"),Ss=$e("data-mce-annotation-uid"),qn=$e("data-mce-annotation-active"),Gr=$e("data-mce-annotation-classes"),bs=$e("data-mce-annotation-attrs"),Mb=e=>t=>on(t,e),Bb=(e,t)=>{const o=e.selection.getRng(),r=de.fromDom(o.startContainer),a=de.fromDom(e.getBody()),c=t.fold(()=>"."+os(),v=>`[${ns()}="${v}"]`),d=hc(r,o.startOffset).getOr(r);return js(d,c,Mb(a)).bind(v=>gs(v,`${Ss()}`).bind(z=>gs(v,`${ns()}`).map(M=>{const P=h1(e,z);return{uid:z,name:M,elements:P}})))},g1=e=>Jr(e)&&mc(e,os()),th=(e,t)=>Uc(e,"data-mce-bogus")||Iv(e,'[data-mce-bogus="all"]',Mb(t)),h1=(e,t)=>{const o=de.fromDom(e.getBody()),r=Cs(o,`[${Ss()}="${t}"]`);return Xe(r,a=>!th(a,o))},op=(e,t)=>{const o=de.fromDom(e.getBody()),r=Cs(o,`[${ns()}="${t}"]`),a={};return Te(r,c=>{if(!th(c,o)){const d=za(c,Ss()),g=Nn(a,d).getOr([]);a[d]=g.concat([c])}}),a},Pb=(e,t)=>{const o=hs({}),r=()=>({listeners:[],previous:Us()}),a=(P,I)=>{c(P,K=>(I(K),K))},c=(P,I)=>{const K=o.get(),oe=Nn(K,P).getOrThunk(r),Y=I(oe);K[P]=Y,o.set(K)},d=(P,I,K)=>{a(P,oe=>{Te(oe.listeners,Y=>Y(!0,P,{uid:I,nodes:Ko(K,re=>re.dom)}))})},g=P=>{a(P,I=>{Te(I.listeners,K=>K(!1,P))})},v=(P,I)=>{Te(h1(e,P),K=>{I?ws(K,qn(),"true"):$o(K,qn())})},z=qp(()=>{const P=Yo(t.getNames());Te(P,I=>{c(I,K=>{const oe=K.previous.get();return Bb(e,H.some(I)).fold(()=>{oe.each(Y=>{g(I),K.previous.clear(),v(Y,!1)})},({uid:Y,name:re,elements:ge})=>{hd(oe,Y)||(oe.each(ke=>v(ke,!1)),d(re,Y,ge),K.previous.set(Y),v(Y,!0))}),{previous:K.previous,listeners:K.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(P,I)=>{c(P,K=>({previous:K.previous,listeners:K.listeners.concat([I])}))}}},Lb=(e,t)=>{const o=ns(),r=c=>H.from(c.attr(o)).bind(t.lookup),a=c=>{var d,g;c.attr(Ss(),null),c.attr(ns(),null),c.attr(qn(),null);const v=H.from(c.attr(bs())).map(I=>I.split(",")).getOr([]),z=H.from(c.attr(Gr())).map(I=>I.split(",")).getOr([]);Te(v,I=>c.attr(I,null));const M=(g=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&g!==void 0?g:[],P=Fn(M,[os()].concat(z));c.attr("class",P.length>0?P.join(" "):null),c.attr(Gr(),null),c.attr(bs(),null)};e.serializer.addTempAttr(qn()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)r(d).each(g=>{g.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},b1=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Nn(e,a).map(c=>c.settings),getNames:()=>nt(e)}},oh=(e,t,o)=>Math.min(Math.max(e,t),o),Yi=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let y1=0;const ki=e=>{const o=new Date().getTime(),r=Math.floor(Yi()*1e9);return y1++,e+"_"+r+y1+String(o)},nh=(e,t)=>{Te(t,o=>{Vl(e,o)})},np=(e,t)=>{Te(t,o=>{Ta(e,o)})},Jc=(e,t)=>de.fromDom(e.dom.cloneNode(t)),ys=e=>Jc(e,!1),Xf=e=>Jc(e,!0),v1=(e,t)=>{const o=de.fromTag(t),r=La(e);return Pa(o,r),o},x1=(e,t)=>{const o=v1(e,t);we(e,o);const r=ga(e);return fs(o,r),Mn(e),o},rh=(e,t,o=hn)=>{const r=new Oa(e,t),a=c=>{let d;do d=r[c]();while(d&&!it(d)&&!o(d));return H.from(d).filter(it)};return{current:()=>H.from(r.current()).filter(it),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},yu=(e,t)=>{const o=t||(d=>e.isBlock(d)||zr(d)||_o(d)),r=(d,g,v,z)=>{if(it(d)){const M=z(d,g,d.data);if(M!==-1)return H.some({container:d,offset:M})}return v().bind(M=>r(M.container,M.offset,v,z))};return{backwards:(d,g,v,z)=>{const M=rh(d,z??e.getRoot(),o);return r(d,g,()=>M.prev().map(P=>({container:P,offset:P.length})),v).getOrNull()},forwards:(d,g,v,z)=>{const M=rh(d,z??e.getRoot(),o);return r(d,g,()=>M.next().map(P=>({container:P,offset:0})),v).getOrNull()}}},sh=((e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:o,getOption:r,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}})(vr,"text"),Jf=e=>sh.get(e),Fv=e=>sh.getOption(e),ah=(e,t)=>sh.set(e,t),ih=["td","th"],Ib=["thead","tbody","tfoot"],Gp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Fb=["li","dd","dt"],_i=["ul","ol","dl"],k1=["pre","script","textarea","style"],vu=e=>{let t;return o=>(t=t||Sr(e,wo),mo(t,rn(o)))},lh=e=>rn(e)==="table",Md=e=>Jr(e)&&rn(e)==="br",ch=vu(Gp),dh=vu(_i),Qf=vu(Fb),rp=vu(Ib),Oc=vu(ih),uh=vu(k1),B_=e=>{const t=[];let o=e.dom;for(;o;)t.push(de.fromDom(o)),o=o.lastChild;return t},Jl=e=>{const t=Cs(e,"br"),o=Xe(B_(e).slice(-1),Md);t.length===o.length&&Te(o,Mn)},xu=()=>{const e=de.fromTag("br");return ws(e,"data-mce-bogus","1"),e},Ac=e=>{ir(e),ts(e,xu())},_1=(e,t)=>{bc(e).each(o=>{Ds(o).each(r=>{t.isBlock(rn(e))&&Md(o)&&t.isBlock(rn(r))&&Mn(o)})})},na=Wr,Nc=qc,Xi=Df,P_=e=>e.insertContent(na,{preserve_zwsp:!0}),Ju=It,ku=it,Kp=e=>(ku(e)&&(e=e.parentNode),Ju(e)&&e.hasAttribute("data-mce-caret")),em=e=>ku(e)&&Nc(e.data),Al=e=>Kp(e)||em(e),Hb=e=>e.firstChild!==e.lastChild||!zr(e.firstChild),$b=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(na),c=e.parentNode;if(t){const d=e.previousSibling;if(ku(d)){if(Al(d))return d;if(_u(d))return d.splitText(d.data.length-1)}c==null||c.insertBefore(a,e)}else{const d=e.nextSibling;if(ku(d)){if(Al(d))return d;if(mh(d))return d.splitText(1),d}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},fh=e=>{const t=e.container();return it(t)?t.data.charAt(e.offset())===na||e.isAtStart()&&em(t.previousSibling):!1},Vb=e=>{const t=e.container();return it(t)?t.data.charAt(e.offset()-1)===na||e.isAtEnd()&&em(t.nextSibling):!1},Hv=(e,t,o)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(xu().dom);const d=t.parentNode;return o?d==null||d.insertBefore(c,t):t.nextSibling?d==null||d.insertBefore(c,t.nextSibling):d==null||d.appendChild(c),c},mh=e=>ku(e)&&e.data[0]===na,_u=e=>ku(e)&&e.data[e.data.length-1]===na,ph=e=>{var t;const o=e.getElementsByTagName("br"),r=o[o.length-1];Td(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},sp=e=>e&&e.hasAttribute("data-mce-caret")?(ph(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,ap=e=>Kp(e.startContainer),Qu=Math.round,ef=e=>e?{left:Qu(e.left),top:Qu(e.top),bottom:Qu(e.bottom),right:Qu(e.right),width:Qu(e.width),height:Qu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},gh=(e,t)=>(e=ef(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),tf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,of=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,nf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:of(t.top-e.bottom,e,t)},ip=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:of(t.bottom-e.top,e,t),jb=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,Yp=e=>ao(e,(t,o)=>t.fold(()=>H.some(o),r=>{const a=Math.min(o.left,r.left),c=Math.min(o.top,r.top),d=Math.max(o.right,r.right),g=Math.max(o.bottom,r.bottom);return H.some({top:c,right:d,bottom:g,left:a,width:d-a,height:g-c})}),H.none()),Ub=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-a)*(o-a))},w1=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Xp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},ra=(e,t)=>{if(It(e)&&e.hasChildNodes()){const o=e.childNodes,r=oh(t,0,o.length-1);return o[r]}else return e},C1=(e,t)=>{if(!(t<0&&It(e)&&e.hasChildNodes()))return ra(e,t)},$v=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),S1=e=>Tt(e)&&e.charCodeAt(0)>=768&&$v.test(e),E1=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},rf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Zb=zl,hh=_o,z1=zr,L_=it,sf=ba(["script","style","textarea"]),bh=ba(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Vv=ba(["table"]),jv=Al,Qc=e=>jv(e)?!1:L_(e)?!sf(e.parentNode):bh(e)||z1(e)||Vv(e)||Wb(e),T1=e=>It(e)&&e.getAttribute("unselectable")==="true",Wb=e=>!T1(e)&&hh(e),Uv=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Wb(o))return!1;if(Zb(o))return!0}return!0},lp=e=>Wb(e)?!ao(Vo(e.getElementsByTagName("*")),(t,o)=>t||Zb(o),!1):!1,Jp=e=>bh(e)||lp(e),yh=(e,t)=>Qc(e)&&Uv(e,t),Zv=It,ed=Qc,tm=Sl("display","block table"),vh=Sl("float","left right"),xh=rf(Zv,ed,et(vh)),qb=et(Sl("white-space","pre pre-line pre-wrap")),kh=it,Wa=zr,Gb=fr.nodeIndex,om=C1,nm=e=>e?e.createRange():fr.DOM.createRng(),_h=e=>Tt(e)&&/[\r\n\t ]/.test(e),Kb=e=>!!e.setStart&&!!e.setEnd,cp=e=>{const t=e.startContainer,o=e.startOffset;if(_h(e.toString())&&qb(t.parentNode)&&it(t)){const r=t.data;if(_h(r[o-1])||_h(r[o+1]))return!0}return!1},af=e=>{const t=e.ownerDocument,o=nm(t),r=t.createTextNode(oa),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const c=ef(o.getBoundingClientRect());return a.removeChild(r),c},O1=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===o&&it(o)&&r===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),Pi(c)}else return null},Yb=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Pi=e=>{var t;let o;const r=e.getClientRects();return r.length>0?o=ef(r[0]):o=ef(e.getBoundingClientRect()),!Kb(e)&&Wa(e)&&Yb(o)?af(e):Yb(o)&&Kb(e)&&(t=O1(e))!==null&&t!==void 0?t:o},lf=(e,t)=>{const o=gh(e,t);return o.width=1,o.right=o.left+1,o},A1=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&tf(d,t[t.length-1])||t.push(d))},r=(d,g)=>{const v=nm(d.ownerDocument);if(g<d.data.length){if(S1(d.data[g]))return;if(S1(d.data[g-1])&&(v.setStart(d,g),v.setEnd(d,g+1),!cp(v))){o(lf(Pi(v),!1));return}}g>0&&(v.setStart(d,g-1),v.setEnd(d,g),cp(v)||o(lf(Pi(v),!1))),g<d.data.length&&(v.setStart(d,g),v.setEnd(d,g+1),cp(v)||o(lf(Pi(v),!0)))},a=e.container(),c=e.offset();if(kh(a))return r(a,c),t;if(Zv(a))if(e.isAtEnd()){const d=om(a,c);kh(d)&&r(d,d.data.length),xh(d)&&!Wa(d)&&o(lf(Pi(d),!1))}else{const d=om(a,c);if(kh(d)&&r(d,0),xh(d)&&e.isAtEnd())return o(lf(Pi(d),!1)),t;const g=om(e.container(),e.offset()-1);xh(g)&&!Wa(g)&&(tm(g)||tm(d)||!xh(d))&&o(lf(Pi(g),!1)),xh(d)&&o(lf(Pi(d),!0))}return t},De=(e,t,o)=>{const r=()=>(kh(e),t===0),a=()=>kh(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const M=nm(e.ownerDocument);return M.setStart(e,t),M.setEnd(e,t),M},d=()=>(o||(o=A1(De(e,t))),o),g=()=>d().length>0,v=M=>M&&e===M.container()&&t===M.offset(),z=M=>om(e,M?t-1:t);return{container:$e(e),offset:$e(t),toRange:c,getClientRects:d,isVisible:g,isAtStart:r,isAtEnd:a,isEqual:v,getNode:z}};De.fromRangeStart=e=>De(e.startContainer,e.startOffset),De.fromRangeEnd=e=>De(e.endContainer,e.endOffset),De.after=e=>De(e.parentNode,Gb(e)+1),De.before=e=>De(e.parentNode,Gb(e)),De.isAbove=(e,t)=>ma(ct(t.getClientRects()),Co(e.getClientRects()),nf).getOr(!1),De.isBelow=(e,t)=>ma(Co(t.getClientRects()),ct(e.getClientRects()),ip).getOr(!1),De.isAtStart=e=>e?e.isAtStart():!1,De.isAtEnd=e=>e?e.isAtEnd():!1,De.isTextPosition=e=>e?it(e.container()):!1,De.isElementPosition=e=>!De.isTextPosition(e);const Qp=(e,t)=>{it(t)&&t.data.length===0&&e.remove(t)},I_=(e,t,o)=>{t.insertNode(o),Qp(e,o.previousSibling),Qp(e,o.nextSibling)},Wv=(e,t,o)=>{const r=H.from(o.firstChild),a=H.from(o.lastChild);t.insertNode(o),r.each(c=>Qp(e,c.previousSibling)),a.each(c=>Qp(e,c.nextSibling))},Xb=(e,t,o)=>{Ad(o)?Wv(e,t,o):I_(e,t,o)},td=it,Jb=Td,wh=fr.nodeIndex,N1=e=>{const t=e.parentNode;return Jb(t)?N1(t):t},R1=e=>e?pi(e.childNodes,(t,o)=>(Jb(o)&&o.nodeName!=="BR"?t=t.concat(R1(o)):t.push(o),t),[]):[],F_=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&td(o);)t+=o.data.length;return t},m=e=>t=>e===t,h=e=>{let t,o;t=R1(N1(e)),o=rr(t,m(e),e),t=t.slice(0,o+1);const r=pi(t,(a,c,d)=>(td(c)&&td(t[d-1])&&a++,a),0);return t=Ja(t,ba([e.nodeName])),o=rr(t,m(e),e),o-r},x=e=>(td(e)?"text()":e.nodeName.toLowerCase())+"["+h(e)+"]",S=(e,t,o)=>{const r=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)r.push(a);return r},N=(e,t)=>{let o=[],r=t.container(),a=t.offset(),c;if(td(r))c=F_(r,a);else{const g=r.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",r=g[a]}o.push(x(r));let d=S(e,r);return d=Ja(d,et(Td)),o=o.concat(fd(d,g=>x(g))),o.reverse().join("/")+","+c},R=(e,t,o)=>{let r=R1(e);return r=Ja(r,(a,c)=>!td(a)||!td(r[c-1])),r=Ja(r,ba([t])),r[o]},F=(e,t)=>{let o=e,r=0;for(;td(o);){const a=o.data.length;if(t>=r&&t<=r+a){e=o,t=t-r;break}if(!td(o.nextSibling)){e=o,t=a;break}r+=a,o=o.nextSibling}return td(e)&&t>e.data.length&&(t=e.data.length),De(e,t)},j=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",c=pi(r,(d,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),R(d,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!td(c)&&c.parentNode){let d;return a==="after"?d=wh(c)+1:d=wh(c),De(c.parentNode,d)}return F(c,parseInt(a,10))},Q=_o,le=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&it(a);a=a.previousSibling)r+=e(a.data).length;return r},be=(e,t,o,r,a)=>{const c=a?r.startContainer:r.endContainer;let d=a?r.startOffset:r.endOffset;const g=[],v=e.getRoot();if(it(c))g.push(o?le(t,c,d):d);else{let z=0;const M=c.childNodes;d>=M.length&&M.length&&(z=1,d=Math.max(0,M.length-1)),g.push(e.nodeIndex(M[d],o)+z)}for(let z=c;z&&z!==v;z=z.parentNode)g.push(e.nodeIndex(z,o));return g},se=(e,t,o,r)=>{const a=t.dom,c=be(a,e,o,r,!0),d=t.isForward(),g=ap(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...g};{const v=be(a,e,o,r,!1);return{start:c,end:v,forward:d,...g}}},ce=(e,t,o)=>{let r=0;return ft.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},fe=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(It(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?r:r-1,a.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},Ce=e=>(fe(e,!0),fe(e,!1),e),Se=(e,t)=>{if(It(e)&&(e=ra(e,t),Q(e)))return e;if(Al(e)){it(e)&&Kp(e)&&(e=e.parentNode);let o=e.previousSibling;if(Q(o)||(o=e.nextSibling,Q(o)))return o}},qe=e=>Se(e.startContainer,e.startOffset)||Se(e.endContainer,e.endOffset),Ge=(e,t,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||Q(r)){const d=r.nodeName;return{name:d,index:ce(o.dom,d,r)}}const c=qe(a);if(c){const d=c.tagName;return{name:d,index:ce(o.dom,d,c)}}return se(e,o,t,a)},We=e=>{const t=e.getRng();return{start:N(e.dom.getRoot(),De.fromRangeStart(t)),end:N(e.dom.getRoot(),De.fromRangeEnd(t)),forward:e.isForward()}},Ye=e=>({rng:e.getRng(),forward:e.isForward()}),mt=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},bt=(e,t)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),g=d.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:ce(o,g,d)};const z=Ce(r.cloneRange());if(!c){z.collapse(!1);const P=mt(o,a+"_end",t);Xb(o,z,P)}r=Ce(r),r.collapse(!0);const M=mt(o,a+"_start",t);return Xb(o,r,M),e.moveToBookmark({id:a,keep:!0,forward:v}),{id:a,forward:v}},Ee=(e,t,o=!1)=>t===2?Ge(Xi,o,e):t===3?We(e):t?Ye(e):bt(e,!1),Nt=wt(Ge,Oo,!0),io=e=>{const t=c=>c(e),o=$e(e),r=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:wo,isError:hn,map:c=>lo.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:c=>{c(e)},toOptional:()=>H.some(e)};return a},Do=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:hn,isError:wo,map:t,mapError:r=>lo.error(r(e)),bind:t,exists:hn,forall:wo,getOr:Oo,or:Oo,getOrThunk:as,orThunk:as,getOrDie:St(String(e)),each:Qe,toOptional:H.none};return o},lo={value:io,error:Do,fromOption:(e,t)=>e.fold(()=>Do(t),io)},ln={generate:e=>{if(!ye(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Te(e,(r,a)=>{const c=nt(r);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],g=r[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ye(g))throw new Error("case arguments must be an array");t.push(d),o[d]=(...v)=>{const z=v.length;if(z!==g.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+g.length+" ("+g+"), got "+z);return{fold:(...P)=>{if(P.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+P.length);return P[a].apply(null,v)},match:P=>{const I=nt(P);if(t.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+I.join(","));if(!Yr(t,oe=>tn(I,oe)))throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+t.join(", "));return P[d].apply(null,v)},log:P=>{console.log(P,{constructors:t,constructor:d,params:v})}}}}),o}};ln.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Es=e=>{const t=[],o=[];return Te(e,r=>{r.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},ii=e=>e.type==="inline-command"||e.type==="inline-format",Na=e=>e.type==="block-command"||e.type==="block-format",Ql=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,rm=e=>{var t;const o=a=>lo.error({message:a,pattern:e}),r=(a,c,d)=>{if(e.format!==void 0){let g;if(ye(e.format)){if(!Yr(e.format,Tt))return o(a+" pattern has non-string items in the `format` array");g=e.format}else if(Tt(e.format))g=[e.format];else return o(a+" pattern has non-string `format` parameter");return lo.value(c(g))}else return e.cmd!==void 0?Tt(e.cmd)?lo.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!ue(e))return o("Raw pattern is not an object");if(!Tt(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Tt(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),r("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,g)=>({type:"inline-command",start:a,end:c,cmd:d,value:g}))}else{if(e.replacement!==void 0)return Tt(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):lo.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},li=e=>Xe(e,Na),Bd=e=>Xe(e,ii),eg=(e,t)=>({inlinePatterns:Bd(e),blockPatterns:li(e),dynamicPatternsLookup:t}),cf=(e,t)=>({...e,blockPatterns:Xe(e.blockPatterns,o=>Ql(o,t))}),tg=e=>{const t=Es(Ko(e,rm));return Te(t.errors,o=>console.error(o.message,o.pattern)),t.values},Qb=e=>t=>{const o=e(t);return tg(o)},df=rt().deviceType,qv=df.isTouch(),VN=fr.DOM,jN=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ao(t,(o,r)=>{const a=r.split("="),c=a[0],d=a.length>1?a[1]:c;return o[ls(c)]=ls(d),o},{})},q4=e=>uo(e,RegExp),Rt=e=>t=>t.options.get(e),D1=e=>Tt(e)||ue(e),H_=(e,t="")=>o=>{const r=Tt(o);if(r)if(o.indexOf("=")!==-1){const a=jN(o);return{value:Nn(a,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Gv=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:H_(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:H_(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const r=Tt(o)&&bn(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const r=tn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>ss(o)?{valid:!0,value:o}:Tt(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const r=o===!1||Tt(o)||ot(o,Tt);return r?Tt(o)?{value:Ko(o.split(","),ls),valid:r}:ye(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ch(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const r=Tt(o)||ot(o,Tt);return r?{value:ye(o)?o:Ko(o.split(","),ls),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const r=ss(o)||Tt(o);return r?o===!1||df.isiPhone()||df.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!qv}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||Tt(o)||Pt(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const r=o===!1||Tt(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:D1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:D1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:D1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:D1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Tt(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>ot(o,ue)||o===!1?{value:tg(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Pt(o)?{value:Qb(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>ot(o,q4)?{value:o,valid:!0}:q4(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const r=tn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const r=tn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Tc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:VN.getAttrib(e.getElement(),"placeholder")})})},Ji=Rt("iframe_attrs"),wu=Rt("doctype"),od=Rt("document_base_url"),Kv=Rt("body_id"),$_=Rt("body_class"),G4=Rt("content_security_policy"),V_=Rt("br_in_pre"),Li=Rt("forced_root_block"),M1=Rt("forced_root_block_attrs"),j_=Rt("newline_behavior"),K4=Rt("br_newline_selector"),Y4=Rt("no_newline_selector"),U_=Rt("keep_styles"),Z_=Rt("end_container_on_empty_block"),mr=Rt("automatic_uploads"),dp=Rt("images_reuse_filename"),X4=Rt("images_replace_blob_uris"),W_=Rt("icons"),J4=Rt("icons_url"),q_=Rt("images_upload_url"),Q4=Rt("images_upload_base_path"),G_=Rt("images_upload_credentials"),UN=Rt("images_upload_handler"),eE=Rt("content_css_cors"),B1=Rt("referrer_policy"),K_=Rt("language"),ZN=Rt("language_url"),tE=Rt("indent_use_margin"),nd=Rt("indentation"),cl=Rt("content_css"),ey=Rt("content_style"),oE=Rt("font_css"),WN=Rt("directionality"),yn=Rt("inline_boundaries_selector"),nE=Rt("object_resizing"),rE=Rt("resize_img_proportional"),Y_=Rt("placeholder"),sE=Rt("event_root"),qN=Rt("service_message"),ty=Rt("theme"),GN=Rt("theme_url"),P1=Rt("model"),X_=Rt("model_url"),oy=Rt("inline_boundaries"),KN=Rt("formats"),YN=Rt("preview_styles"),XN=Rt("format_empty_lines"),vo=Rt("format_noneditable_selector"),aE=Rt("custom_ui_selector"),Ch=Rt("inline"),J_=Rt("hidden_input"),iE=Rt("submit_patch"),lE=Rt("add_form_submit_trigger"),cE=Rt("add_unload_trigger"),dE=Rt("custom_undo_redo_levels"),JN=Rt("disable_nodechange"),uE=Rt("readonly"),$n=Rt("editable_root"),fE=Rt("content_css_cors"),Cu=Rt("plugins"),sm=Rt("external_plugins"),Yv=Rt("block_unsupported_drop"),Rc=Rt("visual"),Xv=Rt("visual_table_class"),ny=Rt("visual_anchor_class"),L1=Rt("iframe_aria_text"),ry=Rt("setup"),QN=Rt("init_instance_callback"),eR=Rt("urlconverter_callback"),tR=Rt("auto_focus"),oR=Rt("browser_spellcheck"),wn=Rt("protect"),uf=Rt("paste_block_drop"),am=Rt("paste_data_images"),nR=Rt("paste_preprocess"),I1=Rt("paste_postprocess"),On=Rt("newdocument_content"),mE=Rt("paste_webkit_styles"),Q_=Rt("paste_remove_styles_if_webkit"),rR=Rt("paste_merge_formats"),Sh=Rt("smart_paste"),Eh=Rt("paste_as_text"),pE=Rt("paste_tab_spaces"),sR=Rt("allow_html_data_urls"),aR=Rt("text_patterns"),F1=Rt("text_patterns_lookup"),zh=Rt("noneditable_class"),iR=Rt("editable_class"),gE=Rt("noneditable_regexp"),lR=Rt("preserve_cdata"),hE=Rt("highlight_on_focus"),bE=Rt("xss_sanitization"),yE=Rt("init_content_sync"),ew=e=>e.options.isSet("text_patterns_lookup"),tw=e=>ft.explode(e.options.get("font_size_style_values")),ow=e=>ft.explode(e.options.get("font_size_classes")),vE=e=>e.options.get("encoding")==="xml",nw=e=>ft.explode(e.options.get("images_file_types")),xE=Rt("table_tab_navigation"),Jv=Rt("details_initial_state"),kE=Rt("details_serialized_state"),rw=Rt("sandbox_iframes"),Qv=e=>e.options.get("sandbox_iframes_exclusions"),_E=Rt("convert_unsafe_embeds"),wE=Rt("license_key"),CE=Rt("api_key"),cR=It,SE=it,H1=e=>{const t=e.parentNode;t&&t.removeChild(e)},sw=e=>{const t=Xi(e);return{count:e.length-t.length,text:t}},aw=e=>{let t;for(;(t=e.data.lastIndexOf(na))!==-1;)e.deleteData(t,1)},iw=(e,t)=>(og(e),t),dR=(e,t)=>{const o=sw(e.data.substr(0,t.offset())),r=sw(e.data.substr(t.offset()));return(o.text+r.text).length>0?(aw(e),De(e,t.offset()-o.count)):t},uR=(e,t)=>{const o=t.container(),r=Bl(Vo(o.childNodes),e).map(a=>a<t.offset()?De(o,t.offset()-1):t).getOr(t);return og(e),r},fR=(e,t)=>SE(e)&&t.container()===e?dR(e,t):iw(e,t),mR=(e,t)=>t.container()===e.parentNode?uR(e,t):iw(e,t),pR=(e,t)=>De.isTextPosition(t)?fR(e,t):mR(e,t),og=e=>{cR(e)&&Al(e)&&(Hb(e)?e.removeAttribute("data-mce-caret"):H1(e)),SE(e)&&(aw(e),e.data.length===0&&H1(e))},EE=_o,ex=Le,gR=Uu,lw="*[contentEditable=false],video,audio,embed,object",zE=(e,t,o)=>{const r=gh(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=a,r.right+=a,r.top+=c,r.bottom+=c,r.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),r.left+=d,r.right+=d),r},TE=e=>{var t,o;const r=Cs(de.fromDom(e),lw);for(let a=0;a<r.length;a++){const c=r[a].dom;let d=c.previousSibling;if(_u(d)){const g=d.data;g.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(g.length-1,1)}d=c.nextSibling,mh(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},OE=(e,t,o,r)=>{const a=Us();let c,d;const g=Li(e),v=e.dom,z=(Y,re)=>{let ge;if(M(),gR(re))return null;if(o(re)){const ke=Hv(g,re,Y),ve=zE(t,re,Y);v.setStyle(ke,"top",ve.top),v.setStyle(ke,"caret-color","transparent"),d=ke;const ze=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(ze,{...ve}),v.add(t,ze),a.set({caret:ze,element:re,before:Y}),Y&&v.addClass(ze,"mce-visual-caret-before"),P(),ge=re.ownerDocument.createRange(),ge.setStart(ke,0),ge.setEnd(ke,0)}else return d=$b(re,Y),ge=re.ownerDocument.createRange(),$1(d.nextSibling)?(ge.setStart(d,0),ge.setEnd(d,0)):(ge.setStart(d,1),ge.setEnd(d,1)),ge;return ge},M=()=>{TE(t),d&&(og(d),d=null),a.on(Y=>{v.remove(Y.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},P=()=>{c=setInterval(()=>{a.on(Y=>{r()?v.toggleClass(Y.caret,"mce-visual-caret-hidden"):v.addClass(Y.caret,"mce-visual-caret-hidden")})},500)};return{show:z,hide:M,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(Y=>{const re=zE(t,Y.element,Y.before);v.setStyles(Y.caret,{...re})})},destroy:()=>clearInterval(c)}},cw=()=>Mo.browser.isFirefox(),$1=e=>EE(e)||ex(e),V1=e=>($1(e)||Kl(e)&&cw())&&wd(de.fromDom(e)).exists(Or),tx=zl,ox=_o,AE=Le,dw=Sl("display","block table table-cell table-caption list-item"),uw=Al,NE=Kp,hR=It,nx=it,RE=Qc,Th=e=>e>0,Oh=e=>e<0,rx=(e,t)=>{let o;for(;o=e(t);)if(!NE(o))return o;return null},j1=(e,t,o,r,a)=>{const c=new Oa(e,r),d=ox(e)||NE(e);let g;if(Oh(t)){if(d&&(g=rx(c.prev.bind(c),!0),o(g)))return g;for(;g=rx(c.prev.bind(c),a);)if(o(g))return g}if(Th(t)){if(d&&(g=rx(c.next.bind(c),!0),o(g)))return g;for(;g=rx(c.next.bind(c),a);)if(o(g))return g}return null},bR=(e,t)=>{const o=a=>tx(a.dom),r=a=>a.dom===t;return oi(de.fromDom(e),o,r).map(a=>a.dom).getOr(t)},ng=(e,t)=>{for(;e&&e!==t;){if(dw(e))return e;e=e.parentNode}return null},im=(e,t,o)=>ng(e.container(),o)===ng(t.container(),o),sx=(e,t)=>{if(!t)return H.none();const o=t.container(),r=t.offset();return hR(o)?H.from(o.childNodes[r+e]):H.none()},DE=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},ME=(e,t,o)=>ng(t,e)===ng(o,e),fw=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[r];if(c&&uw(c)&&(c=c[r]),ox(c)||AE(c)){if(ME(t,c,a))return c;break}if(RE(c))break;a=a.parentNode}return null},U1=wt(DE,!0),Z1=wt(DE,!1),mw=(e,t,o)=>{let r;const a=wt(fw,!0,t),c=wt(fw,!1,t),d=o.startContainer,g=o.startOffset;if(Kp(d)){const v=nx(d)?d.parentNode:d,z=v.getAttribute("data-mce-caret");if(z==="before"&&(r=v.nextSibling,V1(r)))return U1(r);if(z==="after"&&(r=v.previousSibling,V1(r)))return Z1(r)}if(!o.collapsed)return o;if(it(d)){if(uw(d)){if(e===1){if(r=c(d),r)return U1(r);if(r=a(d),r)return Z1(r)}if(e===-1){if(r=a(d),r)return Z1(r);if(r=c(d),r)return U1(r)}return o}if(_u(d)&&g>=d.data.length-1)return e===1&&(r=c(d),r)?U1(r):o;if(mh(d)&&g<=1)return e===-1&&(r=a(d),r)?Z1(r):o;if(g===d.data.length)return r=c(d),r?U1(r):o;if(g===0)return r=a(d),r?Z1(r):o}return o},BE=(e,t)=>sx(e?0:-1,t).filter(ox),W1=(e,t,o)=>{const r=mw(e,t,o);return e===-1?De.fromRangeStart(r):De.fromRangeEnd(r)},ax=e=>H.from(e.getNode()).map(de.fromDom),yR=e=>H.from(e.getNode(!0)).map(de.fromDom),pw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ix=(e,t)=>{const o=im(e,t);return!o&&zr(e.getNode())?!0:o};var wi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(wi||(wi={}));const vR=_o,lm=it,PE=It,qt=zr,Ah=Qc,gw=Jp,lx=yh,hw=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},LE=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,q1=(e,t)=>{if(Th(e)){if(Ah(t.previousSibling)&&!lm(t.previousSibling))return De.before(t);if(lm(t))return De(t,0)}if(Oh(e)){if(Ah(t.nextSibling)&&!lm(t.nextSibling))return De.after(t);if(lm(t))return De(t,t.data.length)}return Oh(e)?qt(t)?De.before(t):De.after(t):De.before(t)},IE=(e,t)=>{const o=t.nextSibling;return o&&Ah(o)?lm(o)?De(o,0):De.before(o):bw(wi.Forwards,De.after(t),e)},bw=(e,t,o)=>{let r,a,c,d;if(!PE(o)||!t)return null;if(t.isEqual(De.after(o))&&o.lastChild){if(d=De.after(o.lastChild),Oh(e)&&Ah(o.lastChild)&&PE(o.lastChild))return qt(o.lastChild)?De.before(o.lastChild):d}else d=t;const g=d.container();let v=d.offset();if(lm(g)){if(Oh(e)&&v>0)return De(g,--v);if(Th(e)&&v<g.length)return De(g,++v);r=g}else{if(Oh(e)&&v>0&&(a=LE(g,v-1),Ah(a)))return!gw(a)&&(c=j1(a,e,lx,a),c)?lm(c)?De(c,c.data.length):De.after(c):lm(a)?De(a,a.data.length):De.before(a);if(Th(e)&&v<g.childNodes.length&&(a=LE(g,v),Ah(a)))return qt(a)?IE(o,a):!gw(a)&&(c=j1(a,e,lx,a),c)?lm(c)?De(c,0):De.before(c):lm(a)?De(a,0):De.after(a);r=a||d.getNode()}if(r&&(Th(e)&&d.isAtEnd()||Oh(e)&&d.isAtStart())&&(r=j1(r,e,wo,o,!0),lx(r,o)))return q1(e,r);a=r&&j1(r,e,lx,o);const z=ca(Xe(hw(g,o),vR));return z&&(!a||!z.contains(a))?(Th(e)?d=De.after(z):d=De.before(z),d):a?q1(e,a):null},no=e=>({next:t=>bw(wi.Forwards,t,e),prev:t=>bw(wi.Backwards,t,e)}),Po=(e,t,o)=>{const r=e?De.before(o):De.after(o);return rd(e,t,r)},FE=e=>zr(e)?De.before(e):De.after(e),HE=e=>De.isTextPosition(e)?e.offset()===0:Qc(e.getNode()),$E=e=>{if(De.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Qc(e.getNode(!0))},VE=(e,t)=>!De.isTextPosition(e)&&!De.isTextPosition(t)&&e.getNode()===t.getNode(!0),bo=e=>!De.isTextPosition(e)&&zr(e.getNode()),G1=(e,t,o)=>e?!VE(t,o)&&!bo(t)&&$E(t)&&HE(o):!VE(o,t)&&HE(t)&&$E(o),rd=(e,t,o)=>{const r=no(t);return H.from(e?r.next(o):r.prev(o))},Nh=(e,t,o)=>rd(e,t,o).bind(r=>im(o,r,t)&&G1(e,o,r)?rd(e,t,r):H.some(r)),jE=(e,t,o,r)=>Nh(e,t,o).bind(a=>r(a)?jE(e,t,a,r):H.some(a)),sy=(e,t)=>{const o=e?t.firstChild:t.lastChild;return it(o)?H.some(De(o,e?0:o.data.length)):o?Qc(o)?H.some(e?De.before(o):FE(o)):Po(e,t,o):H.none()},Nl=wt(rd,!0),Dc=wt(rd,!1),co=wt(sy,!0),Pd=wt(sy,!1),ay="_mce_caret",sd=e=>It(e)&&e.id===ay,rg=(e,t)=>{let o=t;for(;o&&o!==e;){if(sd(o))return o;o=o.parentNode}return null},UE=e=>Tt(e.start),ZE=e=>mo(e,"rng"),WE=e=>mo(e,"id"),yw=e=>mo(e,"name"),qE=e=>ft.isArray(e.start),cx=e=>!yw(e)&&ss(e.forward)?e.forward:!0,GE=(e,t)=>(It(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),xR=(e,t)=>{const o=H.from(j(e.getRoot(),t.start)),r=H.from(j(e.getRoot(),t.end));return ma(o,r,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:cx(t)}})},kR=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(na);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},vw=e=>!e.hasChildNodes(),xw=(e,t)=>Pd(e).fold(hn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),KE=(e,t,o)=>vw(t)&&rg(e,t)?(kR(t,o),!0):!1,YE=(e,t,o,r)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,g=a[0];for(let v=a.length-1;d&&v>=1;v--){const z=d.childNodes;if(KE(c,d,r))return!0;if(a[v]>z.length-1)return KE(c,d,r)?!0:xw(d,r);d=z[a[v]]}it(d)&&(g=Math.min(a[0],d.data.length)),It(d)&&(g=Math.min(a[0],d.childNodes.length)),t?r.setStart(d,g):r.setEnd(d,g)}return!0},kw=e=>it(e)&&e.data.length>0,XE=(e,t,o)=>{const r=e.get(o.id+"_"+t),a=r==null?void 0:r.parentNode,c=o.keep;if(r&&a){let d,g;if(t==="start"?c?r.hasChildNodes()?(d=r.firstChild,g=1):kw(r.nextSibling)?(d=r.nextSibling,g=0):kw(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)+1):(d=a,g=e.nodeIndex(r)):c?r.hasChildNodes()?(d=r.firstChild,g=1):kw(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)):(d=a,g=e.nodeIndex(r)),!c){const v=r.previousSibling,z=r.nextSibling;ft.each(ft.grep(r.childNodes),P=>{it(P)&&(P.data=P.data.replace(/\uFEFF/g,""))});let M;for(;M=e.get(o.id+"_"+t);)e.remove(M,!0);if(it(z)&&it(v)&&!Mo.browser.isOpera()){const P=v.data.length;v.appendData(z.data),e.remove(z),d=v,g=P}}return H.some(De(d,g))}else return H.none()},JE=(e,t)=>{const o=e.createRng();return YE(e,!0,t,o)&&YE(e,!1,t,o)?H.some({range:o,forward:cx(t)}):H.none()},Rh=(e,t)=>{const o=XE(e,"start",t),r=XE(e,"end",t);return ma(o,r.or(o),(a,c)=>{const d=e.createRng();return d.setStart(GE(e,a.container()),a.offset()),d.setEnd(GE(e,c.container()),c.offset()),{range:d,forward:cx(t)}})},QE=(e,t)=>H.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),e3=(e,t)=>{const o=e.dom;if(t){if(qE(t))return JE(o,t);if(UE(t))return xR(o,t);if(WE(t))return Rh(o,t);if(yw(t))return QE(o,t);if(ZE(t))return H.some({range:t.rng,forward:cx(t)})}return H.none()},_R=(e,t,o)=>Ee(e,t,o),wR=(e,t)=>{e3(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},ad=e=>It(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Ii=(e=>t=>e===t)(oa),Dh=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,up=e=>!Dh(e)&&!Ii(e)&&!qc(e),Vr=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Ld=e=>Tn(e,t=>{const o=Xp(t);return o?[de.fromDom(o)]:[]}),K1=e=>Vr(e).length>1,dx=e=>Xe(Ld(e),Oc),iy=e=>Cs(e,"td[data-mce-selected],th[data-mce-selected]"),t3=(e,t)=>{const o=iy(t);return o.length>0?o:dx(e)},ff=e=>t3(Vr(e.selection.getSel()),de.fromDom(e.getBody())),Gn=(e,t)=>xl(e,"table",t),Y1=e=>{const t=e.startContainer,o=e.startOffset;return it(t)?o===0?H.some(de.fromDom(t)):H.none():H.from(t.childNodes[o]).map(de.fromDom)},o3=e=>{const t=e.endContainer,o=e.endOffset;return it(t)?o===t.data.length?H.some(de.fromDom(t)):H.none():H.from(t.childNodes[o-1]).map(de.fromDom)},_w=e=>Ri(e).fold($e([e]),t=>[e].concat(_w(t))),X1=e=>bc(e).fold($e([e]),t=>rn(t)==="br"?Ds(t).map(o=>[e].concat(X1(o))).getOr([]):[e].concat(X1(t))),J1=(e,t)=>ma(Y1(t),o3(t),(o,r)=>{const a=En(_w(e),wt(on,o)),c=En(X1(e),wt(on,r));return a.isSome()&&c.isSome()}).getOr(!1),Q1=(e,t,o,r)=>{const a=o,c=new Oa(o,a),d=Oi(e.schema.getMoveCaretBeforeOnEnterElements(),(v,z)=>!tn(["td","th","table"],z.toLowerCase()));let g=o;do{if(it(g)&&ft.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(d[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},ly=e=>{const t=e.selection.getSel();return Fe(t)&&t.rangeCount>0},cy=(e,t)=>{const o=ff(e);o.length>0?Te(o,r=>{const a=r.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},ux=(e,t,o)=>{const r=bt(e,t);o(r),e.moveToBookmark(r)},dy=e=>O(e==null?void 0:e.nodeType),fx=e=>It(e)&&!ad(e)&&!sd(e)&&!Td(e),n3=(e,t)=>{if(fx(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},ww=(e,t,o)=>{const{selection:r,dom:a}=e,c=r.getNode(),d=_o(c);ux(r,!0,()=>{t()}),d&&_o(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(r.getStart())&&r3(a,r)},r3=(e,t)=>{var o,r;const a=t.getRng(),{startContainer:c,startOffset:d}=a,g=t.getNode();if(!n3(e,g)&&It(c)){const v=c.childNodes,z=e.getRoot();let M;if(d<v.length){const P=v[d];M=new Oa(P,(o=e.getParent(P,e.isBlock))!==null&&o!==void 0?o:z)}else{const P=v[v.length-1];M=new Oa(P,(r=e.getParent(P,e.isBlock))!==null&&r!==void 0?r:z),M.next(!0)}for(let P=M.current();P;P=M.next()){if(e.getContentEditable(P)==="false")return;if(it(P)&&!Cw(P)){a.setStart(P,0),t.setRng(a);return}}}},Mh=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(It(e)||!Cw(e))return e}},mx=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Cc(e,t),sg=(e,t,o)=>e.schema.isValidChild(t,o),Cw=(e,t=!1)=>{if(Fe(e)&&it(e)){const o=t?e.data.replace(/ /g," "):e.data;return Di(o)}else return!1},SR=e=>Fe(e)&&it(e)&&e.length===0,s3=(e,t)=>{const o="[data-mce-cef-wrappable]",r=vo(e),a=bi(r)?o:`${o},${r}`;return Un(de.fromDom(t),a)},Sw=(e,t)=>{const o=e.dom;return fx(t)&&o.getContentEditable(t)==="false"&&s3(e,t)&&o.select('[contenteditable="true"]',t).length===0},fp=(e,t)=>Pt(e)?e(t):(Fe(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),uy=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),px=(e,t)=>{if(Lo(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Xg(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},e0=(e,t,o)=>{const r=e.getStyle(t,o);return px(r,o)},Ew=(e,t)=>{let o;return e.getParent(t,r=>It(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},t0=(e,t,o)=>e.getParents(t,o,e.getRoot()),gx=(e,t,o)=>{const r=e.formatter.get(t);return Fe(r)&&Sn(r,o)},a3=(e,t)=>gx(e,t,r=>{const a=c=>Pt(c)||c.length>1&&c.charAt(0)==="%";return Sn(["styles","attributes"],c=>Nn(r,c).exists(d=>{const g=ye(d)?d:fl(d);return Sn(g,a)}))}),i3=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=c=>Oi(c,(d,g)=>Sn(r,v=>v===g));return gx(e,t,c=>{const d=a(c);return gx(e,o,g=>{const v=a(g);return Os(d,v)})})},mf=e=>Ba(e,"block"),l3=e=>mf(e)&&e.wrapper===!0,c3=e=>mf(e)&&e.wrapper!==!0,Mc=e=>Ba(e,"selector"),qa=e=>Ba(e,"inline"),d3=e=>Mc(e)&&qa(e)&&hd(Nn(e,"mixed"),!0),hx=e=>Mc(e)&&e.expand!==!1&&!qa(e),u3=e=>{const t=[];let o=e;for(;o;){if(it(o)&&o.data!==na||o.childNodes.length>1)return[];It(o)&&t.push(o),o=o.firstChild}return t},zw=e=>u3(e).length>0,bx=e=>sd(e.dom)&&zw(e.dom),ag=ad,o0=t0,yx=Cw,vx=mx,f3=e=>zr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,n0=(e,t)=>{let o=t;for(;o;){if(It(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},xx=(e,t,o,r)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(r(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(r(a.charAt(c)))return c;return-1},r0=(e,t,o)=>xx(e,t,o,r=>Ii(r)||Dh(r)),Tw=(e,t,o)=>xx(e,t,o,up),Ow=(e,t,o,r,a,c)=>{let d;const g=e.getParent(o,e.isBlock)||t,v=(M,P,I)=>{const K=yu(e),oe=a?K.backwards:K.forwards;return H.from(oe(M,P,(Y,re)=>ag(Y.parentNode)?-1:(d=Y,I(a,Y,re)),g))};return v(o,r,r0).bind(M=>c?v(M.container,M.offset+(a?-1:0),Tw):H.some(M)).orThunk(()=>d?H.some({container:d,offset:a?0:d.length}):H.none())},Bh=(e,t,o,r,a)=>{const c=r[a];it(r)&&bi(r.data)&&c&&(r=c);const d=o0(e,r);for(let g=0;g<d.length;g++)for(let v=0;v<t.length;v++){const z=t[v];if(!(Fe(z.collapsed)&&z.collapsed!==o.collapsed)&&Mc(z)&&e.is(d[g],z.selector))return d[g]}return r},kx=(e,t,o,r)=>{var a;let c=o;const d=e.getRoot(),g=t[0];if(mf(g)&&(c=g.wrapper?null:e.getParent(o,g.block,d)),!c){const v=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(it(o)?o.parentNode:o,z=>z!==d&&vx(e.schema,z),v)}if(c&&mf(g)&&g.wrapper&&(c=o0(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!uy(c,"br")););return c||o},_x=(e,t,o,r)=>{const a=o.parentNode;return Fe(o[r])?!1:a===t||Lo(a)||e.isBlock(a)?!0:_x(e,t,a,r)},mp=(e,t,o,r,a)=>{let c=o;const d=a?"previousSibling":"nextSibling",g=e.getRoot();if(it(o)&&!yx(o)&&(a?r>0:r<o.data.length))return o;for(;c;){if(!t[0].block_expand&&e.isBlock(c))return c;for(let v=c[d];v;v=v[d]){const z=it(v)&&!_x(e,g,v,d);if(!ag(v)&&!f3(v)&&!yx(v,z))return c}if(c===g||c.parentNode===g){o=c;break}c=c.parentNode}return o},pp=e=>ag(e.parentNode)||ag(e),ig=(e,t,o,r=!1)=>{let{startContainer:a,startOffset:c,endContainer:d,endOffset:g}=t;const v=o[0];return It(a)&&a.hasChildNodes()&&(a=ra(a,c),it(a)&&(c=0)),It(d)&&d.hasChildNodes()&&(d=ra(d,t.collapsed?g:g-1),it(d)&&(g=d.data.length)),a=n0(e,a),d=n0(e,d),pp(a)&&(a=ag(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,it(a)&&(c=t.collapsed?a.length:0)),pp(d)&&(d=ag(d)?d:d.parentNode,t.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,it(d)&&(g=t.collapsed?0:d.length)),t.collapsed&&(Ow(e,e.getRoot(),a,c,!0,r).each(({container:P,offset:I})=>{a=P,c=I}),Ow(e,e.getRoot(),d,g,!1,r).each(({container:P,offset:I})=>{d=P,g=I})),(qa(v)||v.block_expand)&&((!qa(v)||!it(a)||c===0)&&(a=mp(e,o,a,c,!0)),(!qa(v)||!it(d)||g===d.data.length)&&(d=mp(e,o,d,g,!1))),hx(v)&&(a=Bh(e,o,t,a,"previousSibling"),d=Bh(e,o,t,d,"nextSibling")),(mf(v)||Mc(v))&&(a=kx(e,o,a,"previousSibling"),d=kx(e,o,d,"nextSibling"),mf(v)&&(e.isBlock(a)||(a=mp(e,o,a,c,!0),it(a)&&(c=0)),e.isBlock(d)||(d=mp(e,o,d,g,!1),it(d)&&(g=d.data.length)))),It(a)&&a.parentNode&&(c=e.nodeIndex(a),a=a.parentNode),It(d)&&d.parentNode&&(g=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:a,startOffset:c,endContainer:d,endOffset:g}},s0=(e,t,o)=>{var r;const a=t.startOffset,c=ra(t.startContainer,a),d=t.endOffset,g=ra(t.endContainer,d-1),v=re=>{const ge=re[0];it(ge)&&ge===c&&a>=ge.data.length&&re.splice(0,1);const ke=re[re.length-1];return d===0&&re.length>0&&ke===g&&it(ke)&&re.splice(re.length-1,1),re},z=(re,ge,ke)=>{const ve=[];for(;re&&re!==ke;re=re[ge])ve.push(re);return ve},M=(re,ge)=>e.getParent(re,ke=>ke.parentNode===ge,ge),P=(re,ge,ke)=>{const ve=ke?"nextSibling":"previousSibling";for(let ze=re,Je=ze.parentNode;ze&&ze!==ge;ze=Je){Je=ze.parentNode;const gt=z(ze===re?ze:ze[ve],ve);gt.length&&(ke||gt.reverse(),o(v(gt)))}};if(c===g)return o(v([c]));const I=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return P(c,I,!0);if(e.isChildOf(g,c))return P(g,I);const K=M(c,I)||c,oe=M(g,I)||g;P(c,K,!0);const Y=z(K===c?K:K.nextSibling,"nextSibling",oe===g?oe.nextSibling:oe);Y.length&&o(v(Y)),P(g,oe)},ER=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],m3=e=>vr(e)&&Jf(e)===na,p3=(e,t,o,r)=>Qs(t).fold(()=>"skipping",a=>r==="br"||m3(t)?"valid":g1(t)?"existing":sd(t.dom)?"caret":Sn(ER,c=>Un(t,c))?"valid-block":!sg(e,o,r)||!sg(e,rn(a),o)?"invalid-child":"valid"),lg=(e,t)=>{const o=ig(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},cg=(e,t,o,r,a,c)=>{const{uid:d=t,...g}=o;Vl(e,os()),ws(e,`${Ss()}`,d),ws(e,`${ns()}`,r);const{attributes:v={},classes:z=[]}=a(d,g);if(Pa(e,v),nh(e,z),c){z.length>0&&ws(e,`${Gr()}`,z.join(","));const M=nt(v);M.length>0&&ws(e,`${bs()}`,M.join(","))}},Ci=e=>{Ta(e,os()),$o(e,`${Ss()}`),$o(e,`${ns()}`),$o(e,`${qn()}`);const t=gs(e,`${bs()}`).map(r=>r.split(",")).getOr([]),o=gs(e,`${Gr()}`).map(r=>r.split(",")).getOr([]);Te(t,r=>$o(e,r)),np(e,o),$o(e,`${Gr()}`),$o(e,`${bs()}`)},cm=(e,t,o,r,a)=>{const c=de.fromTag("span",e);return cg(c,t,o,r,a,!1),c},Hn=(e,t,o,r,a,c)=>{const d=[],g=cm(e.getDoc(),o,c,r,a),v=Us(),z=()=>{v.clear()},M=()=>v.get().getOrThunk(()=>{const oe=ys(g);return d.push(oe),v.set(oe),oe}),P=oe=>{Te(oe,I)},I=oe=>{switch(p3(e,oe,"span",rn(oe))){case"invalid-child":{z();const re=ga(oe);P(re),z();break}case"valid-block":{z(),cg(oe,o,c,r,a,!0);break}case"valid":{const re=M();vi(oe,re);break}}},K=oe=>{const Y=Ko(oe,de.fromDom);P(Y)};return s0(e.dom,t,oe=>{z(),K(oe)}),d},zR=(e,t,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=ff(e).length>0,g=ki("mce-annotation");if(c.collapsed&&!d&&lg(e,c),a.getRng().collapsed&&!d){const v=cm(e.getDoc(),g,r,t,o.decorate);ql(v,oa),a.getRng().insertNode(v.dom),a.select(v.dom)}else ux(a,!1,()=>{cy(e,v=>{Hn(e,v,g,t,o.decorate,r)})})})},g3=e=>{const t=b1();Lb(e,t);const o=Pb(e,t),r=xd("span"),a=c=>{Te(c,d=>{r(d)?ha(d):Ci(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(g=>{zR(e,c,g,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{Bb(e,H.some(c)).each(({elements:d})=>{const g=e.selection.getBookmark();a(d),e.selection.moveToBookmark(g)})},removeAll:c=>{const d=e.selection.getBookmark();Fo(op(e,c),(g,v)=>{a(g)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=op(e,c);return Ti(d,g=>Ko(g,v=>v.dom))}}},lr=e=>({getBookmark:wt(_R,e),moveToBookmark:wt(wR,e)});lr.isBookmarkNode=ad;const Aw=(e,t,o)=>o.collapsed?!1:Sn(o.getClientRects(),r=>jb(r,e,t)),a0=(e,t)=>e.dispatch("PreProcess",t),i0=(e,t)=>e.dispatch("PostProcess",t),l0=e=>{e.dispatch("remove")},c0=e=>{e.dispatch("detach")},h3=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},TR=(e,t,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:a})},OR=(e,t,o,r,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:a})},AR=e=>{e.dispatch("PreInit")},NR=e=>{e.dispatch("PostRender")},zs=e=>{e.dispatch("Init")},b3=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Nw=(e,t,o)=>{e.dispatch(t,o)},y3=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},v3=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},RR=(e,t)=>e.dispatch("BeforeSetContent",t),ec=(e,t)=>e.dispatch("SetContent",t),pf=(e,t)=>e.dispatch("BeforeGetContent",t),x3=(e,t)=>e.dispatch("GetContent",t),Rw=(e,t)=>{e.dispatch("AutocompleterStart",t)},Dw=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},Mw=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},DR=e=>{e.dispatch("AutocompleterEnd")},d0=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),wx=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),Cx=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),MR=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Ct={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ct.metaKeyPressed(e),metaKeyPressed:e=>Mo.os.isMacOS()||Mo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ph="data-mce-selected",BR="table,img,figure.image,hr,video,span.mce-preview-object,details",id=Math.abs,dg=Math.round,Sx={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Su=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Qn=(e,t)=>{const o=t.dom,r=t.getDoc(),a=document,c=t.getBody();let d,g,v,z,M,P,I,K,oe,Y,re,ge,ke,ve,ze,Je,gt;const Ot=zt=>Fe(zt)&&(El(zt)||o.is(zt,"figure.image")),He=zt=>Le(zt)||o.hasClass(zt,"mce-preview-object"),Ne=(zt,Go)=>{if(Su(zt)){const sn=zt.touches[0];return Ot(zt.target)&&!Aw(sn.clientX,sn.clientY,Go)}else return Ot(zt.target)&&!Aw(zt.clientX,zt.clientY,Go)},Ke=zt=>{const Go=zt.target;Ne(zt,t.selection.getRng())&&!zt.isDefaultPrevented()&&t.selection.select(Go)},Mt=zt=>o.hasClass(zt,"mce-preview-object")&&Fe(zt.firstElementChild)?[zt,zt.firstElementChild]:o.is(zt,"figure.image")?[zt.querySelector("img")]:[zt],Yt=zt=>{const Go=nE(t);return!Go||zt.getAttribute("data-mce-resize")==="false"||zt===t.getBody()?!1:o.hasClass(zt,"mce-preview-object")&&Fe(zt.firstElementChild)?Un(de.fromDom(zt.firstElementChild),Go):Un(de.fromDom(zt),Go)},qo=(zt,Go)=>{if(He(Go))return zt.create("img",{src:Mo.transparentSrc});if(Kl(Go)){const di=sr(z.name,"n")?ct:Co,er=Go.cloneNode(!0);return di(zt.select("tr",er)).each(Ya=>{const kf=zt.select("td,th",Ya);zt.setStyle(Ya,"height",null),Te(kf,Dp=>zt.setStyle(Dp,"height",null))}),er}else return Go.cloneNode(!0)},nn=(zt,Go,sn)=>{if(Fe(sn)){const di=Mt(zt);Te(di,er=>{er.style[Go]||!t.schema.isValid(er.nodeName.toLowerCase(),Go)?o.setStyle(er,Go,sn):o.setAttrib(er,Go,""+sn)})}},Wn=(zt,Go,sn)=>{nn(zt,"width",Go),nn(zt,"height",sn)},or=zt=>{let Go,sn,di,er,Ya;Go=zt.screenX-P,sn=zt.screenY-I,ve=Go*z[2]+Y,ze=sn*z[3]+re,ve=ve<5?5:ve,ze=ze<5?5:ze,(Ot(d)||He(d))&&rE(t)!==!1?di=!Ct.modifierPressed(zt):di=Ct.modifierPressed(zt),di&&(id(Go)>id(sn)?(ze=dg(ve*ge),ve=dg(ze/ge)):(ve=dg(ze/ge),ze=dg(ve*ge))),Wn(g,ve,ze),er=z.startPos.x+Go,Ya=z.startPos.y+sn,er=er>0?er:0,Ya=Ya>0?Ya:0,o.setStyles(v,{left:er,top:Ya,display:"block"}),v.innerHTML=ve+" &times; "+ze,z[2]<0&&g.clientWidth<=ve&&o.setStyle(g,"left",K+(Y-ve)),z[3]<0&&g.clientHeight<=ze&&o.setStyle(g,"top",oe+(re-ze)),Go=c.scrollWidth-Je,sn=c.scrollHeight-gt,Go+sn!==0&&o.setStyles(v,{left:er-Go,top:Ya-sn}),ke||(TR(t,d,Y,re,"corner-"+z.name),ke=!0)},Ps=()=>{const zt=ke;ke=!1,zt&&(nn(d,"width",ve),nn(d,"height",ze)),o.unbind(r,"mousemove",or),o.unbind(r,"mouseup",Ps),a!==r&&(o.unbind(a,"mousemove",or),o.unbind(a,"mouseup",Ps)),o.remove(g),o.remove(v),o.remove(M),ol(d),zt&&(OR(t,d,ve,ze,"corner-"+z.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},ol=zt=>{_t();const Go=o.getPos(zt,c),sn=Go.x,di=Go.y,er=zt.getBoundingClientRect(),Ya=er.width||er.right-er.left,kf=er.height||er.bottom-er.top;d!==zt&&(xt(),d=zt,ve=ze=0);const Dp=t.dispatch("ObjectSelected",{target:zt});Yt(zt)&&!Dp.isDefaultPrevented()?Fo(Sx,(ac,Yd)=>{const _f=wf=>{const Qt=Mt(d)[0];P=wf.screenX,I=wf.screenY,Y=Qt.clientWidth,re=Qt.clientHeight,ge=re/Y,z=ac,z.name=Yd,z.startPos={x:Ya*ac[0]+sn,y:kf*ac[1]+di},Je=c.scrollWidth,gt=c.scrollHeight,M=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(M,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=qo(o,d),o.addClass(g,"mce-clonedresizable"),o.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",o.setStyles(g,{left:sn,top:di,margin:0}),Wn(g,Ya,kf),g.removeAttribute(Ph),c.appendChild(g),o.bind(r,"mousemove",or),o.bind(r,"mouseup",Ps),a!==r&&(o.bind(a,"mousemove",or),o.bind(a,"mouseup",Ps)),v=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Y+" &times; "+re)};let Xd=o.get("mceResizeHandle"+Yd);Xd&&o.remove(Xd),Xd=o.add(c,"div",{id:"mceResizeHandle"+Yd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Yd+"-resize; margin:0; padding:0"}),o.bind(Xd,"mousedown",wf=>{wf.stopImmediatePropagation(),wf.preventDefault(),_f(wf)}),ac.elm=Xd,o.setStyles(Xd,{left:Ya*ac[0]+sn-Xd.offsetWidth/2,top:kf*ac[1]+di-Xd.offsetHeight/2})}):xt(!1)},pr=tp(ol,0),xt=(zt=!0)=>{pr.cancel(),_t(),d&&zt&&d.removeAttribute(Ph),Fo(Sx,(Go,sn)=>{const di=o.get("mceResizeHandle"+sn);di&&(o.unbind(di),o.remove(di))})},Gt=(zt,Go)=>o.isChildOf(zt,Go),Ln=zt=>{if(ke||t.removed||t.composing)return;const Go=zt.type==="mousedown"?zt.target:e.getNode(),sn=js(de.fromDom(Go),BR).map(er=>er.dom).filter(er=>o.isEditable(er.parentElement)||er.nodeName==="IMG"&&o.isEditable(er)).getOrUndefined(),di=Fe(sn)?o.getAttrib(sn,Ph,"1"):"1";if(Te(o.select(`img[${Ph}],hr[${Ph}]`),er=>{er.removeAttribute(Ph)}),Fe(sn)&&Gt(sn,c)&&t.hasFocus()){ro();const er=e.getStart(!0);if(Gt(er,sn)&&Gt(e.getEnd(!0),sn)){o.setAttrib(sn,Ph,di),pr.throttle(sn);return}}xt()},_t=()=>{Fo(Sx,zt=>{zt.elm&&(o.unbind(zt.elm),delete zt.elm)})},ro=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{ro(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ln),t.on("keyup compositionend",zt=>{d&&d.nodeName==="TABLE"&&Ln(zt)}),t.on("hide blur",xt),t.on("contextmenu longpress",Ke,!0)}),t.on("remove",_t),{isResizable:Yt,showResizeRect:ol,hideResizeRect:xt,updateResizeRect:Ln,destroy:()=>{pr.cancel(),d=g=M=null}}},fy=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Ex=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Bw=(e,t,o)=>{const r=e.document.createRange();return fy(r,t),Ex(r,o),r},u0=(e,t,o,r,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(r.dom,a),c},Lh=ln.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),k3=(e,t,o)=>t(de.fromDom(o.startContainer),o.startOffset,de.fromDom(o.endContainer),o.endOffset),Pw=(e,t)=>t.match({domRange:o=>({ltr:$e(o),rtl:H.none}),relative:(o,r)=>({ltr:Qa(()=>Bw(e,o,r)),rtl:Qa(()=>H.some(Bw(e,r,o)))}),exact:(o,r,a,c)=>({ltr:Qa(()=>u0(e,o,r,a,c)),rtl:Qa(()=>H.some(u0(e,a,c,o,r)))})}),PR=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Lh.rtl(de.fromDom(a.endContainer),a.endOffset,de.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>k3(e,Lh.ltr,o)):k3(e,Lh.ltr,o)},_3=(e,t)=>{const o=Pw(e,t);return PR(e,o)};Lh.ltr,Lh.rtl;const zx={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},w3=(e,t,o)=>{var r;return H.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,o)).bind(a=>{if(a.offsetNode===null)return H.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),H.some(c)})},Tx=(e,t,o)=>{var r;return H.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,o))},IR=(e,t,o)=>e.caretPositionFromPoint?w3(e,t,o):e.caretRangeFromPoint?Tx(e,t,o):H.none(),FR=(e,t,o)=>{const r=e.document;return IR(r,t,o).map(a=>zx.create(de.fromDom(a.startContainer),a.startOffset,de.fromDom(a.endContainer),a.endOffset))},Lw=ln.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),HR=(e,t,o,r)=>e.fold(t,o,r),$R=e=>e.fold(Oo,Oo,Oo),C3=Lw.before,VR=Lw.on,jR=Lw.after,dm={before:C3,on:VR,after:jR,cata:HR,getStart:$R},f0=ln.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),UR=e=>f0.exact(e.start,e.soffset,e.finish,e.foffset),ZR=e=>e.match({domRange:t=>de.fromDom(t.startContainer),relative:(t,o)=>dm.getStart(t),exact:(t,o,r,a)=>t}),S3=f0.domRange,Id=f0.relative,WR=f0.exact,E3=e=>{const t=ZR(e);return pc(t)},Iw=zx.create,ug={domRange:S3,relative:Id,exact:WR,exactFromRange:UR,getWin:E3,range:Iw},m0=(e,t)=>{const o=rn(e);return o==="input"?dm.after(e):tn(["br","img"],o)?t===0?dm.before(e):dm.after(e):dm.on(e,t)},z3=(e,t)=>{const o=e.fold(dm.before,m0,dm.after),r=t.fold(dm.before,m0,dm.after);return ug.relative(o,r)},Ox=(e,t,o,r)=>{const a=m0(e,t),c=m0(o,r);return ug.relative(a,c)},T3=e=>e.match({domRange:t=>{const o=de.fromDom(t.startContainer),r=de.fromDom(t.endContainer);return Ox(o,t.startOffset,r,t.endOffset)},relative:z3,exact:Ox}),Bc=(e,t)=>{const r=document.createDocumentFragment();return Te(e,a=>{r.appendChild(a.dom)}),de.fromDom(r)},qR=e=>{const t=ug.getWin(e).dom,o=(a,c,d,g)=>u0(t,a,c,d,g),r=T3(e);return _3(t,r).match({ltr:o,rtl:o})},Fw=(e,t,o)=>FR(e,t,o),O3=(e,t,o)=>{const r=pc(de.fromDom(o));return Fw(r.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},p0=(e,t)=>Fe(e)&&Fe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,gf=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},Ax=(e,t,o)=>gf(e,t,o)!==null,Nx=(e,t,o)=>Ax(e,t,r=>r.nodeName===o),A3=(e,t)=>Al(e)&&!Ax(e,t,sd),N3=(e,t,o)=>{const r=t.parentNode;if(r){const a=new Oa(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(zr(c))return!0}return!1},R3=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},D3=(e,t)=>{let o=t;for(;o&&o!==e;){if(_o(o))return!0;o=o.parentNode}return!1},g0=(e,t,o,r,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),g=a.parentNode;let v,z;if(!g)return H.none();const M=e.getParent(g,e.isBlock)||c;if(r&&zr(a)&&t&&e.isEmpty(M))return H.some(De(g,e.nodeIndex(a)));const P=new Oa(a,M);for(;z=P[r?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||A3(z,c))return H.none();if(it(z)&&z.data.length>0)return Nx(z,c,"A")?H.none():H.some(De(z,r?z.data.length:0));if(e.isBlock(z)||d[z.nodeName.toLowerCase()])return H.none();v=z}return Bo(v)?H.none():o&&v?H.some(De(v,0)):H.none()},Hw=(e,t,o,r)=>{const a=e.getRoot();let c,d=!1,g=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const z=It(g)&&v===g.childNodes.length,M=e.schema.getNonEmptyElements();let P=o;if(Al(g))return H.none();if(It(g)&&v>g.childNodes.length-1&&(P=!1),jt(g)&&(g=a,v=0),g===a){if(P&&(c=g.childNodes[v>0?v-1:0],c&&(Al(c)||M[c.nodeName]||Kl(c))))return H.none();if(g.hasChildNodes()){if(v=Math.min(!P&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=it(g)&&z?g.data.length:0,!t&&g===a.lastChild&&Kl(g)||D3(a,g)||Al(g)||Ff(g))return H.none();if(g.hasChildNodes()&&!Kl(g)){c=g;const I=new Oa(g,a);do{if(_o(c)||Al(c)){d=!1;break}if(it(c)&&c.data.length>0){v=P?0:c.data.length,g=c,d=!0;break}if(M[c.nodeName.toLowerCase()]&&!vb(c)){v=e.nodeIndex(c),g=c.parentNode,P||v++,d=!0;break}}while(c=P?I.next():I.prev())}}}return t&&(it(g)&&v===0&&g0(e,z,t,!0,g).each(I=>{g=I.container(),v=I.offset(),d=!0}),It(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&zr(c)&&!R3(c,"A")&&!N3(e,c,!1)&&!N3(e,c,!0)&&g0(e,z,t,!0,c).each(I=>{g=I.container(),v=I.offset(),d=!0}))),P&&!t&&it(g)&&v===g.data.length&&g0(e,z,t,!1,g).each(I=>{g=I.container(),v=I.offset(),d=!0}),d&&g?H.some(De(g,v)):H.none()},um=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),a=De.fromRangeStart(t);return Hw(e,o,!0,r).each(c=>{(!o||!De.isAbove(a,c))&&r.setStart(c.container(),c.offset())}),o||Hw(e,o,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),o&&r.collapse(!0),p0(t,r)?H.none():H.some(r)},h0=(e,t)=>e.splitText(t),b0=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(t===r&&it(t)){if(o>0&&o<t.data.length)if(r=h0(t,o),t=r.previousSibling,a>o){a=a-o;const c=h0(r,a).previousSibling;t=r=c,a=c.data.length,o=0}else a=0}else if(it(t)&&o>0&&o<t.data.length&&(t=h0(t,o),o=0),it(r)&&a>0&&a<r.data.length){const c=h0(r,a).previousSibling;r=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:a}},fg=e=>({walk:(c,d)=>s0(e,c,d),split:b0,expand:(c,d={type:"word"})=>{if(d.type==="word"){const g=ig(e,c,[{inline:"span"}]),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>um(e,c).fold(hn,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});fg.compareRanges=p0,fg.getCaretRangeFromPoint=O3,fg.getSelectedNode=Xp,fg.getNode=ra;const $w=((e,t)=>{const o=(g,v)=>{if(!O(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const z=g.dom;Ha(z)&&(z.style[e]=v+"px")},r=g=>{const v=t(g);if(v<=0||v===null){const z=es(g,e);return parseFloat(z)||0}return v},a=r,c=(g,v)=>ao(v,(z,M)=>{const P=es(g,M),I=P===void 0?0:parseInt(P,10);return isNaN(I)?z:z+I},0);return{set:o,get:r,getOuter:a,aggregate:c,max:(g,v,z)=>{const M=c(g,z);return v>M?v-M:0}}})("height",e=>{const t=e.dom;return Fa(e)?t.getBoundingClientRect().height:t.offsetHeight}),Ih=e=>$w.get(e),M3=()=>de.fromDom(document),B3=(e,t)=>e.view(t).fold($e([]),r=>{const a=e.owner(r),c=B3(e,a);return[r].concat(c)}),Rx=(e,t)=>{const o=t.owner(e);return B3(t,o)};var YR=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(de.fromDom)},owner:e=>al(e)});const P3=e=>{const t=M3(),o=go(t),r=Rx(e,YR),a=Eo(e),c=Wt(r,(d,g)=>{const v=Eo(g);return{left:d.left+v.left,top:d.top+v.top}},{left:0,top:0});return ie(c.left+a.left+o.left,c.top+a.top+o.top)},gp=e=>rn(e)==="textarea",L3=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),I3=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},F3=(e,t)=>{const o=ga(e);if(o.length===0||gp(e))return{element:e,offset:t};if(t<o.length&&!gp(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return gp(r)?{element:e,offset:t}:rn(r)==="img"?{element:r,offset:1}:vr(r)?{element:r,offset:Jf(r).length}:{element:r,offset:ga(r).length}}},y0=(e,t)=>{const o=eo(e),r=Ih(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},H3=(e,t)=>{const o=F3(e,t),r=de.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+na+"</span>");return Nr(o.element,r),y0(r,()=>Mn(r))},$3=e=>y0(de.fromDom(e),Qe),V3=(e,t,o,r)=>{U3(e,(a,c)=>j3(e,t,o,r),o)},v0=(e,t,o,r,a)=>{const c={elm:r.element.dom,alignToTop:a};if(L3(e,c))return;const d=go(t).top;o(e,t,d,r,a),I3(e,c)},j3=(e,t,o,r)=>{const a=de.fromDom(e.getBody()),c=de.fromDom(e.getDoc());Im(a);const d=H3(de.fromDom(o.startContainer),o.startOffset);v0(e,c,t,d,r),d.cleanup()},Dx=(e,t,o,r)=>{const a=de.fromDom(e.getDoc());v0(e,a,o,$3(t),r)},U3=(e,t,o)=>{const r=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(de.fromDom(r),de.fromDom(c));const g=e.dom.createRng();g.setStart(r,a),g.setEnd(c,d),e.selection.setRng(o)},x0=(e,t,o,r,a)=>{const c=t.pos;if(r)Vt(c.left,c.top,a);else{const d=c.top-o+t.height;Vt(-e.getBody().getBoundingClientRect().left,d,a)}},Vw=(e,t,o,r,a,c)=>{const d=r+o,g=a.pos.top,v=a.bottom,z=v-g>=r;g<o?x0(e,a,r,c!==!1,t):g>d?x0(e,a,r,z?c!==!1:c===!0,t):v>d&&!z&&x0(e,a,r,c===!0,t)},k0=(e,t,o,r,a)=>{const c=pc(t).dom.innerHeight;Vw(e,t,o,c,r,a)},fm=(e,t,o,r,a)=>{const c=pc(t).dom.innerHeight;Vw(e,t,o,c,r,a);const d=P3(r.element),g=Cl(window);d.top<g.y?zn(r.element,a!==!1):d.top>g.bottom&&zn(r.element,a===!0)},XR=(e,t,o)=>V3(e,k0,t,o),jw=(e,t,o)=>Dx(e,t,k0,o),Gs=(e,t,o)=>V3(e,fm,t,o),Uw=(e,t,o)=>Dx(e,t,fm,o),Zw=(e,t,o)=>{(e.inline?jw:Uw)(e,t,o)},Fd=(e,t,o)=>{(e.inline?XR:Gs)(e,t,o)},Ww=(e,t=!1)=>e.dom.focus({preventScroll:t}),qw=e=>{const t=Zl(e).dom;return e.dom===t.activeElement},Fh=(e=M3())=>H.from(e.dom.activeElement).map(de.fromDom),JR=e=>Fh(Zl(e)).filter(t=>e.dom.contains(t.dom)),Z3=(e,t)=>{const o=vr(t)?Jf(t).length:ga(t).length+1;return e>o?o:e<0?0:e},my=e=>ug.range(e.start,Z3(e.soffset,e.start),e.finish,Z3(e.foffset,e.finish)),W3=(e,t)=>!Ed(t.dom)&&(pa(e,t)||on(e,t)),mg=e=>t=>W3(e,t.start)&&W3(e,t.finish),QR=e=>e.inline||Mo.browser.isFirefox(),pg=e=>ug.range(de.fromDom(e.startContainer),e.startOffset,de.fromDom(e.endContainer),e.endOffset),eD=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?H.none():H.from(t.getRangeAt(0))).map(pg)},Hd=e=>{const t=pc(e);return eD(t.dom).filter(mg(e))},_0=(e,t)=>H.from(t).filter(mg(e)).map(my),Gw=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch{return H.none()}},py=e=>{const t=QR(e)?Hd(de.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},Kw=e=>(e.bookmark?e.bookmark:H.none()).bind(o=>_0(de.fromDom(e.getBody()),o)).bind(Gw),Mx=e=>{Kw(e).each(t=>e.selection.setRng(t))},$d={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},Bx=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),q3=(e,t)=>(O(t)||(t=0),setInterval(e,t)),Pc={setEditorTimeout:(e,t,o)=>Bx(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=q3(()=>{e.removed?clearInterval(r):t()},o);return r}},Yw=e=>e.type==="nodechange"&&e.selectionChange,Hh=(e,t)=>{const o=()=>{t.throttle()};fr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{fr.DOM.unbind(document,"mouseup",o)})},Xw=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},G3=(e,t)=>{Xw(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Yw(o)||py(e)})},tD=e=>{const t=tp(()=>{py(e)},0);e.on("init",()=>{e.inline&&Hh(e,t),G3(e,t)}),e.on("remove",()=>{t.cancel()})};let mm;const Jw=fr.DOM,K3=e=>It(e)&&$d.isEditorUIElement(e),w0=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Px=(e,t)=>{const o=aE(e);return Jw.getParent(t,a=>K3(a)||(o?e.dom.is(a,o):!1))!==null},Lx=e=>{try{const t=Zl(de.fromDom(e.getElement()));return Fh(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},Y3=(e,t)=>{const o=t.editor;tD(o);const r=(a,c)=>{if(hE(a)&&a.inline!==!0){const d=de.fromDom(a.getContainer());c(d,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;w0(Lx(o))&&r(o,Vl),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{Pc.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!w0(Lx(o))||a!==o)&&r(o,Ta),!Px(o,Lx(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),mm||(mm=a=>{const c=e.activeEditor;c&&$u(a).each(d=>{const g=d;g.ownerDocument===document&&g!==document.body&&!Px(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Jw.bind(document,"focusin",mm))},oD=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&mm&&(Jw.unbind(document,"focusin",mm),mm=null)},nD=e=>{e.on("AddEditor",wt(Y3,e)),e.on("RemoveEditor",wt(oD,e))},rD=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),sD=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,aD=e=>e.collapsed?H.from(ra(e.startContainer,e.startOffset)).map(de.fromDom):H.none(),iD=(e,t)=>aD(t).bind(o=>rp(o)?H.some(o):pa(e,o)?H.none():H.some(e)),X3=(e,t)=>{iD(de.fromDom(e.getBody()),t).bind(o=>co(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},Ix=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},lD=e=>qw(e)||JR(e).isSome(),cD=e=>Fe(e.iframeElement)&&qw(de.fromDom(e.iframeElement)),dD=e=>{const t=e.getBody();return t&&lD(de.fromDom(t))},J3=e=>{const t=Zl(de.fromDom(e.getElement()));return Fh(t).filter(o=>!w0(o.dom)&&Px(e,o.dom)).isSome()},gy=e=>e.inline?dD(e):cD(e),$h=e=>gy(e)||J3(e),uD=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const a=d=>{Kw(d).each(g=>{d.selection.setRng(g),r=g})};!gy(e)&&e.hasEditableRoot()&&a(e);const c=rD(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){sD(e,c)||Ix(o),Ix(c),e.hasEditableRoot()||a(e),X3(e,r),Qw(e);return}e.inline||(Mo.browser.isOpera()||Ix(o),e.getWin().focus()),(Mo.browser.isFirefox()||e.inline)&&(Ix(o),X3(e,r)),Qw(e)},Qw=e=>e.editorManager.setActive(e),Q3=(e,t)=>{e.removed||(t?Qw(e):uD(e))},ez=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),tz=(e,t,o,r,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return H.from(c).map(de.fromDom).map(g=>!r||!t.collapsed?hc(g,a(g,d)).getOr(g):g).bind(g=>Jr(g)?H.some(g):Qs(g).filter(Jr)).map(g=>g.dom).getOr(e)},oz=(e,t,o=!1)=>tz(e,t,!0,o,(r,a)=>Math.min(Zc(r),a)),nz=(e,t,o=!1)=>tz(e,t,!1,o,(r,a)=>a>0?a-1:a),rz=(e,t)=>{const o=e;for(;e&&it(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},fD=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===r&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),it(o)&&it(r)&&(o.length===a?o=rz(o.nextSibling,!0):o=o.parentNode,c===0?r=rz(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(d=o)));const g=it(d)?d.parentNode:d;return Gl(g)?g:e},e2=(e,t,o,r)=>{const a=[],c=e.getRoot(),d=e.getParent(o||oz(c,t,t.collapsed),e.isBlock),g=e.getParent(r||nz(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&g&&d!==g){let v;const z=new Oa(d,c);for(;(v=z.next())&&v!==g;)e.isBlock(v)&&a.push(v)}return g&&d!==g&&g!==c&&a.push(g),a},C0=(e,t,o)=>H.from(t).bind(r=>H.from(r.parentNode).map(a=>{const c=e.nodeIndex(r),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(Q1(e,d,r,!0),Q1(e,d,r,!1)),d})),Fx=(e,t)=>Ko(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),mD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Vh=(e,t,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},sz=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Di(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},ya=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ci{static create(t,o){const r=new ci(t,mD[t]||1);return o&&Fo(o,(a,c)=>{r.attr(c,a)}),r}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!Tt(t))return Fe(t)&&Fo(t,(c,d)=>{r.attr(d,c)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),r}return r}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,r}return a.map[t]}}clone(){const t=this,o=new ci(t.name,t.type),r=t.attributes;if(r){const a=[];a.map={};for(let c=0,d=r.length;c<d;c++){const g=r[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,r=[];for(let a=o.firstChild;a;a=Vh(a,o))a.name===t&&r.push(a);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=Vh(a,t))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){var a;const c=this;let d=c.firstChild;if(ya(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||ya(d))return!1}if(d.type===8||d.type===3&&!sz(d)||d.type===3&&d.parent&&o[d.parent.name]&&Di((a=d.value)!==null&&a!==void 0?a:"")||r&&r(d))return!1}while(d=Vh(d,c));return!0}walk(t){return Vh(this,null,t)}}const az=ft.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Hx=e=>Tt(e.nodeValue)&&e.nodeValue.includes(na),S0=e=>`${e.length===0?"":`${Ko(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,gg=(e,t)=>t.querySelectorAll(S0(e)),hp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>Hx(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),iz=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(Hx(t)){const o=t.parentNode;return o&&mo(az,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),pD=e=>hp(e).nextNode()!==null,hy=e=>iz(e).nextNode()!==null,by=(e,t)=>t.querySelector(S0(e))!==null,yy=(e,t)=>{Te(gg(e,t),o=>{const r=de.fromDom(o);za(r,"data-mce-bogus")==="all"?Mn(r):Te(e,a=>{Uc(r,a)&&$o(r,a)})})},$x=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},t2=Ft($x,hp),lz=Ft($x,iz),o2=(e,t)=>{const o=[{condition:wt(by,t),action:wt(yy,t)},{condition:pD,action:t2},{condition:hy,action:lz}];let r=e,a=!1;return Te(o,({condition:c,action:d})=>{c(r)&&(a||(r=e.cloneNode(!0),a=!0),d(r))}),r},cz=e=>{const t=Cs(e,"[data-mce-bogus]");Te(t,o=>{za(o,"data-mce-bogus")==="all"?Mn(o):Md(o)?(Nr(o,de.fromText(Wr)),Mn(o)):ha(o)})},dz=e=>{const t=Cs(e,"input");Te(t,o=>{$o(o,"name")})},uz=(e,t)=>{const o=Li(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},fz=(e,t)=>{const o=e.getDoc(),r=Zl(de.fromDom(e.getBody())),a=de.fromTag("div",o);ws(a,"data-mce-bogus","all"),Xo(a,{position:"fixed",left:"-9999999px",top:"0"}),ql(a,t.innerHTML),cz(a),dz(a);const c=Lp(r);ts(c,a);const d=Xi(a.dom.innerText);return Mn(a),d},E0=(e,t,o)=>{let r;return t.format==="raw"?r=ft.trim(Xi(o2(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=fz(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=uz(e,e.serializer.serialize(o,t)),t.format!=="text"&&!uh(de.fromDom(o))&&Tt(r)?ft.trim(r):r},mz=(e,t)=>H.from(e.getBody()).fold($e(t.format==="tree"?new ci("body",11):""),o=>E0(e,t,o)),n2=ft.makeMap,r2=e=>{const t=[];e=e||{};const o=e.indent,r=n2(e.indent_before||""),a=n2(e.indent_after||""),c=Wm.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(g,v,z)=>{if(o&&r[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let M=0,P=v.length;M<P;M++){const I=v[M];t.push(" ",I.name,'="',c(I.value,!0),'"')}if(!z||d?t[t.length]=">":t[t.length]=" />",z&&o&&a[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),o&&a[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),o&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},bp=(e={},t=zc())=>{const o=r2(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:v=>{var z;o.text((z=v.value)!==null&&z!==void 0?z:"",v.raw)},8:v=>{var z;o.comment((z=v.value)!==null&&z!==void 0?z:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var z;o.doctype((z=v.value)!==null&&z!==void 0?z:"")},4:v=>{var z;o.cdata((z=v.value)!==null&&z!==void 0?z:"")},11:v=>{let z=v;if(z=z.firstChild)do g(z);while(z=z.next)}};o.reset();const g=v=>{var z;const M=d[v.type];if(M)M(v);else{const P=v.name,I=P in t.getVoidElements();let K=v.attributes;if(c&&K&&K.length>1){const oe=[];oe.map={};const Y=t.getElementRule(v.name);if(Y){for(let re=0,ge=Y.attributesOrder.length;re<ge;re++){const ke=Y.attributesOrder[re];if(ke in K.map){const ve=K.map[ke];oe.map[ke]=ve,oe.push({name:ke,value:ve})}}for(let re=0,ge=K.length;re<ge;re++){const ke=K[re].name;if(!(ke in oe.map)){const ve=K.map[ke];oe.map[ke]=ve,oe.push({name:ke,value:ve})}}K=oe}}if(o.start(P,K,I),fu(P))Tt(v.value)&&o.text(v.value,!0),o.end(P);else if(!I){let oe=v.firstChild;if(oe){(P==="pre"||P==="textarea")&&oe.type===3&&((z=oe.value)===null||z===void 0?void 0:z[0])===`
`&&o.text(`
`,!0);do g(oe);while(oe=oe.next)}o.end(P)}}};return a.type===1&&!e.inner?g(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},s2=new Set;Te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{s2.add(t)});const a2=new Set;Te(["background-color"],t=>{a2.add(t)});const i2=["font","text-decoration","text-emphasis"],pz=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),jh=(e,t)=>nt(pz(e,t)),l2=e=>s2.has(e),z0=e=>a2.has(e),c2=(e,t)=>Sn(jh(e,t),o=>l2(o)),gz=(e,t)=>c2(e,t)&&Sn(jh(e,t),o=>z0(o)),Vx=e=>Xe(e,t=>Sn(i2,o=>sr(t,o))),gD=(e,t,o)=>{const r=jh(e,t),a=jh(e,o),c=d=>{var g,v;const z=(g=e.getStyle(t,d))!==null&&g!==void 0?g:"",M=(v=e.getStyle(o,d))!==null&&v!==void 0?v:"";return bn(z)&&bn(M)&&z!==M};return Sn(r,d=>{const g=v=>Sn(v,z=>z===d);if(!g(a)&&g(i2)){const v=Vx(a);return Sn(v,c)}else return c(d)})},hz=(e,t,o)=>H.from(o.container()).filter(it).exists(r=>{const a=e?0:-1;return t(r.data.charAt(o.offset()+a))}),yp=wt(hz,!0,Dh),T0=wt(hz,!1,Dh),bz=e=>{const t=e.container();return it(t)&&(t.data.length===0||Nc(t.data)&&lr.isBookmarkNode(t.parentNode))},Eu=(e,t)=>o=>sx(e?0:-1,o).filter(t).isSome(),d2=e=>El(e)&&es(de.fromDom(e),"display")==="block",jx=e=>_o(e)&&!Fp(e),yz=Eu(!0,d2),vz=Eu(!1,d2),Uh=Eu(!0,Le),vy=Eu(!1,Le),xz=Eu(!0,Kl),xy=Eu(!1,Kl),va=Eu(!0,jx),hf=Eu(!1,jx),Zh=e=>e.slice(0,-1),kz=(e,t,o)=>pa(t,e)?Zh(Hu(e,r=>o(r)||on(r,t))):[],tc=(e,t)=>kz(e,t,hn),Lc=(e,t)=>[e].concat(tc(e,t)),Ux=(e,t,o)=>jE(e,t,o,bz),_z=e=>t=>e.isBlock(rn(t)),u2=(e,t,o)=>En(Lc(de.fromDom(t.container()),e),_z(o)),ky=(e,t,o,r)=>Ux(e,t.dom,o).forall(a=>u2(t,o,r).fold(()=>!im(a,o,t.dom),c=>!im(a,o,t.dom)&&pa(c,de.fromDom(a.container())))),Zx=(e,t,o,r)=>u2(t,o,r).fold(()=>Ux(e,t.dom,o).forall(a=>!im(a,o,t.dom)),a=>Ux(e,a.dom,o).isNone()),Wx=wt(Zx,!1),wz=wt(Zx,!0),f2=wt(ky,!1),m2=wt(ky,!0),hD=e=>ax(e).exists(Md),Vd=(e,t,o,r)=>{const a=Xe(Lc(de.fromDom(o.container()),t),d=>r.isBlock(rn(d))),c=ct(a).getOr(t);return rd(e,c.dom,o).filter(hD)},O0=(e,t,o)=>ax(t).exists(Md)||Vd(!0,e,t,o).isSome(),Wh=(e,t,o)=>yR(t).exists(Md)||Vd(!1,e,t,o).isSome(),qx=wt(Vd,!1),Cz=wt(Vd,!0),p2=e=>De.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),g2=(e,t,o)=>{const r=Xe(Lc(de.fromDom(t.container()),e),a=>o.isBlock(rn(a)));return ct(r).getOr(e)},Sz=(e,t,o)=>p2(t)?T0(t):T0(t)||Dc(g2(e,t,o).dom,t).exists(T0),Ez=(e,t,o)=>p2(t)?yp(t):yp(t)||Nl(g2(e,t,o).dom,t).exists(yp),zz=e=>tn(["pre","pre-wrap"],e),Gx=e=>ax(e).bind(t=>us(t,Jr)).exists(t=>zz(es(t,"white-space"))),h2=(e,t)=>Dc(e.dom,t).isNone(),b2=(e,t)=>Nl(e.dom,t).isNone(),Tz=(e,t,o)=>h2(e,t)||b2(e,t)||Wx(e,t,o)||wz(e,t,o)||Wh(e,t,o)||O0(e,t,o),y2=e=>Fe(e)&&_o(e)&&dw(e),v2=(e,t)=>o=>y2(new Oa(o,e)[t]()),Oz=(e,t)=>{const o=Nl(e.dom,t).getOr(t),r=v2(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},x2=(e,t)=>{const o=Dc(e.dom,t).getOr(t),r=v2(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},k2=(e,t,o)=>Gx(t)?!1:Tz(e,t,o)||Sz(e,t,o)||Ez(e,t,o),_y=(e,t,o)=>Gx(t)?!1:Wx(e,t,o)||f2(e,t,o)||Wh(e,t,o)||Sz(e,t,o)||x2(e,t),Az=e=>{const t=e.container(),o=e.offset();return it(t)&&o<t.data.length?De(t,o+1):e},qh=(e,t,o)=>Gx(t)?!1:wz(e,t,o)||m2(e,t,o)||O0(e,t,o)||Ez(e,t,o)||Oz(e,t),_2=(e,t,o)=>_y(e,t,o)||qh(e,Az(t),o),A0=(e,t)=>Ii(e.charAt(t)),w2=(e,t)=>Dh(e.charAt(t)),Nz=e=>{const t=e.container();return it(t)&&Rn(t.data,oa)},bD=e=>{const t=e.split("");return Ko(t,(o,r)=>Ii(o)&&r>0&&r<t.length-1&&up(t[r-1])&&up(t[r+1])?" ":o).join("")},Rz=(e,t,o,r)=>{const a=t.data,c=De(t,0);return!o&&A0(a,0)&&!_2(e,c,r)?(t.data=" "+a.slice(1),!0):o&&w2(a,0)&&_y(e,c,r)?(t.data=oa+a.slice(1),!0):!1},Dz=e=>{const t=e.data,o=bD(t);return o!==t?(e.data=o,!0):!1},Mz=(e,t,o,r)=>{const a=t.data,c=De(t,a.length-1);return!o&&A0(a,a.length-1)&&!_2(e,c,r)?(t.data=a.slice(0,-1)+" ",!0):o&&w2(a,a.length-1)&&qh(e,c,r)?(t.data=a.slice(0,-1)+oa,!0):!1},Bz=(e,t,o)=>{const r=t.container();if(!it(r))return H.none();if(Nz(t)){const a=Rz(e,r,!1,o)||Dz(r)||Mz(e,r,!1,o);return tu(a,t)}else if(_2(e,t,o)){const a=Rz(e,r,!0,o)||Mz(e,r,!0,o);return tu(a,t)}else return H.none()},yD=e=>{const t=de.fromDom(e.getBody());e.selection.isCollapsed()&&Bz(t,De.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Pz=(e,t,o,r)=>{if(o===0)return;const a=de.fromDom(e),c=oi(a,z=>r.isBlock(rn(z))).getOr(a),d=e.data.slice(t,t+o),g=t+o>=e.data.length&&qh(c,De(e,e.data.length),r),v=t===0&&_y(c,De(e,0),r);e.replaceData(t,o,Hm(d,4,v,g))},Kx=(e,t,o)=>{const r=e.data.slice(t),a=r.length-ml(r).length;Pz(e,t,a,o)},ps=(e,t,o)=>{const r=e.data.slice(0,t),a=r.length-Tr(r).length;Pz(e,t-a,a,o)},N0=(e,t,o,r,a=!0)=>{const c=Tr(e.data).length,d=a?e:t,g=a?t:e;return a?d.appendData(g.data):d.insertData(0,g.data),Mn(de.fromDom(g)),r&&Kx(d,c,o),d},vD=(e,t)=>{const o=e.container(),r=e.offset();return!De.isTextPosition(e)&&o===t.parentNode&&r>De.before(t).offset()},xD=(e,t)=>vD(t,e)?De(t.container(),t.offset()-1):t,wy=e=>it(e)?De(e,0):De.before(e),hg=e=>it(e)?De(e,e.data.length):De.after(e),pm=e=>Qc(e.previousSibling)?H.some(hg(e.previousSibling)):e.previousSibling?Pd(e.previousSibling):H.none(),C2=e=>Qc(e.nextSibling)?H.some(wy(e.nextSibling)):e.nextSibling?co(e.nextSibling):H.none(),Lz=(e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Dc(e,De.before(o))).orThunk(()=>Nl(e,De.after(t))),Iz=(e,t)=>Nl(e,De.after(t)).orThunk(()=>Dc(e,De.before(t))),Yx=(e,t)=>pm(t).orThunk(()=>C2(t)).orThunk(()=>Lz(e,t)),kD=(e,t)=>C2(t).orThunk(()=>pm(t)).orThunk(()=>Iz(e,t)),S2=(e,t,o)=>e?kD(t,o):Yx(t,o),Fz=(e,t,o)=>S2(e,t,o).map(wt(xD,o)),E2=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},z2=e=>t=>t.dom===e,Hz=(e,t)=>t&&mo(e.schema.getBlockElements(),rn(t)),T2=(e,t,o)=>{if(qr(e,t)){const r=de.fromHtml('<br data-mce-bogus="1">');return o?Te(ga(t),a=>{bx(a)||Mn(a)}):ir(t),ts(t,r),H.some(De.before(r.dom))}else return H.none()},_D=(e,t,o,r)=>{const a=Ds(e).filter(vr),c=Kt(e).filter(vr);return Mn(e),yd(a,c,t,(d,g,v)=>{const z=d.dom,M=g.dom,P=z.data.length;return N0(z,M,o,r),v.container()===M?De(z,P):v}).orThunk(()=>(r&&(a.each(d=>ps(d.dom,d.dom.length,o)),c.each(d=>Kx(d.dom,0,o))),t))},wD=(e,t)=>mo(e.schema.getTextInlineElements(),rn(t)),Qi=(e,t,o,r=!0,a=!1)=>{const c=Fz(t,e.getBody(),o.dom),d=oi(o,wt(Hz,e),z2(e.getBody())),g=_D(o,c,e.schema,wD(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(v=>T2(e.schema,v,a)).fold(()=>{r&&E2(e,t,g)},v=>{r&&E2(e,t,H.some(v))})},$z=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,CD=e=>$z.test(e),Gh=(e,t)=>Un(de.fromDom(t),yn(e))&&!Cc(e.schema,t)&&e.dom.isEditable(t),R0=e=>{var t;return fr.DOM.getStyle(e,"direction",!0)==="rtl"||CD((t=e.textContent)!==null&&t!==void 0?t:"")},SD=(e,t,o)=>Xe(fr.DOM.getParents(o.container(),"*",t),e),bg=(e,t,o)=>{const r=SD(e,t,o);return H.from(r[r.length-1])},Vz=(e,t,o)=>{const r=ng(t,e),a=ng(o,e);return Fe(r)&&r===a},O2=e=>fh(e)||Vb(e),jd=(e,t)=>{const o=t.container(),r=t.offset();return e?em(o)?it(o.nextSibling)?De(o.nextSibling,0):De.after(o):fh(t)?De(o,r+1):t:em(o)?it(o.previousSibling)?De(o.previousSibling,o.previousSibling.data.length):De.before(o):Vb(t)?De(o,r-1):t},jz=wt(jd,!0),Cy=wt(jd,!1),A2=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},Uz=e=>{e.execCommand("delete")},Xx=e=>A2(e,"Delete"),N2=e=>A2(e,"ForwardDelete"),D0=e=>t=>hd(Qs(t),e,on),Zz=e=>ch(e)||Qf(e),M0=(e,t)=>pa(e,t)?us(t,Zz,D0(e)):H.none(),Jx=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Wz=(e,t,o)=>ma(co(o),Pd(o),(r,a)=>{const c=jd(!0,r),d=jd(!1,a),g=jd(!1,t);return e?Nl(o,g).exists(v=>v.isEqual(d)&&t.isEqual(c)):Dc(o,g).exists(v=>v.isEqual(c)&&t.isEqual(d))}).getOr(!0),zu=e=>(Lu(e)?Ds(e):bc(e)).bind(zu).orThunk(()=>H.some(e)),Qx=(e,t,o,r=!0)=>{var a;t.deleteContents();const c=zu(o).getOr(o),d=de.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?Jx(e,r):qr(e.schema,d,{checkRootAsContent:!1})&&(Ac(d),r&&e.selection.setCursorLocation(d.dom,0)),!on(o,d)){const g=hd(Qs(d),o)?[]:Of(d);Te(g.concat(ga(o)),v=>{!on(v,d)&&!pa(v,d)&&qr(e.schema,v)&&Mn(v)})}},ED=e=>t=>on(e,t),R2=e=>Cs(e,"td,th"),Zn=(e,t)=>Gn(de.fromDom(e),t),zD=e=>ma(e.startTable,e.endTable,(t,o)=>{const r=Ip(t,c=>on(c,o)),a=Ip(o,c=>on(c,t));return!r&&!a?e:{...e,startTable:r?H.none():e.startTable,endTable:a?H.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),B0=e=>zD(e),TD=(e,t)=>{const o=Zn(e.startContainer,t),r=Zn(e.endContainer,t),a=o.isSome(),c=r.isSome(),d=ma(o,r,on).getOr(!1);return B0({startTable:o,endTable:r,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},ek=(e,t)=>({start:e,end:t}),yg=(e,t,o)=>({rng:e,table:t,cells:o}),Fi=ln.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),vg=(e,t)=>js(de.fromDom(e),"td,th",t),vp=e=>!on(e.start,e.end),bf=(e,t)=>Gn(e.start,t).bind(o=>Gn(e.end,t).bind(r=>tu(on(o,r),o))),P0=(e,t)=>!vp(e)&&bf(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),D2=(e,t)=>{const o=vg(e.startContainer,t),r=vg(e.endContainer,t);return ma(o,r,ek)},M2=e=>t=>Gn(t,e).bind(o=>Co(R2(o)).map(r=>ek(t,r))),qz=e=>t=>Gn(t,e).bind(o=>ct(R2(o)).map(r=>ek(r,t))),tk=e=>t=>bf(t,e).map(o=>yg(t,o,R2(o))),Gz=(e,t,o,r)=>{if(o.collapsed||!e.forall(vp))return H.none();if(t.isSameTable){const a=e.bind(tk(r));return H.some({start:a,end:a})}else{const a=vg(o.startContainer,r),c=vg(o.endContainer,r),d=a.bind(M2(r)).bind(tk(r)),g=c.bind(qz(r)).bind(tk(r));return H.some({start:d,end:g})}},Kz=(e,t)=>Jn(e,o=>on(o,t)),ok=e=>ma(Kz(e.cells,e.rng.start),Kz(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),Yz=(e,t,o)=>e.exists(r=>P0(r,o)&&J1(r.start,t)),B2=(e,t)=>{const{startTable:o,endTable:r}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),r.each(c=>a.setEndBefore(c.dom)),a},Xz=(e,t,o,r)=>Gz(e,t,o,r).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=ok(a).getOr([]);if(c&&a.cells.length===d.length)return H.some(Fi.fullTable(a.table));if(d.length>0){if(c)return H.some(Fi.partialTable(d,H.none()));{const g=B2(o,t);return H.some(Fi.partialTable(d,H.some({...t,rng:g})))}}else return H.none()}),P2=(e,t,o,r)=>Gz(e,t,o,r).bind(({start:a,end:c})=>{const d=a.bind(ok).getOr([]),g=c.bind(ok).getOr([]);if(d.length>0&&g.length>0){const v=B2(o,t);return H.some(Fi.multiTable(d,g,v))}else return H.none()}),OD=(e,t)=>{const o=ED(e),r=D2(t,o),a=TD(t,o);return Yz(r,t,o)?r.map(c=>Fi.singleCellTable(t,c.start)):a.isMultiTable?P2(r,a,t,o):Xz(r,a,t,o)},Jz=e=>Te(e,t=>{$o(t,"contenteditable"),Ac(t)}),AD=(e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(de.fromDom),gm=(e,t,o)=>{o.each(r=>{t?Mn(r):(Ac(r),e.selection.setCursorLocation(r.dom,0))})},Kh=(e,t,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),F2(e,a,t,!1).each(c=>c())},L2=e=>{const t=ff(e),o=de.fromDom(e.selection.getNode());Uu(o.dom)&&qr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Sn(t,r=>on(r,o))&&ws(o,"data-mce-selected","1")},I2=(e,t,o)=>H.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const g=AD(e,d?c.endContainer:c.startContainer);c.deleteContents(),gm(e,d,g.filter(wt(qr,e.schema)));const v=d?t[0]:t[t.length-1];return Kh(e,v,r,d),qr(e.schema,v)?H.none():H.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);Jz(a),L2(e)}),Qz=(e,t,o,r)=>H.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];Kh(e,c,a,!0),Kh(e,d,a,!1);const g=qr(e.schema,c)?t:t.slice(1),v=qr(e.schema,d)?o:o.slice(0,-1);Jz(g.concat(v)),r.deleteContents(),L2(e)}),F2=(e,t,o,r=!0)=>H.some(()=>{Qx(e,t,o,r)}),xg=(e,t)=>H.some(()=>Qi(e,!1,t)),ND=(e,t,o)=>OD(t,o).bind(r=>r.fold(wt(F2,e),wt(xg,e),wt(I2,e),wt(Qz,e))),RD=(e,t)=>nk(e,t),DD=(e,t,o,r)=>H2(t,r).fold(()=>ND(e,t,o),a=>RD(e,a)),MD=(e,t,o)=>{const r=de.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?I2(e,o,H.none()):DD(e,r,a,t)},eT=(e,t)=>En(Lc(t,e),Oc),H2=(e,t)=>En(Lc(t,e),xd("caption")),BD=(e,t,o,r,a)=>Nh(o,e.getBody(),a).bind(c=>eT(t,de.fromDom(c.getNode())).bind(d=>on(d,r)?H.none():H.some(Qe))),nk=(e,t)=>H.some(()=>{Ac(t),e.selection.setCursorLocation(t.dom,0)}),PD=(e,t,o,r)=>co(e.dom).bind(a=>Pd(e.dom).map(c=>t?o.isEqual(a)&&r.isEqual(c):o.isEqual(c)&&r.isEqual(a))).getOr(!0),rk=(e,t)=>nk(e,t),LD=(e,t,o)=>H2(e,de.fromDom(o.getNode())).fold(()=>H.some(Qe),r=>tu(!on(r,t),Qe)),L0=(e,t,o,r,a)=>Nh(o,e.getBody(),a).fold(()=>H.some(Qe),c=>PD(r,o,a,c)?rk(e,r):LD(t,r,c)),$2=(e,t,o,r)=>{const a=De.fromRangeStart(e.selection.getRng());return eT(o,r).bind(c=>qr(e.schema,c,{checkRootAsContent:!1})?nk(e,c):BD(e,o,t,c,a))},Yh=(e,t,o,r)=>{const a=De.fromRangeStart(e.selection.getRng());return qr(e.schema,r)?nk(e,r):L0(e,o,t,r,a)},kg=(e,t)=>e?xz(t):xy(t),sk=(e,t)=>{const o=De.fromRangeStart(e.selection.getRng());return kg(t,o)||rd(t,e.getBody(),o).exists(r=>kg(t,r))},ak=(e,t,o)=>{const r=de.fromDom(e.getBody());return H2(r,o).fold(()=>$2(e,t,r,o).orThunk(()=>tu(sk(e,t),Qe)),a=>Yh(e,t,r,a))},xp=(e,t)=>{const o=de.fromDom(e.selection.getStart(!0)),r=ff(e);return e.selection.isCollapsed()&&r.length===0?ak(e,t,o):MD(e,o,r)},Ud=(e,t)=>{let o=t;for(;o&&o!==e;){if(zl(o)||_o(o))return o;o=o.parentNode}return null},ik=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],lk=ft.each,ck=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const g=z=>{const M={};return lk(t.getAttribs(z),P=>{const I=P.nodeName.toLowerCase();I!=="style"&&!a(I)&&(M[I]=t.getAttrib(z,I))}),M},v=(z,M)=>{for(const P in z)if(mo(z,P)){const I=M[P];if(gr(I)||z[P]!==I)return!1;delete M[P]}for(const P in M)if(mo(M,P))return!1;return!0};return It(c)&&It(d)&&(!v(g(c),g(d))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!ad(c)&&!ad(d)},a=c=>Sn(ik,d=>sr(c,d))||o.has(c);return{compare:r,isAttributeInternal:a}},dk=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),V2=e=>e.name==="summary",tT=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},j2=(e,t,o,r)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const g=e[c];if(g.name===a){const v=r.nodes[a];v?v.nodes.push(o):r.nodes[a]={filter:g,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const g=t[c],v=g.name;if(v in o.attributes.map){const z=r.attributes[v];z?z.nodes.push(o):r.attributes[v]={filter:g,nodes:[o]}}}},Sy=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&tT(o,a=>{j2(e,t,a,r)}),r},U2=(e,t)=>{const o=(r,a)=>{Fo(r,c=>{const d=Vo(c.nodes);Te(c.filter.callbacks,g=>{for(let v=d.length-1;v>=0;v--){const z=d[v];(!(a?z.attr(c.filter.name)!==void 0:z.name===c.filter.name)||Lo(z.parent))&&d.splice(v,1)}d.length>0&&g(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},Z2=(e,t,o,r={})=>{const a=Sy(e,t,o);U2(a,r)},uk=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const c=new ci("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new ci("#text",3)).value=oa},fk=e=>{var t;return W2(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===oa},W2=(e,t)=>{const o=e==null?void 0:e.firstChild;return Fe(o)&&o===e.lastChild&&o.name===t},oT=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},Ey=(e,t,o,r)=>r.isEmpty(t,o,a=>oT(e,a)),nT=(e,t)=>Fe(e)&&(t(e)||e.name==="br"),kp=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return H.from(t)},hm=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!t.isValidChild(o.name,a.name)&&hm(a,t,o);e.unwrap()}},ld=(e,t,o,r=Qe)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=ft.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,z=M=>M!==o&&!g[M.name];for(let M=0;M<e.length;M++){const P=e[M];let I,K,oe;if(!P.parent||v.has(P))continue;if(a[P.name]&&P.parent.name==="li"){let re=P.next;for(;re&&a[re.name];){re.name="li",v.add(re),P.parent.insert(re,P.parent);re=re.next}P.unwrap();continue}const Y=[P];for(I=P.parent;I&&!t.isValidChild(I.name,P.name)&&z(I);I=I.parent)Y.push(I);if(I&&Y.length>1)if(I0(t,P,I))hm(P,t);else{Y.reverse(),K=Y[0].clone(),r(K);let re=K;for(let ge=0;ge<Y.length-1;ge++){t.isValidChild(re.name,Y[ge].name)&&ge>0?(oe=Y[ge].clone(),r(oe),re.append(oe)):oe=re;for(let ke=Y[ge].firstChild;ke&&ke!==Y[ge+1];){const ve=ke.next;oe.append(ke),ke=ve}re=oe}Ey(t,c,d,K)?I.insert(P,Y[0],!0):(I.insert(K,Y[0],!0),I.insert(P,K)),I=Y[0],(Ey(t,c,d,I)||W2(I,"br"))&&I.empty().remove()}else if(P.parent){if(P.name==="li"){let re=P.prev;if(re&&(re.name==="ul"||re.name==="ol")){re.append(P);continue}if(re=P.next,re&&(re.name==="ul"||re.name==="ol")&&re.firstChild){re.insert(P,re.firstChild,!0);continue}const ge=new ci("ul",1);r(ge),P.wrap(ge);continue}if(t.isValidChild(P.parent.name,"div")&&t.isValidChild("div",P.name)){const re=new ci("div",1);r(re),P.wrap(re)}else hm(P,t)}}},q2=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},I0=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&q2(o,"a")?!0:V2(o)&&dk(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,rT=(e,t,o,r)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,r),a},sT=e=>{const t=De.fromRangeStart(e),o=De.fromRangeEnd(e),r=e.commonAncestorContainer;return rd(!1,r,o).map(a=>!im(t,o,r)&&im(t,a,r)?rT(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},mk=e=>e.collapsed?e:sT(e),G2=e=>Fe(e.firstChild)&&e.firstChild===e.lastChild,aT=e=>e.name==="br"||e.value===oa,iT=(e,t)=>e.getBlockElements()[t.name]&&G2(t)&&aT(t.firstChild),K2=(e,t)=>{const o=e.getNonEmptyElements();return Fe(t)&&(t.isEmpty(o)||iT(e,t))},bm=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),K2(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},Tu=e=>{var t,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},pk=(e,t,o)=>{const r=t.serialize(o),a=e.createFragment(r);return Tu(a)},lT=e=>{var t;return Xe((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},gk=e=>e.data===oa||zr(e),cT=e=>Fe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&gk(e.firstChild),dT=e=>!e.firstChild||cT(e),uT=e=>e.length>0&&dT(e[e.length-1])?e.slice(0,-1):e,hk=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},fT=(e,t)=>!!hk(e,t),mT=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},bk=(e,t)=>{const o=De.before(e),a=no(t).next(o);return a?a.toRange():null},yk=(e,t)=>{const o=De.after(e),a=no(t).prev(o);return a?a.toRange():null},pT=(e,t,o,r)=>{const a=mT(e,r),c=e.parentNode;return c&&(c.insertBefore(a[0],e),ft.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),yk(t[t.length-1],o)},Y2=(e,t,o)=>{const r=e.parentNode;return r&&ft.each(t,a=>{r.insertBefore(a,e)}),bk(e,o)},ID=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),yk(t[0],o)),FD=(e,t,o,r)=>{const a=pk(t,e,r),c=hk(t,o.startContainer),d=uT(lT(a.firstChild)),g=1,v=2,z=t.getRoot(),M=P=>{const I=De.fromRangeStart(o),K=no(t.getRoot()),oe=P===g?K.prev(I):K.next(I),Y=oe==null?void 0:oe.getNode();return Y?hk(t,Y)!==c:!0};return c?M(g)?Y2(c,d,z):M(v)?ID(c,d,z,t):pT(c,d,z,o):null},HD=["pre"],$D=(e,t,o,r)=>{var a;const c=t.firstChild,d=t.lastChild,g=d.attr("data-mce-type")==="bookmark"?d.prev:d,v=c===g,z=tn(HD,c.name);if(v&&z){const M=c.attr("contenteditable")!=="false",P=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,I=H.from(Ud(r,o)).forall(zl);return M&&P&&I}else return!1},X2=Uu,VD=(e,t,o)=>{if(Fe(o)){const r=e.getParent(t.endContainer,X2);return o===r&&J1(de.fromDom(o),t)}else return!1},vk=(e,t,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),o);else{const a=o.firstChild,c=o.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},J2=(e,t,o)=>{H.from(e.getParent(t,"td,th")).map(de.fromDom).each(r=>_1(r,o))},gT=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const a=e.getBody(),c=ck(e),d="*[data-mce-fragment]",g=r.select(d);ft.each(g,v=>{const z=I=>Fe(o[I.nodeName.toLowerCase()]),M=I=>I.childNodes.length===1;if((I=>!(c2(r,I)||gz(r,I)))(v)&&z(v)&&M(v)){const I=jh(r,v),K=(ge,ke)=>Yr(ge,ve=>tn(ke,ve)),oe=ge=>M(v)&&r.is(ge,d)&&z(ge)&&(ge.nodeName===v.nodeName&&K(I,jh(r,ge))||oe(ge.children[0])),Y=ge=>Fe(ge)&&ge!==a&&(c.compare(v,ge)||Y(ge.parentElement)),re=ge=>Fe(ge)&&ge!==a&&r.is(ge,d)&&(gD(r,v,ge)||re(ge.parentElement));(oe(v.children[0])||Y(v.parentElement)&&!re(v.parentElement))&&r.remove(v,!0)}})}},Q2=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},jD=e=>{ft.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},UD=e=>!!e.getAttribute("data-mce-fragment"),ZD=(e,t)=>Fe(t)&&!e.schema.getVoidElements()[t.nodeName],WD=(e,t)=>{var o,r,a;let c;const d=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=Ud(e.getBody(),t);if(v&&d.getContentEditable(v)==="false"){d.remove(t),g.select(v);return}let z=d.createRng();const M=t.previousSibling;if(it(M)){z.setStart(M,(r=(o=M.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const K=t.nextSibling;it(K)&&(M.appendData(K.data),(a=K.parentNode)===null||a===void 0||a.removeChild(K))}else z.setStartBefore(t),z.setEndBefore(t);const P=K=>{let oe=De.fromRangeStart(K);return oe=no(e.getBody()).next(oe),oe==null?void 0:oe.toRange()},I=d.getParent(t,d.isBlock);if(d.remove(t),I&&d.isEmpty(I)){const K=X2(I);ir(de.fromDom(I)),z.setStart(I,0),z.setEnd(I,0),!K&&!UD(I)&&(c=P(z))?(z=c,d.remove(I)):d.add(I,d.create("br",K?{}:{"data-mce-bogus":"1"}))}g.setRng(z)},qD=e=>{const t=e.dom,o=mk(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,X2);VD(t,o,r)?F2(e,o,de.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&it(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},GD=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return H.some(t);return H.none()},xk=(e,t,o)=>{var r;return Sn(o.children(),dk)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},kk=(e,t,o)=>{var r,a;const c=e.selection,d=e.dom,g=e.parser,v=o.merge,z=bp({validate:!0},e.schema),M='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Xi(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,M);let P=c.getRng();const I=P.startContainer,K=e.getBody();I===K&&c.isCollapsed()&&d.isBlock(K.firstChild)&&ZD(e,K.firstChild)&&d.isEmpty(K.firstChild)&&(P=d.createRng(),P.setStart(K.firstChild,0),P.setEnd(K.firstChild,0),c.setRng(P)),c.isCollapsed()||qD(e);const oe=c.getNode(),Y={context:oe.nodeName.toLowerCase(),data:o.data,insert:!0},re=g.parse(t,Y);if(o.paste===!0&&bm(e.schema,re)&&fT(d,oe))return P=FD(z,d,c.getRng(),re),P&&c.setRng(P),t;o.paste===!0&&$D(d,re,oe,e.getBody())&&((r=re.firstChild)===null||r===void 0||r.unwrap()),Q2(re);let ge=re.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const ke=ge;for(ge=ge.prev;ge;ge=ge.walk(!0))if(ge.type===3||!d.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(ke,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(oe),!Y.invalid&&!xk(d,oe,re))t=z.serialize(re),vk(e,t,oe);else{e.selection.setContent(M);let ke=c.getNode(),ve;const ze=e.getBody();for(jt(ke)?ke=ve=ze:ve=ke;ve&&ve!==ze;)ke=ve,ve=ve.parentNode;t=ke===ze?ze.innerHTML:d.getOuterHTML(ke);const Je=g.parse(t),gt=GD(Je),Ot=gt.bind(kp).getOr(Je);gt.each(Mt=>Mt.replace(re));const He=re.children(),Ne=(a=re.parent)!==null&&a!==void 0?a:Je;re.unwrap();const Ke=Xe(He,Mt=>I0(e.schema,Mt,Ne));ld(Ke,e.schema,Ot),Z2(g.getNodeFilters(),g.getAttributeFilters(),Je),t=z.serialize(Je),ke===ze?d.setHTML(ze,t):d.setOuterHTML(ke,t)}return gT(e,v),WD(e,d.get("mce_marker")),jD(e.getBody()),J2(d,c.getStart(),e.schema),Ws(e.schema,e.getBody(),c.getStart()),t},Xh=e=>e instanceof ci,KD=e=>{gy(e)&&co(e.getBody()).each(t=>{const o=t.getNode(),r=Kl(o)?co(o).getOr(t):t;e.selection.setRng(r.toRange())})},eC=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&KD(e)},YD=(e,t,o,r)=>{if(o=Xi(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=Li(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,M1(e),o)):o||(o=a),eC(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=bp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=uh(de.fromDom(t))?o:ft.trim(o);return eC(e,a,r.no_selection),{content:a,html:a}}},XD=(e,t,o,r)=>{Z2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=bp({validate:!1},e.schema).serialize(o),c=Xi(uh(de.fromDom(t))?a:ft.trim(a));return eC(e,c,r.no_selection),{content:o,html:c}},JD=(e,t,o)=>H.from(e.getBody()).map(r=>Xh(t)?XD(e,r,t,o):YD(e,r,t,o)).getOr({content:t,html:Xh(o.content)?"":o.content}),hT=e=>Pt(e)?e:hn,Ou=(e,t,o)=>{let r=e.dom;const a=hT(o);for(;r.parentNode;){r=r.parentNode;const c=de.fromDom(r),d=t(c);if(d.isSome())return d;if(a(c))break}return H.none()},F0=(e,t,o)=>{const r=t(e),a=hT(o);return r.orThunk(()=>a(e)?H.none():Ou(e,t,a))},_k=uy,tC=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const c=r[a];if(Mc(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},wk=(e,t,o,r,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,g=>tC(e,g,o)?!0:g.parentNode===c||!!ym(e,g,o,r,!0));return!!ym(e,d,o,r,a)},Ck=(e,t,o)=>qa(o)&&_k(t,o.inline)||mf(o)&&_k(t,o.block)?!0:Mc(o)?It(t)&&e.is(t,o.selector):!1,oC=(e,t,o,r,a,c)=>{const d=o[r],g=r==="attributes";if(Pt(o.onmatch))return o.onmatch(t,o,r);if(d){if(kt(d)){for(let v=0;v<d.length;v++)if(g?e.getAttrib(t,d[v]):e0(e,t,d[v]))return!0}else for(const v in d)if(mo(d,v)){const z=g?e.getAttrib(t,v):e0(e,t,v),M=fp(d[v],c),P=Lo(z)||bi(z);if(P&&Lo(M))continue;if(a&&P&&!o.exact||(!a||o.exact)&&!_k(z,px(M,v)))return!1}}return!0},ym=(e,t,o,r,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&It(t))for(let g=0;g<c.length;g++){const v=c[g];if(Ck(e.dom,t,v)&&oC(d,t,v,"attributes",a,r)&&oC(d,t,v,"styles",a,r)){const z=v.classes;if(z){for(let M=0;M<z.length;M++)if(!e.dom.hasClass(t,fp(z[M],r)))return}return v}}},_g=(e,t,o,r,a)=>{if(r)return wk(e,r,t,o,a);if(r=e.selection.getNode(),wk(e,r,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==r&&wk(e,c,t,o,a))},bT=(e,t,o)=>{const r=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let g=0;g<t.length;g++){const v=t[g];!a[v]&&ym(e,d,v,o)&&(a[v]=!0,r.push(v))}},e.dom.getRoot()),r},yT=(e,t)=>{const o=a=>on(a,de.fromDom(e.getBody())),r=(a,c)=>ym(e,a.dom,c)?H.some(c):H.none();return H.from(e.selection.getStart(!0)).bind(a=>F0(de.fromDom(a),c=>Hs(t,d=>r(c,d)),o)).getOrNull()},vT=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=t0(r,a);for(let d=o.length-1;d>=0;d--){const g=o[d];if(!Mc(g))return!0;for(let v=c.length-1;v>=0;v--)if(r.is(c[v],g.selector))return!0}}return!1},nC=(e,t,o)=>ao(o,(r,a)=>{const c=a3(e,a);return e.formatter.matchNode(t,a,{},c)?r.concat([a]):r},[]),H0=na,QD=(e,t)=>e.importNode(t,!0),xT=e=>{if(e){const t=new Oa(e,e);for(let o=t.current();o;o=t.next())if(it(o))return o}return null},vm=e=>{const t=de.fromTag("span");return Pa(t,{id:ay,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ts(t,de.fromText(H0)),t},rC=e=>{const t=xT(e);return t&&t.data.charAt(0)===H0&&t.deleteData(0,1),t},sC=(e,t,o)=>{const r=e.dom,a=e.selection;if(zw(t))Qi(e,!1,de.fromDom(t),o,!0);else{const c=a.getRng(),d=r.getParent(t,r.isBlock),g=c.startContainer,v=c.startOffset,z=c.endContainer,M=c.endOffset,P=rC(t);r.remove(t,!0),g===P&&v>0&&c.setStart(P,v-1),z===P&&M>0&&c.setEnd(P,M-1),d&&r.isEmpty(d)&&Ac(de.fromDom(d)),a.setRng(c)}},aC=(e,t,o)=>{const r=e.dom,a=e.selection;if(t)sC(e,t,o);else if(t=rg(e.getBody(),a.getStart()),!t)for(;t=r.get(ay);)sC(e,t,o)},Jh=(e,t,o)=>{var r,a;const c=e.dom,d=c.getParent(o,wt(mx,e.schema));d&&c.isEmpty(d)?(r=o.parentNode)===null||r===void 0||r.replaceChild(t,o):(Jl(de.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},iC=(e,t)=>(e.appendChild(t),t),$0=(e,t)=>{var o;const r=Wt(e,(c,d)=>iC(c,d.cloneNode(!1)),t),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return iC(r,a.createTextNode(H0))},e6=(e,t,o,r,a,c)=>{const d=e.formatter,g=e.dom,v=Xe(nt(d.get()),P=>P!==r&&!Rn(P,"removeformat")),z=nC(e,o,v);if(Xe(z,P=>!i3(e,P,r)).length>0){const P=o.cloneNode(!1);return g.add(t,P),d.remove(r,a,P,c),g.remove(P),H.some(P)}else return H.none()},kT=e=>ah(e,Jf(e).replace(new RegExp(`${oa}$`)," ")),lC=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Ds(de.fromDom(t)).each(r=>{vr(r)?kT(r):ta(r,a=>vr(a)).each(a=>{vr(a)&&kT(a)})})};e.once("input",r=>{r.data&&!Dh(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},_p=(e,t,o)=>{let r;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let g=d.startOffset;const z=d.startContainer.nodeValue;r=rg(e.getBody(),a.getStart());const M=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&g>0&&g<z.length&&M.test(z.charAt(g))&&M.test(z.charAt(g-1))){const P=a.getBookmark();d.collapse(!0);let I=ig(e.dom,d,c);I=b0(I),e.formatter.apply(t,o,I),a.moveToBookmark(P)}else{let P=r?xT(r):null;(!r||(P==null?void 0:P.data)!==H0)&&(r=QD(e.getDoc(),vm(!0).dom),P=r.firstChild,d.insertNode(r),g=1,lC(e,r)),e.formatter.apply(t,o,r),a.setCursorLocation(P,g)}},cC=(e,t,o,r)=>{const a=e.dom,c=e.selection;let d=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),z=v.startContainer,M=v.startOffset;let P=z;it(z)&&(M!==z.data.length&&(d=!0),P=P.parentNode);const I=[];let K;for(;P;){if(ym(e,P,t,o,r)){K=P;break}P.nextSibling&&(d=!0),I.push(P),P=P.parentNode}if(K)if(d){const oe=c.getBookmark();v.collapse(!0);let Y=ig(a,v,g,!0);Y=b0(Y),e.formatter.remove(t,o,Y,r),c.moveToBookmark(oe)}else{const oe=rg(e.getBody(),K),Y=Fe(oe)?a.getParents(K.parentNode,wo,oe):[],re=vm(!1).dom;Jh(e,re,oe??K);const ge=e6(e,re,K,t,o,r),ke=$0([...I,...ge.toArray(),...Y],re);oe&&sC(e,oe,Fe(oe)),c.setCursorLocation(ke,1),lC(e,re),a.isEmpty(K)&&a.remove(K)}},dC=(e,t,o)=>{const r=e.selection,a=e.getBody();aC(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===H0&&aC(e,rg(a,r.getStart()),!0),(t===37||t===39)&&aC(e,rg(a,r.getStart()),!0)},uC=e=>it(e)&&Ui(e.data,oa),_T=e=>{e.on("mouseup keydown",t=>{dC(e,t.keyCode,uC(e.selection.getRng().endContainer))})},fC=e=>{const t=vm(!1),o=$0(e,t.dom);return{caretContainer:t,caretPosition:De(o,0)}},mC=(e,t)=>{const{caretContainer:o,caretPosition:r}=fC(t);return Nr(de.fromDom(e),o),Mn(de.fromDom(e)),r},t6=(e,t)=>{const{caretContainer:o,caretPosition:r}=fC(t);return e.insertNode(o.dom),r},zy=(e,t)=>{if(sd(t.dom))return!1;const o=e.schema.getTextInlineElements();return mo(o,rn(t))&&!sd(t.dom)&&!Td(t.dom)},wg={},pC=ba(["pre"]),wT=(e,t)=>{wg[e]||(wg[e]=[]),wg[e].push(t)},CT=(e,t)=>{mo(wg,e)&&Te(wg[e],o=>{o(t)})};wT("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return pC(d)&&tn(a,d)},r=(a,c)=>{const d=de.fromDom(c),g=al(d).dom;Mn(d),fs(de.fromDom(a),[de.fromTag("br",g),de.fromTag("br",g),...ga(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=Xe(Xe(a,pC),o(a));Te(c,d=>{r(d.previousSibling,d)})}});const gC=["fontWeight","fontStyle","color","fontSize","fontFamily"],Sk=e=>ue(e.styles)&&Sn(nt(e.styles),t=>tn(gC,t)),hC=e=>En(e,t=>qa(t)&&t.inline==="span"&&Sk(t)),Ty=(e,t)=>{const o=e.get(t);return ye(o)?hC(o):H.none()},ST=(e,t)=>Dc(t,De.fromRangeStart(e)).isNone(),bC=(e,t)=>Nl(t,De.fromRangeEnd(e)).exists(o=>!zr(o.getNode())||Nl(t,o).isSome())===!1,ET=e=>t=>$p(t)&&e.isEditable(t),o6=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return ST(o,t[0])&&bC(o,t[0])?t:[];{const r=ct(t).filter(d=>ST(o,d)).toArray(),a=Co(t).filter(d=>bC(o,d)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(a)}},zT=e=>Xe(o6(e),ET(e.dom)),yC=e=>Xe(e.getSelectedBlocks(),ET(e.dom)),vC=ft.each,Ek=e=>It(e)&&!ad(e)&&!sd(e)&&!Td(e),Cg=(e,t)=>{for(let o=e;o;o=o[t]){if(it(o)&&bn(o.data))return e;if(It(o)&&!ad(o))return o}return e},xC=(e,t,o)=>{const r=ck(e),a=Gl(t)&&e.dom.isEditable(t),c=Gl(o)&&e.dom.isEditable(o);if(a&&c){const d=Cg(t,"previousSibling"),g=Cg(o,"nextSibling");if(r.compare(d,g)){for(let v=d.nextSibling;v&&v!==g;){const z=v;v=v.nextSibling,d.appendChild(z)}return e.dom.remove(g),ft.each(ft.grep(g.childNodes),v=>{d.appendChild(v)}),d}}return o},zk=(e,t,o,r)=>{var a;if(r&&t.merge_siblings!==!1){const c=(a=xC(e,Mh(r),r))!==null&&a!==void 0?a:r;xC(e,c,Mh(c,!0))}},TT=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";vC(e.select(r,o),a=>{Ek(a)&&e.isEditable(a)&&vC(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},V0=(e,t,o)=>{vC(e.childNodes,r=>{Ek(r)&&(t(r)&&o(r),r.hasChildNodes()&&V0(r,t,o))})},Sg=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},kC=(e,t)=>o=>!!(o&&e0(e,o,t)),cd=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Sg(e,r)},Zd=ln.generate([{keep:[]},{rename:["name"]},{removed:[]}]),_C=/^(src|href|style)$/,Tk=ft.each,Ok=uy,OT=e=>/^(TR|TH|TD)$/.test(e.nodeName),Qh=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),j0=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(It(r)){const c=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>c?c:a]}return it(r)&&o&&a>=r.data.length&&(r=new Oa(r,e.getBody()).next()||r),it(r)&&!o&&a===0&&(r=new Oa(r,e.getBody()).prev()||r),r},wC=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return OT(e)&&r?e.nodeName==="TR"&&r[o]||r:e},Ak=(e,t,o,r)=>{var a;const c=e.create(o,r);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},Nk=(e,t,o,r,a)=>{const c=de.fromDom(t),d=de.fromDom(e.create(r,a)),g=o?ru(c):gc(c);return fs(d,g),o?(Nr(c,d),$a(d,c)):(we(c,d),ts(d,c)),d.dom},n6=(e,t)=>t.links&&e.nodeName==="A",AT=(e,t,o)=>{const r=t.parentNode;let a;const c=e.dom,d=Li(e);mf(o)&&r===c.getRoot()&&(!o.list_block||!Ok(t,o.list_block))&&Te(Vo(t.childNodes),g=>{sg(e,d,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=Ak(c,g,d),c.setAttribs(a,M1(e))):a=null}),!(d3(o)&&!Ok(o.inline,t))&&c.remove(t,!0)},CC=(e,t,o)=>O(e)?{name:t,value:null}:{name:e,value:fp(t,o)},NT=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Ic=(e,t,o,r,a)=>{let c=!1;Tk(o.styles,(d,g)=>{const{name:v,value:z}=CC(g,d,r),M=px(z,v);(o.remove_similar||ht(z)||!It(a)||Ok(e0(e,a,v),M))&&e.setStyle(t,v,""),c=!0}),c&&NT(e,t)},SC=(e,t,o)=>{t==="removeformat"?Te(yC(e.selection),r=>{Te(gC,a=>e.dom.setStyle(r,a,"")),NT(e.dom,r)}):Ty(e.formatter,t).each(r=>{Te(yC(e.selection),a=>Ic(e.dom,a,r,o,null))})},EC=(e,t,o,r,a)=>{const c=e.dom,d=ck(e),g=e.schema;if(qa(t)&&Yl(g,t.inline)&&Cc(g,r)&&r.parentElement===e.getBody())return AT(e,r,t),Zd.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!Ck(c,r,t)&&!n6(r,t))return Zd.keep();const v=r,z=t.preserve_attributes;if(qa(t)&&t.remove==="all"&&ye(z)){const M=Xe(c.getAttribs(v),P=>tn(z,P.name.toLowerCase()));if(c.removeAllAttribs(v),Te(M,P=>c.setAttrib(v,P.name,P.value)),M.length>0)return Zd.rename("span")}if(t.remove!=="all"){Ic(c,v,t,o,a),Tk(t.attributes,(P,I)=>{const{name:K,value:oe}=CC(I,P,o);if(t.remove_similar||ht(oe)||!It(a)||Ok(c.getAttrib(a,K),oe)){if(K==="class"){const Y=c.getAttrib(v,K);if(Y){let re="";if(Te(Y.split(/\s+/),ge=>{/mce\-\w+/.test(ge)&&(re+=(re?" ":"")+ge)}),re){c.setAttrib(v,K,re);return}}}if(_C.test(K)&&v.removeAttribute("data-mce-"+K),K==="style"&&ba(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(K),c.setStyle(v,"list-style-type","none");return}K==="class"&&v.removeAttribute("className"),v.removeAttribute(K)}}),Tk(t.classes,P=>{P=fp(P,o),(!It(a)||c.hasClass(a,P))&&c.removeClass(v,P)});const M=c.getAttribs(v);for(let P=0;P<M.length;P++){const I=M[P].nodeName;if(!d.isAttributeInternal(I))return Zd.keep()}}return t.remove!=="none"?(AT(e,v,t),Zd.removed()):Zd.keep()},zC=(e,t,o,r,a)=>{let c;return t.parentNode&&Te(t0(e.dom,t.parentNode).reverse(),d=>{if(!c&&It(d)&&d.id!=="_start"&&d.id!=="_end"){const g=ym(e,d,o,r,a);g&&g.split!==!1&&(c=d)}}),c},RT=(e,t,o,r)=>EC(e,t,o,r,r).fold($e(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),$e(null)),U0=(e,t,o,r,a,c,d,g)=>{var v,z;let M,P;const I=e.dom;if(o){const K=o.parentNode;for(let oe=r.parentNode;oe&&oe!==K;oe=oe.parentNode){let Y=I.clone(oe,!1);for(let re=0;re<t.length&&(Y=RT(e,t[re],g,Y),Y!==null);re++);Y&&(M&&Y.appendChild(M),P||(P=Y),M=Y)}(!d.mixed||!I.isBlock(o))&&(r=(v=I.split(o,r))!==null&&v!==void 0?v:r),M&&P&&((z=a.parentNode)===null||z===void 0||z.insertBefore(M,a),P.appendChild(a),qa(d)&&zk(e,d,g,M))}return r},wp=(e,t,o,r,a)=>{const c=e.formatter.get(t),d=c[0],g=e.dom,v=e.selection,z=Y=>{const re=zC(e,Y,t,o,a);return U0(e,c,re,Y,Y,!0,d,o)},M=Y=>ad(Y)&&It(Y)&&(Y.id==="_start"||Y.id==="_end"),P=Y=>Sn(c,re=>zg(e,re,o,Y,Y)),I=Y=>{const re=Vo(Y.childNodes),ke=P(Y)||Sn(c,Je=>Ck(g,Y,Je)),ve=Y.parentNode;if(!ke&&Fe(ve)&&hx(d)&&P(ve),d.deep&&re.length)for(let Je=0;Je<re.length;Je++)I(re[Je]);Te(["underline","line-through","overline"],Je=>{It(Y)&&e.dom.getStyle(Y,"text-decoration")===Je&&Y.parentNode&&Ew(g,Y.parentNode)===Je&&zg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Je}},void 0,Y)})},K=Y=>{const re=g.get(Y?"_start":"_end");if(re){let ge=re[Y?"firstChild":"lastChild"];return M(ge)&&(ge=ge[Y?"firstChild":"lastChild"]),it(ge)&&ge.data.length===0&&(ge=Y?re.previousSibling||re.nextSibling:re.nextSibling||re.previousSibling),g.remove(re,!0),ge}else return null},oe=Y=>{let re,ge,ke=ig(g,Y,c,Y.collapsed);if(d.split){if(ke=b0(ke),re=j0(e,ke,!0),ge=j0(e,ke),re!==ge){if(re=wC(re,!0),ge=wC(ge,!1),Qh(g,re,ge)){const ze=H.from(re.firstChild).getOr(re);z(Nk(g,ze,!0,"span",{id:"_start","data-mce-type":"bookmark"})),K(!0);return}if(Qh(g,ge,re)){const ze=H.from(ge.lastChild).getOr(ge);z(Nk(g,ze,!1,"span",{id:"_end","data-mce-type":"bookmark"})),K(!1);return}re=Ak(g,re,"span",{id:"_start","data-mce-type":"bookmark"}),ge=Ak(g,ge,"span",{id:"_end","data-mce-type":"bookmark"});const ve=g.createRng();ve.setStartAfter(re),ve.setEndBefore(ge),s0(g,ve,ze=>{Te(ze,Je=>{!ad(Je)&&!ad(Je.parentNode)&&z(Je)})}),z(re),z(ge),re=K(!0),ge=K()}else re=ge=z(re);ke.startContainer=re.parentNode?re.parentNode:re,ke.startOffset=g.nodeIndex(re),ke.endContainer=ge.parentNode?ge.parentNode:ge,ke.endOffset=g.nodeIndex(ge)+1}s0(g,ke,ve=>{Te(ve,I)})};if(r){if(dy(r)){const Y=g.createRng();Y.setStartBefore(r),Y.setEndAfter(r),oe(Y)}else oe(r);v3(e,t,r,o);return}!v.isCollapsed()||!qa(d)||ff(e).length?(ww(e,()=>cy(e,oe),Y=>qa(d)&&_g(e,t,o,Y)),e.nodeChanged()):cC(e,t,o,a),SC(e,t,o),v3(e,t,r,o)},Eg=(e,t,o,r,a)=>{(r||e.selection.isEditable())&&wp(e,t,o,r,a)},zg=(e,t,o,r,a)=>EC(e,t,o,r,a).fold(hn,c=>(e.dom.rename(r,c),!0),wo),Rk=ft.each,TC=(e,t,o,r)=>{const a=c=>{if(Gl(c)&&It(c.parentNode)&&e.isEditable(c)){const d=Ew(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ft.walk(r,a,"childNodes"),a(r))},DT=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const a=kC(e,"fontSize");V0(r,c=>a(c)&&e.isEditable(c),cd(e,"backgroundColor",fp(t.styles.backgroundColor,o)))}},r6=(e,t,o,r)=>{if(qa(t)&&(t.inline==="sub"||t.inline==="sup")){const a=kC(e,"fontSize");V0(r,d=>a(d)&&e.isEditable(d),cd(e,"fontSize",""));const c=Xe(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},MT=(e,t,o,r)=>{Rk(t,a=>{qa(a)&&Rk(e.dom.select(a.inline,r),c=>{Ek(c)&&zg(e,a,o,c,a.exact?c:null)}),TT(e.dom,a,r)})},BT=(e,t,o,r,a)=>{const c=a.parentNode;ym(e,c,o,r)&&zg(e,t,r,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>ym(e,d,o,r)?(zg(e,t,r,a),!0):!1)},Z0=ft.each,PT=(e,t,o,r)=>{if(XN(e)&&qa(t)&&o.parentNode){const a=Sb(e.schema),c=Fm(de.fromDom(o),d=>sd(d.dom));return Ba(a,r)&&ll(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},LT=(e,t,o,r)=>{if(Z0(o.styles,(a,c)=>{e.setStyle(t,c,fp(a,r))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},s6=(e,t,o,r)=>{const a=e.formatter.get(t),c=a[0],d=!r&&e.selection.isCollapsed(),g=e.dom,v=e.selection,z=(oe,Y=c)=>{Pt(Y.onformat)&&Y.onformat(oe,Y,o,r),LT(g,oe,Y,o),Z0(Y.attributes,(re,ge)=>{g.setAttrib(oe,ge,fp(re,o))}),Z0(Y.classes,re=>{const ge=fp(re,o);g.hasClass(oe,ge)||g.addClass(oe,ge)})},M=(oe,Y)=>{let re=!1;return Z0(oe,ge=>Mc(ge)?g.getContentEditable(Y)==="false"&&!ge.ceFalseOverride||Fe(ge.collapsed)&&ge.collapsed!==d?!0:g.is(Y,ge.selector)&&!sd(Y)?(z(Y,ge),re=!0,!1):!0:!1),re},P=oe=>{if(Tt(oe)){const Y=g.create(oe);return z(Y),Y}else return null},I=(oe,Y,re)=>{const ge=[];let ke=!0;const ve=c.inline||c.block,ze=P(ve),Je=He=>l3(c)&&ym(e,He,t,o),gt=(He,Ne,Ke)=>{const Mt=c3(c)&&mx(e.schema,He)&&sg(e,Ne,ve);return Ke&&Mt},Ot=(He,Ne,Ke,Mt)=>{const Yt=He.nodeName.toLowerCase(),qo=sg(e,ve,Yt)&&sg(e,Ne,ve),nn=!re&&it(He)&&Nc(He.data),Wn=sd(He),or=!qa(c)||!oe.isBlock(He);return(Ke||Mt)&&qo&&!nn&&!Wn&&or};s0(oe,Y,He=>{let Ne;const Ke=Mt=>{let Yt=!1,qo=ke,nn=!1;const Wn=Mt.parentNode,or=Wn.nodeName.toLowerCase(),Ps=oe.getContentEditable(Mt);Fe(Ps)&&(qo=ke,ke=Ps==="true",Yt=!0,nn=Sw(e,Mt));const ol=ke&&!Yt;if(zr(Mt)&&!PT(e,c,Mt,or)){Ne=null,mf(c)&&oe.remove(Mt);return}if(Je(Mt)){Ne=null;return}if(gt(Mt,or,ol)){const pr=oe.rename(Mt,ve);z(pr),ge.push(pr),Ne=null;return}if(Mc(c)){let pr=M(a,Mt);if(!pr&&Fe(Wn)&&hx(c)&&(pr=M(a,Wn)),!qa(c)||pr){Ne=null;return}}Fe(ze)&&Ot(Mt,or,ol,nn)?(Ne||(Ne=oe.clone(ze,!1),Wn.insertBefore(Ne,Mt),ge.push(Ne)),nn&&Yt&&(ke=qo),Ne.appendChild(Mt)):(Ne=null,Te(Vo(Mt.childNodes),Ke),Yt&&(ke=qo),Ne=null)};Te(He,Ke)}),c.links===!0&&Te(ge,He=>{const Ne=Ke=>{Ke.nodeName==="A"&&z(Ke,c),Te(Vo(Ke.childNodes),Ne)};Ne(He)}),Te(ge,He=>{const Ne=Yt=>{let qo=0;return Te(Yt.childNodes,nn=>{!SR(nn)&&!ad(nn)&&qo++}),qo},Ke=Yt=>En(Yt.childNodes,fx).filter(nn=>oe.getContentEditable(nn)!=="false"&&Ck(oe,nn,c)).map(nn=>{const Wn=oe.clone(nn,!1);return z(Wn),oe.replace(Wn,Yt,!0),oe.remove(nn,!0),Wn}).getOr(Yt),Mt=Ne(He);if((ge.length>1||!oe.isBlock(He))&&Mt===0){oe.remove(He,!0);return}(qa(c)||mf(c)&&c.wrapper)&&(!c.exact&&Mt===1&&(He=Ke(He)),MT(e,a,o,He),BT(e,c,t,o,He),DT(oe,c,o,He),TC(oe,c,o,He),r6(oe,c,o,He),zk(e,c,o,He))})},K=dy(r)?r:v.getNode();if(g.getContentEditable(K)==="false"&&!Sw(e,K)){r=K,M(a,r),y3(e,t,r,o);return}if(c){if(r)if(dy(r)){if(!M(a,r)){const oe=g.createRng();oe.setStartBefore(r),oe.setEndAfter(r),I(g,ig(g,oe,a),!0)}}else I(g,r,!0);else!d||!qa(c)||ff(e).length?(v.setRng(mk(v.getRng())),ww(e,()=>{cy(e,(oe,Y)=>{const re=Y?oe:ig(g,oe,a);I(g,re,!1)})},wo),e.nodeChanged()):_p(e,t,o),Ty(e.formatter,t).each(oe=>{Te(zT(e.selection),Y=>LT(g,Y,oe,o))});CT(t,e)}y3(e,t,r,o)},IT=(e,t,o,r)=>{(r||e.selection.isEditable())&&s6(e,t,o,r)},Rl=e=>mo(e,"vars"),FT=(e,t)=>{e.set({}),t.on("NodeChange",o=>{AC(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=H.from(o.node).map(a=>dy(a)?a:a.startContainer).bind(a=>It(a)?H.some(a):H.from(a.parentElement)).getOrThunk(()=>Oy(t));AC(t,r,e.get())})},Oy=e=>e.selection.getStart(),HT=(e,t,o,r,a)=>jo(t,g=>{const v=e.formatter.matchNode(g,o,a??{},r);return!gr(v)},g=>tC(e,g,o)?!0:r?!1:Fe(e.formatter.matchNode(g,o,a,!0))),OC=(e,t)=>{const o=t??Oy(e);return Xe(t0(e.dom,o),r=>It(r)&&!Td(r))},AC=(e,t,o)=>{const r=OC(e,t);Fo(o,(a,c)=>{const d=g=>{const v=HT(e,r,c,g.similar,Rl(g)?g.vars:void 0),z=v.isSome();if(g.state.get()!==z){g.state.set(z);const M=v.getOr(t);Rl(g)?g.callback(z,{node:M,format:c,parents:r}):Te(g.callbacks,P=>P(z,{node:M,format:c,parents:r}))}};Te([a.withSimilar,a.withoutSimilar],d),Te(a.withVars,d)})},NC=(e,t,o,r,a,c)=>{const d=t.get();Te(o.split(","),g=>{const v=Nn(d,g).getOrThunk(()=>{const M={withSimilar:{state:hs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:hs(!1),similar:!1,callbacks:[]},withVars:[]};return d[g]=M,M}),z=()=>{const M=OC(e);return HT(e,M,g,a,c).isSome()};if(gr(c)){const M=a?v.withSimilar:v.withoutSimilar;M.callbacks.push(r),M.callbacks.length===1&&M.state.set(z())}else v.withVars.push({state:hs(z()),similar:a,vars:c,callback:r})}),t.set(d)},$T=(e,t,o)=>{const r=e.get();Te(t.split(","),a=>Nn(r,a).each(c=>{r[a]={withSimilar:{...c.withSimilar,callbacks:Xe(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:Xe(c.withoutSimilar.callbacks,d=>d!==o)},withVars:Xe(c.withVars,d=>d.callback!==o)}})),e.set(r)},a6=(e,t,o,r,a,c)=>(NC(e,t,o,r,a,c),{unbind:()=>$T(t,o,r)}),i6=(e,t,o,r)=>{const a=e.formatter.get(t);a&&(_g(e,t,o,r)&&(!("toggle"in a[0])||a[0].toggle)?Eg(e,t,o,r):IT(e,t,o,r))},VT=ft.explode,Dk=()=>{const e={};return{addFilter:(a,c)=>{Te(VT(a),d=>{mo(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>fl(e),removeFilter:(a,c)=>{Te(VT(a),d=>{if(mo(e,d))if(Fe(c)){const g=e[d],v=Xe(g.callbacks,z=>z!==c);v.length>0?g.callbacks=v:delete e[d]}else delete e[d]})}}},l6=(e,t)=>{Te(t,o=>{e.attr(o,null)})},c6=(e,t,o)=>{e.addNodeFilter("font",r=>{Te(r,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),v=a.attr("size");d&&(c.color=d),g&&(c["font-family"]=g),v&&Ns(v).each(z=>{c["font-size"]=o[z-1]}),a.name="span",a.attr("style",t.serialize(c)),l6(a,["color","face","size"])})})},jT=(e,t,o)=>{e.addNodeFilter("strike",r=>{const a=t.type!=="html4";Te(r,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},d6=(e,t,o)=>{var r;const a=c1();t.convert_fonts_to_spans&&c6(e,a,ft.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),jT(e,o,a)},u6=(e,t,o)=>{t.inline_styles&&d6(e,t,o)},RC=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Mk=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Bk=e=>{const[t,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=c?Mk(r):decodeURIComponent(r);return H.some({type:a[1],data:d,base64Encoded:c})}else return H.none()},DC=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return H.none()}const a=new Uint8Array(r.length);for(let c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return H.some(new Blob([a],{type:e}))},MC=e=>new Promise((t,o)=>{Bk(e).bind(({type:r,data:a,base64Encoded:c})=>DC(r,a,c)).fold(()=>o("Invalid data URI"),t)}),f6=e=>sr(e,"blob:")?RC(e):sr(e,"data:")?MC(e):Promise.reject("Unknown URI format"),UT=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let m6=0;const eb=e=>"blobid"+m6++,ZT=(e,t,o)=>Bk(e).bind(({data:r,type:a,base64Encoded:c})=>{if(t&&!c)return H.none();{const d=c?r:btoa(r);return o(d,a)}}),W0=(e,t,o)=>{const r=e.create(eb(),t,o);return e.add(r),r},WT=(e,t,o=!1)=>ZT(t,o,(r,a)=>H.from(e.getByData(r,a)).orThunk(()=>DC(a,r).map(c=>W0(e,c,r)))),BC=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(sr(t,"blob:")){const r=e.getByUri(t);return Fe(r)?Promise.resolve(r):f6(t).then(a=>UT(a).then(c=>ZT(c,!1,d=>H.some(W0(e,a,d))).getOrThunk(o)))}else return sr(t,"data:")?WT(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},qT=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,GT=e=>H.from(e.match(qT)).bind(t=>Xs(t,1)).map(t=>sr(t,"www.")?t.substring(4):t),PC=(e,t)=>{H.from(e.attr("src")).bind(GT).forall(o=>!tn(t,o))&&e.attr("sandbox","")},Ay=(e,t)=>sr(e,`${t}/`),p6=e=>gr(e)?"iframe":Ay(e,"image")?"img":Ay(e,"video")?"video":Ay(e,"audio")?"audio":"iframe",g6=({type:e,src:t,width:o,height:r}={},a,c)=>{const d=p6(e),g=new ci(d,1);return g.attr(d==="audio"?{src:t}:{src:t,width:o,height:r}),(d==="audio"||d==="video")&&g.attr("controls",""),d==="iframe"&&a&&PC(g,c),g},LC=e=>Fe(e.attr("data-mce-bogus")),KT=e=>e.attr("src")===Mo.transparentSrc||Fe(e.attr("data-mce-placeholder")),h6=(e,t)=>{const{blob_cache:o}=t;if(o){const r=a=>{const c=a.attr("src");KT(a)||LC(a)||Lo(c)||WT(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>Te(a,r))}},b6=(e,t)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",v=>{let z=v.length;const M=I=>I.split(" ").filter(oe=>oe.length>0).concat(["noopener"]).sort().join(" "),P=I=>{const K=I?ft.trim(I):"";return/\b(noopener)\b/g.test(K)?K:M(K)};if(!t.allow_unsafe_link_target)for(;z--;){const I=v[z];I.name==="a"&&I.attr("target")==="_blank"&&I.attr("rel",P(I.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let z=v.length,M,P,I,K;for(;z--;)if(K=v[z],K.name==="a"&&K.firstChild&&!K.attr("href"))for(I=K.parent,M=K.lastChild;M&&I;)P=M.prev,I.insert(M,K),M=P}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let z=v.length,M,P;for(;z--;)if(M=v[z],P=M.parent,P&&(P.name==="ul"||P.name==="ol"))if(M.prev&&M.prev.name==="li")M.prev.append(M);else{const I=new ci("li",1);I.attr("style","list-style-type: none"),M.wrap(I)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var z;let M=v.length;for(;M--;){const P=v[M],I=(z=P.attr("class"))!==null&&z!==void 0?z:"",K=ft.explode(I," ");let oe="";for(let Y=0;Y<K.length;Y++){const re=K[Y];let ge=!1,ke=c["*"];ke&&ke[re]&&(ge=!0),ke=c[P.name],!ge&&ke&&ke[re]&&(ge=!0),ge&&(oe&&(oe+=" "),oe+=re)}oe.length||(oe=null),P.attr("class",oe)}}),h6(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,g=fi((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Te(v,z=>{z.replace(g6({type:z.attr("type"),src:z.name==="object"?z.attr("data"):z.attr("src"),width:z.attr("width"),height:z.attr("height")},d,g))})),d&&e.addNodeFilter("iframe",v=>Te(v,z=>PC(z,g)))},{entries:YT,setPrototypeOf:XT,isFrozen:IC,getPrototypeOf:JT,getOwnPropertyDescriptor:y6}=Object;let{freeze:Fc,seal:jr,create:v6}=Object,{apply:FC,construct:Pk}=typeof Reflect<"u"&&Reflect;FC||(FC=function(t,o,r){return t.apply(o,r)}),Fc||(Fc=function(t){return t}),jr||(jr=function(t){return t}),Pk||(Pk=function(t,o){return new t(...o)});const HC=nc(Array.prototype.forEach),QT=nc(Array.prototype.pop),Au=nc(Array.prototype.push),Ny=nc(String.prototype.toLowerCase),Lk=nc(String.prototype.toString),$C=nc(String.prototype.match),Wd=nc(String.prototype.replace),VC=nc(String.prototype.indexOf),eO=nc(String.prototype.trim),oc=nc(RegExp.prototype.test),Tg=q0(TypeError);function nc(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return FC(e,t,r)}}function q0(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Pk(e,o)}}function vn(e,t,o){var r;o=(r=o)!==null&&r!==void 0?r:Ny,XT&&XT(e,null);let a=t.length;for(;a--;){let c=t[a];if(typeof c=="string"){const d=o(c);d!==c&&(IC(t)||(t[a]=d),c=d)}e[c]=!0}return e}function xm(e){const t=v6(null);for(const[o,r]of YT(e))t[o]=r;return t}function G0(e,t){for(;e!==null;){const r=y6(e,t);if(r){if(r.get)return nc(r.get);if(typeof r.value=="function")return nc(r.value)}e=JT(e)}function o(r){return console.warn("fallback value for",r),null}return o}const jC=Fc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UC=Fc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ik=Fc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x6=Fc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ZC=Fc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K0=Fc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tO=Fc(["#text"]),oO=Fc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WC=Fc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),nO=Fc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fk=Fc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),k6=jr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_6=jr(/<%[\w\W]*|[\w\W]*%>/gm),w6=jr(/\${[\w\W]*}/gm),C6=jr(/^data-[\-\w.\u00B7-\uFFFF]/),S6=jr(/^aria-[\-\w]+$/),rO=jr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sO=jr(/^(?:\w+script|data):/i),aO=jr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qC=jr(/^html$/i);var GC=Object.freeze({__proto__:null,MUSTACHE_EXPR:k6,ERB_EXPR:_6,TMPLIT_EXPR:w6,DATA_ATTR:C6,ARIA_ATTR:S6,IS_ALLOWED_URI:rO,IS_SCRIPT_OR_DATA:sO,ATTR_WHITESPACE:aO,DOCTYPE_NAME:qC});const iO=()=>typeof window>"u"?null:window,lO=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function KC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iO();const t=an=>KC(an);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,r=o.currentScript;let{document:a}=e;const{DocumentFragment:c,HTMLTemplateElement:d,Node:g,Element:v,NodeFilter:z,NamedNodeMap:M=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:P,DOMParser:I,trustedTypes:K}=e,oe=v.prototype,Y=G0(oe,"cloneNode"),re=G0(oe,"nextSibling"),ge=G0(oe,"childNodes"),ke=G0(oe,"parentNode");if(typeof d=="function"){const an=a.createElement("template");an.content&&an.content.ownerDocument&&(a=an.content.ownerDocument)}let ve,ze="";const{implementation:Je,createNodeIterator:gt,createDocumentFragment:Ot,getElementsByTagName:He}=a,{importNode:Ne}=o;let Ke={};t.isSupported=typeof YT=="function"&&typeof ke=="function"&&Je&&Je.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Mt,ERB_EXPR:Yt,TMPLIT_EXPR:qo,DATA_ATTR:nn,ARIA_ATTR:Wn,IS_SCRIPT_OR_DATA:or,ATTR_WHITESPACE:Ps}=GC;let{IS_ALLOWED_URI:ol}=GC,pr=null;const xt=vn({},[...jC,...UC,...Ik,...ZC,...tO]);let Gt=null;const Ln=vn({},[...oO,...WC,...nO,...Fk]);let _t=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ro=null,en=null,zt=!0,Go=!0,sn=!1,di=!0,er=!1,Ya=!1,kf=!1,Dp=!1,ac=!1,Yd=!1,_f=!1,Xd=!0,wf=!1;const Qt="user-content-";let Cn=!0,xs=!1,Ks={},Ma=null;const Hi=vn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ka=null;const _a=vn({},["audio","video","img","source","image","track"]);let ic=null;const Tm=vn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Om="http://www.w3.org/1998/Math/MathML",Am="http://www.w3.org/2000/svg",Cf="http://www.w3.org/1999/xhtml";let Xy=Cf,E_=!1,z_=null;const X7=vn({},[Om,Am,Cf],Lk);let gb;const FN=["application/xhtml+xml","text/html"],GL="text/html";let Ml,Ov=null;const KL=a.createElement("form"),J7=function(Be){return Be instanceof RegExp||Be instanceof Function},Lg=function(Be){if(!(Ov&&Ov===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=xm(Be),gb=FN.indexOf(Be.PARSER_MEDIA_TYPE)===-1?gb=GL:gb=Be.PARSER_MEDIA_TYPE,Ml=gb==="application/xhtml+xml"?Lk:Ny,pr="ALLOWED_TAGS"in Be?vn({},Be.ALLOWED_TAGS,Ml):xt,Gt="ALLOWED_ATTR"in Be?vn({},Be.ALLOWED_ATTR,Ml):Ln,z_="ALLOWED_NAMESPACES"in Be?vn({},Be.ALLOWED_NAMESPACES,Lk):X7,ic="ADD_URI_SAFE_ATTR"in Be?vn(xm(Tm),Be.ADD_URI_SAFE_ATTR,Ml):Tm,ka="ADD_DATA_URI_TAGS"in Be?vn(xm(_a),Be.ADD_DATA_URI_TAGS,Ml):_a,Ma="FORBID_CONTENTS"in Be?vn({},Be.FORBID_CONTENTS,Ml):Hi,ro="FORBID_TAGS"in Be?vn({},Be.FORBID_TAGS,Ml):{},en="FORBID_ATTR"in Be?vn({},Be.FORBID_ATTR,Ml):{},Ks="USE_PROFILES"in Be?Be.USE_PROFILES:!1,zt=Be.ALLOW_ARIA_ATTR!==!1,Go=Be.ALLOW_DATA_ATTR!==!1,sn=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,di=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,er=Be.SAFE_FOR_TEMPLATES||!1,Ya=Be.WHOLE_DOCUMENT||!1,ac=Be.RETURN_DOM||!1,Yd=Be.RETURN_DOM_FRAGMENT||!1,_f=Be.RETURN_TRUSTED_TYPE||!1,Dp=Be.FORCE_BODY||!1,Xd=Be.SANITIZE_DOM!==!1,wf=Be.SANITIZE_NAMED_PROPS||!1,Cn=Be.KEEP_CONTENT!==!1,xs=Be.IN_PLACE||!1,ol=Be.ALLOWED_URI_REGEXP||rO,Xy=Be.NAMESPACE||Cf,_t=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&J7(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_t.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&J7(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_t.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_t.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),er&&(Go=!1),Yd&&(ac=!0),Ks&&(pr=vn({},[...tO]),Gt=[],Ks.html===!0&&(vn(pr,jC),vn(Gt,oO)),Ks.svg===!0&&(vn(pr,UC),vn(Gt,WC),vn(Gt,Fk)),Ks.svgFilters===!0&&(vn(pr,Ik),vn(Gt,WC),vn(Gt,Fk)),Ks.mathMl===!0&&(vn(pr,ZC),vn(Gt,nO),vn(Gt,Fk))),Be.ADD_TAGS&&(pr===xt&&(pr=xm(pr)),vn(pr,Be.ADD_TAGS,Ml)),Be.ADD_ATTR&&(Gt===Ln&&(Gt=xm(Gt)),vn(Gt,Be.ADD_ATTR,Ml)),Be.ADD_URI_SAFE_ATTR&&vn(ic,Be.ADD_URI_SAFE_ATTR,Ml),Be.FORBID_CONTENTS&&(Ma===Hi&&(Ma=xm(Ma)),vn(Ma,Be.FORBID_CONTENTS,Ml)),Cn&&(pr["#text"]=!0),Ya&&vn(pr,["html","head","body"]),pr.table&&(vn(pr,["tbody"]),delete ro.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Tg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Tg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=Be.TRUSTED_TYPES_POLICY,ze=ve.createHTML("")}else ve===void 0&&(ve=lO(K,r)),ve!==null&&typeof ze=="string"&&(ze=ve.createHTML(""));Fc&&Fc(Be),Ov=Be}},W4=vn({},["mi","mo","mn","ms","mtext"]),Ae=vn({},["foreignobject","desc","title","annotation-xml"]),Re=vn({},["title","style","font","a","script"]),vt=vn({},UC);vn(vt,Ik),vn(vt,x6);const pt=vn({},ZC);vn(pt,K0);const fo=function(Be){let Zt=ke(Be);(!Zt||!Zt.tagName)&&(Zt={namespaceURI:Xy,tagName:"template"});const To=Ny(Be.tagName),aa=Ny(Zt.tagName);return z_[Be.namespaceURI]?Be.namespaceURI===Am?Zt.namespaceURI===Cf?To==="svg":Zt.namespaceURI===Om?To==="svg"&&(aa==="annotation-xml"||W4[aa]):!!vt[To]:Be.namespaceURI===Om?Zt.namespaceURI===Cf?To==="math":Zt.namespaceURI===Am?To==="math"&&Ae[aa]:!!pt[To]:Be.namespaceURI===Cf?Zt.namespaceURI===Am&&!Ae[aa]||Zt.namespaceURI===Om&&!W4[aa]?!1:!pt[To]&&(Re[To]||!vt[To]):!!(gb==="application/xhtml+xml"&&z_[Be.namespaceURI]):!1},mn=function(Be){Au(t.removed,{element:Be});try{Be.parentNode.removeChild(Be)}catch{Be.remove()}},ks=function(Be,Zt){try{Au(t.removed,{attribute:Zt.getAttributeNode(Be),from:Zt})}catch{Au(t.removed,{attribute:null,from:Zt})}if(Zt.removeAttribute(Be),Be==="is"&&!Gt[Be])if(ac||Yd)try{mn(Zt)}catch{}else try{Zt.setAttribute(Be,"")}catch{}},Nm=function(Be){let Zt,To;if(Dp)Be="<remove></remove>"+Be;else{const Rm=$C(Be,/^[\r\n\t ]+/);To=Rm&&Rm[0]}gb==="application/xhtml+xml"&&Xy===Cf&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const aa=ve?ve.createHTML(Be):Be;if(Xy===Cf)try{Zt=new I().parseFromString(aa,gb)}catch{}if(!Zt||!Zt.documentElement){Zt=Je.createDocument(Xy,"template",null);try{Zt.documentElement.innerHTML=E_?ze:aa}catch{}}const lc=Zt.body||Zt.documentElement;return Be&&To&&lc.insertBefore(a.createTextNode(To),lc.childNodes[0]||null),Xy===Cf?He.call(Zt,Ya?"html":"body")[0]:Ya?Zt.documentElement:lc},HN=function(Be){return gt.call(Be.ownerDocument||Be,Be,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null,!1)},jZ=function(Be){return Be instanceof P&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof M)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},$N=function(Be){return typeof g=="object"?Be instanceof g:Be&&typeof Be=="object"&&typeof Be.nodeType=="number"&&typeof Be.nodeName=="string"},hb=function(Be,Zt,To){Ke[Be]&&HC(Ke[Be],aa=>{aa.call(t,Zt,To,Ov)})},YL=function(Be){let Zt;if(hb("beforeSanitizeElements",Be,null),jZ(Be))return mn(Be),!0;const To=Ml(Be.nodeName);if(hb("uponSanitizeElement",Be,{tagName:To,allowedTags:pr}),Be.hasChildNodes()&&!$N(Be.firstElementChild)&&(!$N(Be.content)||!$N(Be.content.firstElementChild))&&oc(/<[/\w]/g,Be.innerHTML)&&oc(/<[/\w]/g,Be.textContent))return mn(Be),!0;if(!pr[To]||ro[To]){if(!ro[To]&&JL(To)&&(_t.tagNameCheck instanceof RegExp&&oc(_t.tagNameCheck,To)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(To)))return!1;if(Cn&&!Ma[To]){const aa=ke(Be)||Be.parentNode,lc=ge(Be)||Be.childNodes;if(lc&&aa){const Rm=lc.length;for(let zi=Rm-1;zi>=0;--zi)aa.insertBefore(Y(lc[zi],!0),re(Be))}}return mn(Be),!0}return Be instanceof v&&!fo(Be)||(To==="noscript"||To==="noembed"||To==="noframes")&&oc(/<\/no(script|embed|frames)/i,Be.innerHTML)?(mn(Be),!0):(er&&Be.nodeType===3&&(Zt=Be.textContent,Zt=Wd(Zt,Mt," "),Zt=Wd(Zt,Yt," "),Zt=Wd(Zt,qo," "),Be.textContent!==Zt&&(Au(t.removed,{element:Be.cloneNode()}),Be.textContent=Zt)),hb("afterSanitizeElements",Be,null),!1)},XL=function(Be,Zt,To){if(Xd&&(Zt==="id"||Zt==="name")&&(To in a||To in KL))return!1;if(!(Go&&!en[Zt]&&oc(nn,Zt))){if(!(zt&&oc(Wn,Zt))){if(!Gt[Zt]||en[Zt]){if(!(JL(Be)&&(_t.tagNameCheck instanceof RegExp&&oc(_t.tagNameCheck,Be)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(Be))&&(_t.attributeNameCheck instanceof RegExp&&oc(_t.attributeNameCheck,Zt)||_t.attributeNameCheck instanceof Function&&_t.attributeNameCheck(Zt))||Zt==="is"&&_t.allowCustomizedBuiltInElements&&(_t.tagNameCheck instanceof RegExp&&oc(_t.tagNameCheck,To)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(To))))return!1}else if(!ic[Zt]){if(!oc(ol,Wd(To,Ps,""))){if(!((Zt==="src"||Zt==="xlink:href"||Zt==="href")&&Be!=="script"&&VC(To,"data:")===0&&ka[Be])){if(!(sn&&!oc(or,Wd(To,Ps,"")))){if(To)return!1}}}}}}return!0},JL=function(Be){return Be.indexOf("-")>0},QL=function(Be){let Zt,To,aa,lc;hb("beforeSanitizeAttributes",Be,null);const{attributes:Rm}=Be;if(!Rm)return;const zi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gt};for(lc=Rm.length;lc--;){Zt=Rm[lc];const{name:Dm,namespaceURI:Q7}=Zt;To=Dm==="value"?Zt.value:eO(Zt.value);const ZZ=To;if(aa=Ml(Dm),zi.attrName=aa,zi.attrValue=To,zi.keepAttr=!0,zi.forceKeepAttr=void 0,hb("uponSanitizeAttribute",Be,zi),To=zi.attrValue,zi.forceKeepAttr)continue;if(!zi.keepAttr){ks(Dm,Be);continue}if(!di&&oc(/\/>/i,To)){ks(Dm,Be);continue}er&&(To=Wd(To,Mt," "),To=Wd(To,Yt," "),To=Wd(To,qo," "));const eI=Ml(Be.nodeName);if(!XL(eI,aa,To)){ks(Dm,Be);continue}if(wf&&(aa==="id"||aa==="name")&&(ks(Dm,Be),To=Qt+To),ve&&typeof K=="object"&&typeof K.getAttributeType=="function"&&!Q7)switch(K.getAttributeType(eI,aa)){case"TrustedHTML":{To=ve.createHTML(To);break}case"TrustedScriptURL":{To=ve.createScriptURL(To);break}}if(To!==ZZ)try{Q7?Be.setAttributeNS(Q7,Dm,To):Be.setAttribute(Dm,To)}catch{ks(Dm,Be)}}hb("afterSanitizeAttributes",Be,null)},UZ=function an(Be){let Zt;const To=HN(Be);for(hb("beforeSanitizeShadowDOM",Be,null);Zt=To.nextNode();)hb("uponSanitizeShadowNode",Zt,null),!YL(Zt)&&(Zt.content instanceof c&&an(Zt.content),QL(Zt));hb("afterSanitizeShadowDOM",Be,null)};return t.sanitize=function(an){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zt,To,aa,lc;if(E_=!an,E_&&(an="<!-->"),typeof an!="string"&&!$N(an))if(typeof an.toString=="function"){if(an=an.toString(),typeof an!="string")throw Tg("dirty is not a string, aborting")}else throw Tg("toString is not a function");if(!t.isSupported)return an;if(kf||Lg(Be),t.removed=[],typeof an=="string"&&(xs=!1),xs){if(an.nodeName){const Dm=Ml(an.nodeName);if(!pr[Dm]||ro[Dm])throw Tg("root node is forbidden and cannot be sanitized in-place")}}else if(an instanceof g)Zt=Nm("<!---->"),To=Zt.ownerDocument.importNode(an,!0),To.nodeType===1&&To.nodeName==="BODY"||To.nodeName==="HTML"?Zt=To:Zt.appendChild(To);else{if(!ac&&!er&&!Ya&&an.indexOf("<")===-1)return ve&&_f?ve.createHTML(an):an;if(Zt=Nm(an),!Zt)return ac?null:_f?ze:""}Zt&&Dp&&mn(Zt.firstChild);const Rm=HN(xs?an:Zt);for(;aa=Rm.nextNode();)YL(aa)||(aa.content instanceof c&&UZ(aa.content),QL(aa));if(xs)return an;if(ac){if(Yd)for(lc=Ot.call(Zt.ownerDocument);Zt.firstChild;)lc.appendChild(Zt.firstChild);else lc=Zt;return(Gt.shadowroot||Gt.shadowrootmode)&&(lc=Ne.call(o,lc,!0)),lc}let zi=Ya?Zt.outerHTML:Zt.innerHTML;return Ya&&pr["!doctype"]&&Zt.ownerDocument&&Zt.ownerDocument.doctype&&Zt.ownerDocument.doctype.name&&oc(qC,Zt.ownerDocument.doctype.name)&&(zi="<!DOCTYPE "+Zt.ownerDocument.doctype.name+`>
`+zi),er&&(zi=Wd(zi,Mt," "),zi=Wd(zi,Yt," "),zi=Wd(zi,qo," ")),ve&&_f?ve.createHTML(zi):zi},t.setConfig=function(an){Lg(an),kf=!0},t.clearConfig=function(){Ov=null,kf=!1},t.isValidAttribute=function(an,Be,Zt){Ov||Lg({});const To=Ml(an),aa=Ml(Be);return XL(To,aa,Zt)},t.addHook=function(an,Be){typeof Be=="function"&&(Ke[an]=Ke[an]||[],Au(Ke[an],Be))},t.removeHook=function(an){if(Ke[an])return QT(Ke[an])},t.removeHooks=function(an){Ke[an]&&(Ke[an]=[])},t.removeAllHooks=function(){Ke={}},t}var YC=KC();const cO=ft.each,dO=ft.trim,E6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],z6={ftp:21,http:80,https:443,mailto:25},uO=["img","video"],fO=(e,t)=>Fe(e)?!e:Fe(t)?!tn(uO,t):!0,T6=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},XC=(e,t,o)=>{const r=T6(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?fO(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class qd{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const a=Wm.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!XC(r,a,o)}}static getDocumentBaseUrl(t){var o;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(o=t.href)!==null&&o!==void 0?o:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,o={}){this.path="",this.directory="",t=dO(t),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new qd(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+a.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&cO(E6,(g,v)=>{let z=d[v];z&&(z=z.replace(/\(mce_at\)/g,"@@")),a[g]=z}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new qd(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const r=new qd(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?z6[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,a="",c,d;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=o.split("/");if(g.length>=v.length){for(c=0,d=g.length;c<d;c++)if(c>=v.length||g[c]!==v[c]){r=c+1;break}}if(g.length<v.length){for(c=0,d=v.length;c<d;c++)if(c>=g.length||g[c]!==v[c]){r=c+1;break}}if(r===1)return o;for(c=0,d=g.length-(r-1);c<d;c++)a+="../";for(c=r-1,d=v.length;c<d;c++)c!==r-1?a+="/"+v[c]:a+=v[c];return a}toAbsPath(t,o){let r=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),g=[];cO(c,P=>{P&&g.push(P)});const v=[];for(let P=d.length-1;P>=0;P--)if(!(d[P].length===0||d[P]===".")){if(d[P]===".."){r++;continue}if(r>0){r--;continue}v.push(d[P])}const z=g.length-r;let M;return z<=0?M=Ys(v).join("/"):M=g.slice(0,z).join("/")+"/"+Ys(v).join("/"),M.indexOf("/")!==0&&(M="/"+M),a&&M.lastIndexOf("/")!==M.length-1&&(M+=a),M}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const O6=ft.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),JC="data-mce-type";let mO=0;const pO=(e,t,o,r,a)=>{var c,d,g,v;const z=t.validate,M=o.getSpecialElements();e.nodeType===jc&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const P=(d=a==null?void 0:a.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Fe(a)&&(a.allowedTags[P]=!0);return}if(e.nodeType!==yi||P==="body")return;const I=de.fromDom(e),K=Uc(I,JC),oe=za(I,"data-mce-bogus");if(!K&&Tt(oe)){oe==="all"?Mn(I):ha(I);return}const Y=o.getElementRule(P);if(z&&!Y){mo(M,P)?Mn(I):ha(I);return}else Fe(a)&&(a.allowedTags[P]=!0);if(z&&Y&&!K){if(Te((g=Y.attributesForced)!==null&&g!==void 0?g:[],re=>{ws(I,re.name,re.value==="{$uid}"?`mce_${mO++}`:re.value)}),Te((v=Y.attributesDefault)!==null&&v!==void 0?v:[],re=>{Uc(I,re.name)||ws(I,re.name,re.value==="{$uid}"?`mce_${mO++}`:re.value)}),Y.attributesRequired&&!Sn(Y.attributesRequired,re=>Uc(I,re))){ha(I);return}if(Y.removeEmptyAttrs&&ds(I)){ha(I);return}Y.outputName&&Y.outputName!==P&&x1(I,Y.outputName)}},A6=(e,t,o,r,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:g}=a;a.keepAttr=Y0(t,o,r,c,d,g),a.keepAttr?(a.allowedAttributes[d]=!0,eS(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&sr(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):QC(e,d)&&(a.forceKeepAttr=!0)},Y0=(e,t,o,r,a,c)=>o!=="html"&&!fu(r)?!0:!(a in O6&&XC(e,c,r))&&(!e.validate||t.isValid(r,a)||sr(a,"data-")||sr(a,"aria-")),QC=(e,t)=>e.hasAttribute(JC)&&(t==="id"||t==="class"||t==="style"),eS=(e,t)=>e in t.getBoolAttrs(),gO=(e,t,o,r)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],g=d.name,v=d.value;!Y0(t,o,r,e.tagName.toLowerCase(),g,v)&&!QC(e,g)?e.removeAttribute(g):eS(g,o)&&e.setAttribute(g,g)}},N6=(e,t,o)=>{const r=YC();return r.addHook("uponSanitizeElement",(a,c)=>{pO(a,e,t,o.track(a),c)}),r.addHook("uponSanitizeAttribute",(a,c)=>{A6(a,e,t,o.current(),c)}),r},R6=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},hO=e=>{const t=kb(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(a=>`xlink:${a}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};YC().sanitize(e,r)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};YC().sanitize(e,o)}else throw new Error("Not a namespace element")},D6=(e,t)=>{const o=T();if(e.sanitize){const r=N6(e,t,o);return{sanitizeHtmlElement:(c,d)=>{r.sanitize(c,R6(e,d)),r.removed=[],o.reset()},sanitizeNamespaceElement:hO}}else return{sanitizeHtmlElement:(c,d)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const z=o.track(v);pO(v,e,t,z),It(v)&&gO(v,e,t,z)}o.reset()},sanitizeNamespaceElement:Qe}},Hk=ft.makeMap,tS=ft.extend,bO=(e,t,o,r)=>{const a=e.name,c=a in o&&a!=="title"&&a!=="textarea"&&a!=="noscript",d=t.childNodes;for(let g=0,v=d.length;g<v;g++){const z=d[g],M=new ci(z.nodeName.toLowerCase(),z.nodeType);if(It(z)){const P=z.attributes;for(let I=0,K=P.length;I<K;I++){const oe=P[I];M.attr(oe.name,oe.value)}fu(M.name)&&(r(z),M.value=z.innerHTML)}else it(z)?(M.value=z.data,c&&(M.raw=!0)):(Bo(z)||Hp(z)||Od(z))&&(M.value=z.data);fu(M.name)||bO(M,z,o,r),e.append(M)}},Ga=(e,t,o)=>{const r=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;Te(t,g=>g(d)),Lo(d.parent)&&d!==e?a=c:r.push(d)}for(let a=r.length-1;a>=0;a--){const c=r[a];Te(o,d=>d(c))}},km=(e,t,o,r)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=tS(Hk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=Sb(t),z=/[ \t\r\n]+/g,M=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,I=ke=>{let ve=ke.parent;for(;Fe(ve);){if(ve.name in d)return!0;ve=ve.parent}return!1},K=ke=>{let ve=ke;for(;Fe(ve);){if(ve.name in v)return Ey(t,c,d,ve);ve=ve.parent}return!1},oe=ke=>ke.name in g||Kc(t,ke)||fu(ke.name)&&ke.parent===e,Y=(ke,ve)=>{const ze=ve?ke.prev:ke.next;return Fe(ze)||Lo(ke.parent)?!1:oe(ke.parent)&&(ke.parent!==e||r.isRootContent===!0)};return[ke=>{var ve;if(ke.type===3&&!I(ke)){let ze=(ve=ke.value)!==null&&ve!==void 0?ve:"";ze=ze.replace(z," "),(nT(ke.prev,oe)||Y(ke,!0))&&(ze=ze.replace(M,"")),ze.length===0||ze===" "&&ke.prev&&ke.prev.type===jc&&ke.next&&ke.next.type===jc?ke.remove():ke.value=ze}},ke=>{var ve;if(ke.type===1){const ze=t.getElementRule(ke.name);if(a&&ze){const Je=Ey(t,c,d,ke);ze.paddInEmptyBlock&&Je&&K(ke)?uk(o,r,oe,ke):ze.removeEmpty&&Je?oe(ke)?ke.remove():ke.unwrap():ze.paddEmpty&&(Je||fk(ke))&&uk(o,r,oe,ke)}}else if(ke.type===3&&!I(ke)){let ze=(ve=ke.value)!==null&&ve!==void 0?ve:"";(ke.next&&oe(ke.next)||Y(ke,!1))&&(ze=ze.replace(P,"")),ze.length===0?ke.remove():ke.value=ze}}]},M6=(e,t)=>{var o;const r=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Ry=(e={},t=zc())=>{const o=Dk(),r=Dk(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,d=D6(a,t),g=(ve,ze,Je="html")=>{const gt=Je==="xhtml"?"application/xhtml+xml":"text/html",Ot=mo(t.getSpecialElements(),ze.toLowerCase()),He=Ot?`<${ze}>${ve}</${ze}>`:ve,Ne=()=>Je==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${He}</body></html>`:/^[\s]*<head/i.test(ve)||/^[\s]*<html/i.test(ve)||/^[\s]*<!DOCTYPE/i.test(ve)?`<html>${He}</html>`:`<body>${He}</body>`,Ke=c.parseFromString(Ne(),gt).body;return d.sanitizeHtmlElement(Ke,gt),Ot?Ke.firstChild:Ke},v=o.addFilter,z=o.getFilters,M=o.removeFilter,P=r.addFilter,I=r.getFilters,K=r.removeFilter,oe=(ve,ze)=>{I0(t,ve)&&ze.push(ve)},Y=(ve,ze)=>{const Je=Tt(ze.attr(JC)),gt=ze.type===1&&!mo(ve,ze.name)&&!Kc(t,ze)&&!fu(ze.name);return ze.type===3||gt&&!Je},re=(ve,ze)=>{const Je=tS(Hk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),gt=/^[ \t\r\n]+/,Ot=/[ \t\r\n]+$/;let He=ve.firstChild,Ne=null;const Ke=Mt=>{var Yt,qo;Mt&&(He=Mt.firstChild,He&&He.type===3&&(He.value=(Yt=He.value)===null||Yt===void 0?void 0:Yt.replace(gt,"")),He=Mt.lastChild,He&&He.type===3&&(He.value=(qo=He.value)===null||qo===void 0?void 0:qo.replace(Ot,"")))};if(t.isValidChild(ve.name,ze.toLowerCase())){for(;He;){const Mt=He.next;Y(Je,He)?(Ne||(Ne=new ci(ze,1),Ne.attr(a.forced_root_block_attrs),ve.insert(Ne,He)),Ne.append(He)):(Ke(Ne),Ne=null),He=Mt}Ke(Ne)}},ke={schema:t,addAttributeFilter:P,getAttributeFilters:I,removeAttributeFilter:K,addNodeFilter:v,getNodeFilters:z,removeNodeFilter:M,parse:(ve,ze={})=>{var Je;const gt=a.validate,Ot=(Je=ze.context)!==null&&Je!==void 0?Je:a.root_name,He=g(ve,Ot,ze.format);Ao(t,He);const Ne=new ci(Ot,11);bO(Ne,He,t.getSpecialElements(),d.sanitizeNamespaceElement),He.innerHTML="";const[Ke,Mt]=km(Ne,t,a,ze),Yt=[],qo=gt?Ps=>oe(Ps,Yt):Qe,nn={nodes:{},attributes:{}},Wn=Ps=>j2(z(),I(),Ps,nn);if(Ga(Ne,[Ke,Wn],[Mt,qo]),Yt.reverse(),gt&&Yt.length>0)if(ze.context){const{pass:Ps,fail:ol}=tt(Yt,pr=>pr.parent===Ne);ld(ol,t,Ne,Wn),ze.invalid=Ps.length>0}else ld(Yt,t,Ne,Wn);const or=M6(a,ze);return or&&(Ne.name==="body"||ze.isRootContent)&&re(Ne,or),ze.invalid||U2(nn,ze),Ne}};return b6(ke,a),u6(ke,a,t),ke},B6=e=>Xh(e)?bp({validate:!1}).serialize(e):e,oS=(e,t,o)=>{const r=B6(e),a=t(r);if(a.isDefaultPrevented())return a;if(Xh(e))if(a.content!==r){const c=Ry({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},tb=e=>({sanitize:bE(e),sandbox_iframes:rw(e),sandbox_iframes_exclusions:Qv(e)}),yO=(e,t)=>{if(t.no_events)return lo.value(t);{const o=pf(e,t);return o.isDefaultPrevented()?lo.error(x3(e,{content:"",...o}).content):lo.value(o)}},Nu=(e,t,o)=>o.no_events?t:oS(t,a=>x3(e,{...o,content:a}),tb(e)).content,nS=(e,t)=>{if(t.no_events)return lo.value(t);{const o=oS(t.content,r=>RR(e,{...t,content:r}),tb(e));return o.isDefaultPrevented()?(ec(e,o),lo.error(void 0)):lo.value(o)}},rS=(e,t,o)=>{o.no_events||ec(e,{...o,content:t})},$k=(e,t,o)=>({element:e,width:t,rows:o}),sS=(e,t)=>({element:e,cells:t}),P6=(e,t)=>({x:e,y:t}),Vk=(e,t)=>gs(e,t).bind(Ns).getOr(1),_m=(e,t,o,r,a)=>{const c=Vk(a,"rowspan"),d=Vk(a,"colspan"),g=e.rows;for(let v=o;v<o+c;v++){g[v]||(g[v]=sS(Xf(r),[]));for(let z=t;z<t+d;z++){const M=g[v].cells;M[z]=v===o&&z===t?a:ys(a)}}},vO=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},xO=(e,t,o)=>{for(;vO(e,t,o);)t++;return t},X0=e=>ao(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),jk=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let c=0;c<a.length;c++)if(on(a[c],t))return H.some(P6(c,r))}return H.none()},aS=(e,t,o,r,a)=>{const c=[],d=e.rows;for(let g=o;g<=a;g++){const v=d[g].cells,z=t<r?v.slice(t,r+1):v.slice(r,t+1);c.push(sS(d[g].element,z))}return c},kO=(e,t,o)=>{const r=t.x,a=t.y,c=o.x,d=o.y,g=a<d?aS(e,r,a,c,d):aS(e,r,d,c,a);return $k(e.element,X0(g),g)},_O=(e,t)=>{const o=ys(e.element),r=de.fromTag("tbody");return fs(r,t),ts(o,r),o},L6=e=>Ko(e.rows,t=>{const o=Ko(t.cells,a=>{const c=Xf(a);return $o(c,"colspan"),$o(c,"rowspan"),c}),r=ys(t.element);return fs(r,o),r}),I6=e=>{const t=$k(ys(e),0,[]);return Te(Cs(e,"tr"),(o,r)=>{Te(Cs(o,"td,th"),(a,c)=>{_m(t,xO(t,c,r),r,o,a)})}),$k(t.element,X0(t.rows),t.rows)},F6=e=>_O(e,L6(e)),wO=(e,t,o)=>jk(e,t).bind(r=>jk(e,o).map(a=>kO(e,r,a))),CO=e=>En(e,t=>rn(t)==="ul"||rn(t)==="ol"),H6=(e,t)=>En(e,o=>rn(o)==="li"&&J1(o,t)).fold($e([]),o=>CO(e).map(r=>{const a=de.fromTag(rn(r)),c=Oi(Vu(r),(d,g)=>sr(g,"list-style"));return Xo(a,c),[de.fromTag("li"),a]}).getOr([])),iS=(e,t)=>{const o=ao(t,(r,a)=>(ts(a,r),a),e);return t.length>0?Bc([o]):o},SO=e=>Qf(e)?Qs(e).filter(dh).fold($e([]),t=>[e,t]):dh(e)?[e]:[],$6=(e,t,o)=>{const r=de.fromDom(t.commonAncestorContainer),a=Lc(r,e),c=Xe(a,v=>o.isWrapper(rn(v))),d=H6(a,t),g=c.concat(d.length?d:SO(r));return Ko(g,ys)},lS=()=>Bc([]),V6=(e,t,o)=>iS(de.fromDom(t.cloneContents()),$6(e,t,o)),j6=(e,t)=>xl(t,"table",wt(on,e)),el=(e,t)=>j6(e,t[0]).bind(o=>{const r=t[0],a=t[t.length-1],c=I6(o);return wO(c,r,a).map(d=>Bc([F6(d)]))}).getOrThunk(lS),U6=(e,t,o)=>t.length>0&&t[0].collapsed?lS():V6(e,t[0],o),Z6=(e,t,o)=>{const r=t3(t,e);return r.length>0?el(e,r):U6(e,t,o)},Uk=(e,t)=>t>=0&&t<e.length&&Dh(e.charAt(t)),EO=e=>Xi(e.innerText),Zk=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),W6=e=>H.from(e.selection.getRng()).map(t=>{var o;const r=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=Zk(r),d=de.fromDom(t.cloneContents());cz(d),dz(d);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),v=EO(g),z=Xi((o=g.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(g),Uk(z,0)||Uk(z,z.length-1)){const M=r.getOr(a),P=EO(M),I=P.indexOf(v);if(I===-1)return v;{const K=Uk(P,I-1),oe=Uk(P,I+v.length);return(K?" ":"")+v+(oe?" ":"")}}else return v}).getOr(""),cS=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),c=Fx(e,Vr(a)),d=t.contextual?Z6(de.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&r.appendChild(d),e.selection.serializer.serialize(r,t)},dS=(e,t)=>{if(t.format==="text")return W6(e);{const o=cS(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},q6=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),G6=(e,t,o={})=>{const r=q6(o,t);return yO(e,r).fold(Oo,a=>{const c=dS(e,a);return Nu(e,c,a)})},Gd=0,uS=1,zO=2,fS=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),a=new Array(o),c=(M,P,I)=>({start:M,end:P,diag:I}),d=(M,P,I,K,oe)=>{const Y=v(M,P,I,K);if(Y===null||Y.start===P&&Y.diag===P-K||Y.end===M&&Y.diag===M-I){let re=M,ge=I;for(;re<P||ge<K;)re<P&&ge<K&&e[re]===t[ge]?(oe.push([Gd,e[re]]),++re,++ge):P-M>K-I?(oe.push([zO,e[re]]),++re):(oe.push([uS,t[ge]]),++ge)}else{d(M,Y.start,I,Y.start-Y.diag,oe);for(let re=Y.start;re<Y.end;++re)oe.push([Gd,e[re]]);d(Y.end,P,Y.end-Y.diag,K,oe)}},g=(M,P,I,K)=>{let oe=M;for(;oe-P<K&&oe<I&&e[oe]===t[oe-P];)++oe;return c(M,oe,P)},v=(M,P,I,K)=>{const oe=P-M,Y=K-I;if(oe===0||Y===0)return null;const re=oe-Y,ge=Y+oe,ke=(ge%2===0?ge:ge+1)/2;r[1+ke]=M,a[1+ke]=P+1;let ve,ze,Je,gt,Ot;for(ve=0;ve<=ke;++ve){for(ze=-ve;ze<=ve;ze+=2){for(Je=ze+ke,ze===-ve||ze!==ve&&r[Je-1]<r[Je+1]?r[Je]=r[Je+1]:r[Je]=r[Je-1]+1,gt=r[Je],Ot=gt-M+I-ze;gt<P&&Ot<K&&e[gt]===t[Ot];)r[Je]=++gt,++Ot;if(re%2!==0&&re-ve<=ze&&ze<=re+ve&&a[Je-re]<=r[Je])return g(a[Je-re],ze+M-I,P,K)}for(ze=re-ve;ze<=re+ve;ze+=2){for(Je=ze+ke-re,ze===re-ve||ze!==re+ve&&a[Je+1]<=a[Je-1]?a[Je]=a[Je+1]-1:a[Je]=a[Je-1],gt=a[Je]-1,Ot=gt-M+I-ze;gt>=M&&Ot>=I&&e[gt]===t[Ot];)a[Je]=gt--,Ot--;if(re%2===0&&-ve<=ze&&ze<=ve&&a[Je]<=r[Je+re])return g(a[Je],ze+M-I,P,K)}}return null},z=[];return d(0,e.length,0,t.length,z),z},mS=e=>It(e)?e.outerHTML:it(e)?Wm.encodeRaw(e.data,!1):Bo(e)?"<!--"+e.data+"-->":"",Wk=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},TO=(e,t,o)=>{const r=Wk(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},OO=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},AO=(e,t)=>{let o=0;Te(e,r=>{r[0]===Gd?o++:r[0]===uS?(TO(t,r[1],o),o++):r[0]===zO&&OO(t,o)})},K6=(e,t)=>Xe(Ko(Vo(e.childNodes),Ft(Xi,mS)),o=>o.length>0),Y6=(e,t)=>{const o=Ko(Vo(t.childNodes),mS);return AO(fS(o,e),t),t},pS=Qa(()=>document.implementation.createHTMLDocument("undo")),X6=e=>e.querySelector("iframe")!==null,J6=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),qk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Dy=e=>{const t=e.serializer.getTempAttrs(),o=o2(e.getBody(),t);return X6(o)?J6(K6(o)):qk(Xi(o.innerHTML))},J0=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?Y6(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Fe(r)&&qE(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Gk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Cp=e=>{const t=de.fromTag("body",pS());return ql(t,Gk(e)),Te(Cs(t,"*[data-mce-bogus]"),ha),Wi(t)},Q6=(e,t)=>Gk(e)===Gk(t),eM=(e,t)=>Cp(e)===Cp(t),My=(e,t)=>!e||!t?!1:Q6(e,t)?!0:eM(e,t),Kk=e=>e.get()===0,Q0=(e,t,o)=>{Kk(o)&&(e.typing=t)},gS=(e,t)=>{e.typing&&(Q0(e,!1,t),e.add())},tM=e=>{e.typing&&(e.typing=!1,e.add())},oM=(e,t,o)=>{Kk(t)&&o.set(Nt(e.selection))},hS=(e,t,o,r,a,c,d)=>{const g=Dy(e),v=ft.extend(c||{},g);if(!Kk(r)||e.removed)return null;const z=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:z,originalEvent:d}).isDefaultPrevented()||z&&My(z,v))return null;t.data[o.get()]&&a.get().each(I=>{t.data[o.get()].beforeBookmark=I});const M=dE(e);if(M&&t.data.length>M){for(let I=0;I<t.data.length-1;I++)t.data[I]=t.data[I+1];t.data.length--,o.set(t.data.length)}v.bookmark=Nt(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(v),o.set(t.data.length-1);const P={level:v,lastLevel:z,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",P),e.dispatch("change",P)):e.dispatch("AddUndo",P),v},bS=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},yS=(e,t,o,r,a)=>{if(t.transact(r)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];J0(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},NO=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],J0(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},Yk=(e,t,o,r)=>{let a;return t.typing&&(t.add(),t.typing=!1,Q0(t,!1,o)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],J0(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},RO=e=>{e.clear(),e.add()},DO=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!My(Dy(e),t.data[0]),nM=(e,t)=>t.get()<e.data.length-1&&!e.typing,rM=(e,t,o)=>(gS(e,t),e.beforeChange(),e.ignore(o),e.add()),vS=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},MO=(e,t)=>{const o=e.dom,r=Fe(t)?t:e.getBody();Te(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const c=Xv(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const g=o.getAttrib(a,"name")||a.id,v=ny(e);g&&e.hasVisual?o.addClass(a,v):o.removeClass(a,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},xS=e=>({init:{bindEvents:Qe},undoManager:{beforeChange:(t,o)=>oM(e,t,o),add:(t,o,r,a,c,d)=>hS(e,t,o,r,a,c,d),undo:(t,o,r)=>Yk(e,t,o,r),redo:(t,o)=>NO(e,t,o),clear:(t,o)=>bS(e,t,o),reset:t=>RO(t),hasUndo:(t,o)=>DO(e,t,o),hasRedo:(t,o)=>nM(t,o),transact:(t,o,r)=>rM(t,o,r),ignore:(t,o)=>vS(t,o),extra:(t,o,r,a)=>yS(e,t,o,r,a)},formatter:{match:(t,o,r,a)=>_g(e,t,o,r,a),matchAll:(t,o)=>bT(e,t,o),matchNode:(t,o,r,a)=>ym(e,t,o,r,a),canApply:t=>vT(e,t),closest:t=>yT(e,t),apply:(t,o,r)=>IT(e,t,o,r),remove:(t,o,r,a)=>Eg(e,t,o,r,a),toggle:(t,o,r)=>i6(e,t,o,r),formatChanged:(t,o,r,a,c)=>a6(e,t,o,r,a,c)},editor:{getContent:t=>mz(e,t),setContent:(t,o)=>JD(e,t,o),insertContent:(t,o)=>kk(e,t,o),addVisual:t=>MO(e,t)},selection:{getContent:(t,o)=>G6(e,t,o)},autocompleter:{addDecoration:Qe,removeDecoration:Qe},raw:{getModel:()=>H.none()}}),sM=e=>{const t=z=>ue(z)?z:{},{init:o,undoManager:r,formatter:a,editor:c,selection:d,autocompleter:g,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(z,M,P)=>r.transact(P),ignore:(z,M)=>r.ignore(M),extra:(z,M,P,I)=>r.extra(P,I)},formatter:{match:(z,M,P,I)=>a.match(z,t(M),I),matchAll:a.matchAll,matchNode:a.matchNode,canApply:z=>a.canApply(z),closest:z=>a.closest(z),apply:(z,M,P)=>a.apply(z,t(M)),remove:(z,M,P,I)=>a.remove(z,t(M)),toggle:(z,M,P)=>a.toggle(z,t(M)),formatChanged:(z,M,P,I,K)=>a.formatChanged(M,P,I,K)},editor:{getContent:z=>c.getContent(z),setContent:(z,M)=>({content:c.setContent(z,M),html:""}),insertContent:(z,M)=>(c.insertContent(z),""),addVisual:c.addVisual},selection:{getContent:(z,M)=>d.getContent(M)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>H.some(v.getRawModel())}}},aM=()=>{const e=$e(null),t=$e("");return{init:{bindEvents:Qe},undoManager:{beforeChange:Qe,add:e,undo:e,redo:e,clear:Qe,reset:Qe,hasUndo:hn,hasRedo:hn,transact:e,ignore:Qe,extra:Qe},formatter:{match:hn,matchAll:$e([]),matchNode:$e(void 0),canApply:hn,closest:t,apply:Qe,remove:Qe,toggle:Qe,formatChanged:$e({unbind:Qe})},editor:{getContent:t,setContent:$e({content:"",html:""}),insertContent:$e(""),addVisual:Qe},selection:{getContent:t},autocompleter:{addDecoration:Qe,removeDecoration:Qe},raw:{getModel:$e(H.none())}}},wm=e=>mo(e.plugins,"rtc"),BO=e=>Nn(e.plugins,"rtc").bind(t=>H.from(t.setup)),PO=e=>{const t=e;return BO(e).fold(()=>(t.rtcInstance=xS(e),H.none()),o=>(t.rtcInstance=aM(),H.some(()=>o().then(r=>(t.rtcInstance=sM(r),r.rtc.isRemote)))))},kS=e=>e.rtcInstance?e.rtcInstance:xS(e),Ka=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},By=(e,t,o)=>{Ka(e).undoManager.beforeChange(t,o)},iM=(e,t,o,r,a,c,d)=>Ka(e).undoManager.add(t,o,r,a,c,d),lM=(e,t,o,r)=>Ka(e).undoManager.undo(t,o,r),LO=(e,t,o)=>Ka(e).undoManager.redo(t,o),IO=(e,t,o)=>{Ka(e).undoManager.clear(t,o)},Xk=(e,t)=>{Ka(e).undoManager.reset(t)},cM=(e,t,o)=>Ka(e).undoManager.hasUndo(t,o),dM=(e,t,o)=>Ka(e).undoManager.hasRedo(t,o),uM=(e,t,o,r)=>Ka(e).undoManager.transact(t,o,r),fM=(e,t,o)=>{Ka(e).undoManager.ignore(t,o)},mM=(e,t,o,r,a)=>{Ka(e).undoManager.extra(t,o,r,a)},pM=(e,t,o,r,a)=>Ka(e).formatter.match(t,o,r,a),gM=(e,t,o)=>Ka(e).formatter.matchAll(t,o),hM=(e,t,o,r,a)=>Ka(e).formatter.matchNode(t,o,r,a),bM=(e,t)=>Ka(e).formatter.canApply(t),yM=(e,t)=>Ka(e).formatter.closest(t),kr=(e,t,o,r)=>{Ka(e).formatter.apply(t,o,r)},FO=(e,t,o,r,a)=>{Ka(e).formatter.remove(t,o,r,a)},_S=(e,t,o,r)=>{Ka(e).formatter.toggle(t,o,r)},HO=(e,t,o,r,a,c)=>Ka(e).formatter.formatChanged(t,o,r,a,c),$O=(e,t)=>kS(e).editor.getContent(t),wS=(e,t,o)=>kS(e).editor.setContent(t,o),vM=(e,t,o)=>kS(e).editor.insertContent(t,o),xM=(e,t,o)=>Ka(e).selection.getContent(t,o),VO=(e,t)=>Ka(e).editor.addVisual(t),jO=e=>Ka(e).init.bindEvents(),kM=(e,t={})=>{const o=t.format?t.format:"html";return xM(e,o,t)},ob=e=>e.dom.length===0?(Mn(e),H.none()):H.some(e),_M=(e,t)=>e.filter(o=>lr.isBookmarkNode(o.dom)).bind(t?Kt:Ds),Py=(e,t,o,r,a)=>{const c=e.dom,d=t.dom,g=r?c.length:d.length;r?(N0(c,d,a,!1,!r),o.setStart(d,g)):(N0(d,c,a,!1,!r),o.setEnd(d,g))},ev=(e,t,o)=>{Qs(e).each(r=>{const a=e.dom;t&&_y(r,De(a,0),o)?Kx(a,0,o):!t&&qh(r,De(a,a.length),o)&&ps(a,a.length,o)})},nb=(e,t,o,r,a)=>{e.bind(c=>((r?ps:Kx)(c.dom,r?c.dom.length:0,a),t.filter(vr).map(g=>Py(c,g,o,r,a)))).orThunk(()=>_M(t,r).or(t).filter(vr).map(d=>ev(d,r,a)))},CS=(e,t,o)=>{const r=H.from(t.firstChild).map(de.fromDom),a=H.from(t.lastChild).map(de.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(Ds).filter(vr).bind(ob),d=a.bind(Kt).filter(vr).bind(ob);nb(c,r,e,!0,o),nb(d,a,e,!1,o),e.collapse(!1)},UO=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),ZO=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return bp({validate:!1},e.schema).serialize(c)}else return t.content},SS=(e,t,o={})=>{const r=UO(o,t);nS(e,r).each(a=>{const c=ZO(e,a),d=e.selection.getRng();CS(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Fd(e,d),rS(e,c,a)})},ES=(e,t,o)=>{if(mo(e,t)){const r=Xe(e[t],a=>a!==o);r.length===0?delete e[t]:e[t]=r}};var WO=(e,t)=>{let o,r;const a=(g,v)=>En(v,z=>e.is(z,g)),c=g=>e.getParents(g,void 0,e.getRoot()),d=()=>{o={},r={},t.on("NodeChange",g=>{const v=g.element,z=c(v),M={};Fo(o,(P,I)=>{a(I,z).each(K=>{r[I]||(Te(P,oe=>{oe(!0,{node:K,selector:I,parents:z})}),r[I]=P),M[I]=P})}),Fo(r,(P,I)=>{M[I]||(delete r[I],Te(P,K=>{K(!1,{node:v,selector:I,parents:z})}))})})};return{selectorChangedWithUnbind:(g,v)=>(o||d(),o[g]||(o[g]=[]),o[g].push(v),a(g,c(t.selection.getStart())).each(()=>{r[g]=o[g]}),{unbind:()=>{ES(o,g,v),ES(r,g,v)}})}};const zS=e=>!!(e&&e.ownerDocument)&&pa(de.fromDom(e.ownerDocument),de.fromDom(e)),TS=e=>e?zS(e.startContainer)&&zS(e.endContainer):!1,OS=(e,t,o,r)=>{let a,c;const{selectorChangedWithUnbind:d}=WO(e,r),g=(xt,Gt)=>{const Ln=e.createRng();Fe(xt)&&Fe(Gt)?(Ln.setStart(xt,Gt),Ln.setEnd(xt,Gt),ze(Ln),ge(!1)):(Q1(e,Ln,r.getBody(),!0),ze(Ln))},v=xt=>kM(r,xt),z=(xt,Gt)=>SS(r,xt,Gt),M=xt=>oz(r.getBody(),ve(),xt),P=xt=>nz(r.getBody(),ve(),xt),I=(xt,Gt)=>ol.getBookmark(xt,Gt),K=xt=>ol.moveToBookmark(xt),oe=(xt,Gt)=>(C0(e,xt,Gt).each(ze),xt),Y=()=>{const xt=ve(),Gt=ke();return!xt||xt.item?!1:xt.compareEndPoints?xt.compareEndPoints("StartToEnd",xt)===0:!Gt||xt.collapsed},re=()=>{const xt=ve(),Gt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Gt.length>0?Yr(Gt,Ln=>e.isEditable(Ln.parentElement)):ez(e,xt)},ge=xt=>{const Gt=ve();Gt.collapse(!!xt),ze(Gt)},ke=()=>t.getSelection?t.getSelection():t.document.selection,ve=()=>{let xt;const Gt=(_t,ro,en)=>{try{return ro.compareBoundaryPoints(_t,en)}catch{return-1}},Ln=t.document;if(Fe(r.bookmark)&&!gy(r)){const _t=Kw(r);if(_t.isSome())return _t.map(ro=>Fx(r,[ro])[0]).getOr(Ln.createRange())}try{const _t=ke();_t&&!Ed(_t.anchorNode)&&(_t.rangeCount>0?xt=_t.getRangeAt(0):xt=Ln.createRange(),xt=Fx(r,[xt])[0])}catch{}if(xt||(xt=Ln.createRange()),jt(xt.startContainer)&&xt.collapsed){const _t=e.getRoot();xt.setStart(_t,0),xt.setEnd(_t,0)}return a&&c&&(Gt(xt.START_TO_START,xt,a)===0&&Gt(xt.END_TO_END,xt,a)===0?xt=c:(a=null,c=null)),xt},ze=(xt,Gt)=>{if(!TS(xt))return;const Ln=ke();if(xt=r.dispatch("SetSelectionRange",{range:xt,forward:Gt}).range,Ln){c=xt;try{Ln.removeAllRanges(),Ln.addRange(xt)}catch{}Gt===!1&&Ln.extend&&(Ln.collapse(xt.endContainer,xt.endOffset),Ln.extend(xt.startContainer,xt.startOffset)),a=Ln.rangeCount>0?Ln.getRangeAt(0):null}if(!xt.collapsed&&xt.startContainer===xt.endContainer&&(Ln!=null&&Ln.setBaseAndExtent)&&xt.endOffset-xt.startOffset<2&&xt.startContainer.hasChildNodes()){const ro=xt.startContainer.childNodes[xt.startOffset];ro&&ro.nodeName==="IMG"&&(Ln.setBaseAndExtent(xt.startContainer,xt.startOffset,xt.endContainer,xt.endOffset),(Ln.anchorNode!==xt.startContainer||Ln.focusNode!==xt.endContainer)&&Ln.setBaseAndExtent(ro,0,ro,1))}r.dispatch("AfterSetSelectionRange",{range:xt,forward:Gt})},Je=xt=>(z(e.getOuterHTML(xt)),xt),gt=()=>fD(r.getBody(),ve()),Ot=(xt,Gt)=>e2(e,ve(),xt,Gt),He=()=>{const xt=ke(),Gt=xt==null?void 0:xt.anchorNode,Ln=xt==null?void 0:xt.focusNode;if(!xt||!Gt||!Ln||Ed(Gt)||Ed(Ln))return!0;const _t=e.createRng(),ro=e.createRng();try{_t.setStart(Gt,xt.anchorOffset),_t.collapse(!0),ro.setStart(Ln,xt.focusOffset),ro.collapse(!0)}catch{return!0}return _t.compareBoundaryPoints(_t.START_TO_START,ro)<=0},Ps={dom:e,win:t,serializer:o,editor:r,expand:(xt={type:"word"})=>ze(fg(e).expand(ve(),xt)),collapse:ge,setCursorLocation:g,getContent:v,setContent:z,getBookmark:I,moveToBookmark:K,select:oe,isCollapsed:Y,isEditable:re,isForward:He,setNode:Je,getNode:gt,getSel:ke,setRng:ze,getRng:ve,getStart:M,getEnd:P,getSelectedBlocks:Ot,normalize:()=>{const xt=ve(),Gt=ke();if(!K1(Gt)&&ly(r)){const Ln=um(e,xt);return Ln.each(_t=>{ze(_t,He())}),Ln.getOr(xt)}return xt},selectorChanged:(xt,Gt)=>(d(xt,Gt),Ps),selectorChangedWithUnbind:d,getScrollContainer:()=>{let xt,Gt=e.getRoot();for(;Gt&&Gt.nodeName!=="BODY";){if(Gt.scrollHeight>Gt.clientHeight){xt=Gt;break}Gt=Gt.parentNode}return xt},scrollIntoView:(xt,Gt)=>{Fe(xt)?Zw(r,xt,Gt):Fd(r,ve(),Gt)},placeCaretAt:(xt,Gt)=>ze(O3(xt,Gt,r.getDoc())),getBoundingClientRect:()=>{const xt=ve();return xt.collapsed?De.fromRangeStart(xt).getClientRects()[0]:xt.getBoundingClientRect()},destroy:()=>{t=a=c=null,pr.destroy()}},ol=lr(Ps),pr=Qn(Ps,r);return Ps.bookmarkManager=ol,Ps.controlSelection=pr,Ps},qO=(e,t,o)=>{t.addNodeFilter("br",(r,a,c)=>{const d=ft.extend({},o.getBlockElements()),g=o.getNonEmptyElements(),v=o.getWhitespaceElements();d.body=1;const z=M=>M.name in d||Kc(o,M);for(let M=0,P=r.length;M<P;M++){let I=r[M],K=I.parent;if(K&&z(K)&&I===K.lastChild){let oe=I.prev;for(;oe;){const Y=oe.name;if(Y!=="span"||oe.attr("data-mce-type")!=="bookmark"){Y==="br"&&(I=null);break}oe=oe.prev}if(I&&(I.remove(),Ey(o,g,v,K))){const Y=o.getElementRule(K.name);Y&&(Y.removeEmpty?K.remove():Y.paddEmpty&&uk(e,c,z,K))}}else{let oe=I;for(;K&&K.firstChild===oe&&K.lastChild===oe&&(oe=K,!d[K.name]);)K=K.parent;if(oe===K){const Y=new ci("#text",3);Y.value=oa,I.replace(Y)}}}})},AS=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const c="data-mce-"+a,d=t.url_converter,g=t.url_converter_scope;let v=r.length;for(;v--;){const z=r[v];let M=z.attr(c);M!==void 0?(z.attr(a,M.length>0?M:null),z.attr(c,null)):(M=z.attr(a),a==="style"?M=o.serializeStyle(o.parseStyle(M),z.name):d&&(M=d.call(g,M,a,z.name)),z.attr(a,M.length>0?M:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const c=r[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(r,a,c)=>{let d=r.length;for(;d--;){const g=r[d];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(H.from(g.firstChild).exists(z=>{var M;return!Nc((M=z.value)!==null&&M!==void 0?M:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(r,a)=>{var c;const d=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const v=r[g],z=v.firstChild,M=(c=z==null?void 0:z.value)!==null&&c!==void 0?c:"";if(a==="script"){const P=v.attr("type");P&&v.attr("type",P==="mce-no/type"?null:P.replace(/^mce\-/,"")),t.element_format==="xhtml"&&z&&M.length>0&&(z.value=`// <![CDATA[
`+d(M)+`
// ]]>`)}else t.element_format==="xhtml"&&z&&M.length>0&&(z.value=`<!--
`+d(M)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const c=r[a],d=c.value;t.preserve_cdata&&(d==null?void 0:d.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):(d==null?void 0:d.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Te(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.remove_trailing_brs&&qO(t,e,e.schema)},wM=e=>{const t=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},GO=(e,t,o)=>{let r;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const g=d.createHTMLDocument("");ft.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=a.doc,a.doc=g}return a0(e,{...o,node:c}),r&&(a.doc=r),c},KO=(e,t)=>Fe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,YO=(e,t,o)=>KO(e,o)?GO(e,t,o):t,CM=(e,t,o)=>{ft.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.push(o))},SM=(e,t,o)=>!t.no_events&&e?i0(e,{...t,content:o}).content:o,Jk=(e,t,o)=>{const r=Xi(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||uh(de.fromDom(t))?r:ft.trim(r)},XO=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,r);return wM(a),a},JO=(e,t,o)=>bp(e,t).serialize(o),QO=(e,t,o,r,a)=>{const c=JO(t,o,r);return SM(e,a,c)},EM=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:fr.DOM,c=t&&t.schema?t.schema:zc(r),d=Ry(r,c);AS(d,r,a);const g=(v,z={})=>{const M={format:"html",...z},P=YO(t,v,M),I=Jk(a,P,M),K=XO(d,I,M);return M.format==="tree"?K:QO(t,r,c,K,M)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:wt(CM,d,o),getTempAttrs:$e(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},eA=(e,t)=>{const o=EM(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},zM="html",TM=(e,t)=>({...e,format:t,get:!0,getInner:!0}),tA=(e,t={})=>{const o=t.format?t.format:zM,r=TM(t,o);return yO(e,r).fold(Oo,a=>{const c=$O(e,a);return Nu(e,c,a)})},oA="html",nA=(e,t)=>({format:oA,...e,set:!0,content:t}),NS=(e,t,o={})=>{const r=nA(o,t);return nS(e,r).map(a=>{const c=wS(e,a.content,a);return rS(e,c.html,a),c.content}).getOr(t)},OM="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),AM=[],NM="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),tv=[],RS=(e,t)=>{const o=Xe(t,r=>mo(e,r));return Yo(o)},RM=e=>{const t=RS(e,OM),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Yo(t)},rA=e=>RS(e,AM),DS=(e,t)=>{const o=ft.makeMap(e.plugins," "),a=Xe(t,c=>mo(o,c));return Yo(a)},MS=e=>DS(e,NM),sA=e=>DS(e,tv.map(t=>t.name)),aA=(e,t)=>{const o=RM(e),r=MS(t),a=r.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const g=`
- `,v=d?`

Themes:${g}mobile`:"",z=a?`

Plugins:${g}${r.join(g)}`:"",M=c?`

Options:${g}${o.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+z+M)}},iA=e=>En(tv,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),DM=(e,t)=>{const o=rA(e),r=sA(t),a=r.length>0,c=o.length>0;if(a||c){const d=`
- `,g=a?`

Plugins:${d}${r.map(iA).join(d)}`:"",v=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},MM=(e,t)=>{aA(e,t),DM(e,t)},Og=fr.DOM,BM=e=>{Og.setStyle(e.id,"display",e.orgDisplay)},ov=e=>H.from(e).each(t=>t.destroy()),Qk=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},lA=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Og.unbind(t,"submit reset",e.formEventDelegate))},cA=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Fe(a==null?void 0:a.nextSibling)&&Og.remove(a.nextSibling),l0(e),e.editorManager.remove(e),!e.inline&&r&&BM(e),c0(e),Og.remove(e.getContainer()),ov(t),ov(o),e.destroy()}},PM=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ov(o),ov(r)),lA(e),Qk(e),e.destroyed=!0}},nv=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>mo(e,a)}})(),Ag=Bi.ModelManager,rv=(e,t)=>t.dom[e],BS=(e,t)=>parseInt(es(t,e),10),PS=wt(rv,"clientWidth"),dA=wt(rv,"clientHeight"),LM=wt(BS,"margin-top"),uA=wt(BS,"margin-left"),IM=e=>e.dom.getBoundingClientRect(),fA=(e,t,o)=>{const r=PS(e),a=dA(e);return t>=0&&o>=0&&t<=r&&o<=a},mA=(e,t,o,r)=>{const a=IM(t),c=e?a.left+t.dom.clientLeft+uA(t):0,d=e?a.top+t.dom.clientTop+LM(t):0,g=o-c,v=r-d;return{x:g,y:v}},FM=(e,t,o)=>{const r=de.fromDom(e.getBody()),a=e.inline?r:Ul(r),c=mA(e.inline,a,t,o);return fA(a,c.x,c.y)},pA=e=>H.from(e).map(de.fromDom),LS=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return pA(t).map(Fa).getOr(!1)};var gA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const IS=e=>{const t=[],o=()=>{const I=e.theme;return I&&I.getNotificationManagerImpl?I.getNotificationManagerImpl():gA()},r=()=>H.from(t[0]),a=(I,K)=>I.type===K.type&&I.text===K.text&&!I.progressBar&&!I.timeout&&!K.progressBar&&!K.timeout,c=()=>{r().each(I=>{I.reposition()})},d=I=>{t.push(I)},g=I=>{Jn(t,K=>K===I).each(K=>{t.splice(K,1)})},v=(I,K=!0)=>e.removed||!LS(e)?{}:(K&&e.dispatch("BeforeOpenNotification",{notification:I}),En(t,oe=>a(o().getArgs(oe),I)).getOrThunk(()=>{e.editorManager.setActive(e);const oe=o().open(I,()=>{g(oe)},()=>$h(e));return d(oe),c(),e.dispatch("OpenNotification",{notification:{...oe}}),oe})),z=()=>{r().each(I=>{o().close(I),g(I),c()})},M=$e(t);return(I=>{I.on("SkinLoaded",()=>{const K=qN(I);K&&v({text:K,type:"warning",timeout:0},!1),c()}),I.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),I.on("remove",()=>{Te(t.slice(),K=>{o().close(K)})}),I.addShortcut("alt+F12","Focus to notification",()=>r().map(K=>de.fromDom(K.getEl())).each(K=>Ww(K)))})(e),{open:v,close:z,getNotifications:M}},rb=Bi.PluginManager,Ng=Bi.ThemeManager;var HM=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const hA=e=>{let t=[];const o=()=>{const Y=e.theme;return Y&&Y.getWindowManagerImpl?Y.getWindowManagerImpl():HM()},r=(Y,re)=>(...ge)=>re?re.apply(Y,ge):void 0,a=Y=>{e.dispatch("OpenWindow",{dialog:Y})},c=Y=>{e.dispatch("CloseWindow",{dialog:Y})},d=Y=>{t.push(Y),a(Y)},g=Y=>{c(Y),t=Xe(t,re=>re!==Y),t.length===0&&e.focus()},v=()=>H.from(t[t.length-1]),z=Y=>{e.editorManager.setActive(e),py(e),e.ui.show();const re=Y();return d(re),re},M=(Y,re)=>z(()=>o().open(Y,re,g)),P=Y=>z(()=>o().openUrl(Y,g)),I=(Y,re,ge)=>{const ke=o();ke.alert(Y,r(ge||ke,re))},K=(Y,re,ge)=>{const ke=o();ke.confirm(Y,r(ge||ke,re))},oe=()=>{v().each(Y=>{o().close(Y),g(Y)})};return e.on("remove",()=>{Te(t,Y=>{o().close(Y)})}),{open:M,openUrl:P,alert:I,confirm:K,close:oe}},e_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},t_=(e,t)=>{e._skinLoaded?e_(e,t):e.on("SkinLoaded",()=>{e_(e,t)})},bA=(e,t)=>{t_(e,Tc.translate(["Failed to upload image: {0}",t]))},Ly=(e,t,o)=>{Nw(e,t,{message:o}),console.error(o)},sb=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,FS=(e,t,o)=>{Ly(e,"PluginLoadError",sb("plugin",t,o))},HS=(e,t,o)=>{Ly(e,"IconsLoadError",sb("icons",t,o))},$M=(e,t,o)=>{Ly(e,"LanguageLoadError",sb("language",t,o))},yA=(e,t,o)=>{Ly(e,"ThemeLoadError",sb("theme",t,o))},VM=(e,t,o)=>{Ly(e,"ModelLoadError",sb("model",t,o))},jM=(e,t,o)=>{const r=Tc.translate(["Failed to initialize plugin: {0}",t]);Nw(e,"PluginLoadError",{message:r}),sv(r,o),t_(e,r)},sv=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},$S=e=>/^[a-z0-9\-]+$/i.test(e),VS=e=>"content/"+e+"/content.css",o_=e=>tinymce.Resource.has(VS(e)),UM=e=>vA(e,cl(e)),ZM=e=>vA(e,oE(e)),vA=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Ko(t,c=>o_(c)?c:$S(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},xA=e=>{e.contentCSS=e.contentCSS.concat(UM(e),ZM(e))},kA=e=>e?Vo(e.getElementsByTagName("img")):[],WM=(e,t)=>{const o={};return{findAll:(a,c=wo)=>{const d=Xe(kA(a),v=>{const z=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!z||z===Mo.transparentSrc?!1:sr(z,"blob:")?!e.isUploaded(z)&&c(v):sr(z,"data:")?c(v):!1}),g=Ko(d,v=>{const z=v.src;if(mo(o,z))return o[z].then(M=>Tt(M)?M:{image:v,blobInfo:M.blobInfo});{const M=BC(t,z).then(P=>(delete o[z],{image:v,blobInfo:P})).catch(P=>(delete o[z],P));return o[z]=M,M}});return Promise.all(g)}}},jS=()=>{let o={};const r=(I,K)=>({status:I,resultUri:K}),a=I=>I in o;return{hasBlobUri:a,getResultUri:I=>{const K=o[I];return K?K.resultUri:null},isPending:I=>a(I)?o[I].status===1:!1,isUploaded:I=>a(I)?o[I].status===2:!1,markPending:I=>{o[I]=r(1,null)},markUploaded:(I,K)=>{o[I]=r(2,K)},removeFailed:I=>{delete o[I]},destroy:()=>{o={}}}};let av=0;const _A=()=>{const e=()=>Math.round(Yi()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},qM=e=>e+av+++_A(),wA=()=>{let e=[];const t=P=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[P.toLowerCase()]||"dat",o=(P,I,K,oe,Y)=>{if(Tt(P))return r({id:P,name:oe,filename:Y,blob:I,base64:K});if(ue(P))return r(P);throw new Error("Unknown input type")},r=P=>{if(!P.blob||!P.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const I=P.id||qM("blobid"),K=P.name||I,oe=P.blob;return{id:$e(I),name:$e(K),filename:$e(P.filename||K+"."+t(oe.type)),blob:$e(oe),base64:$e(P.base64),blobUri:$e(P.blobUri||URL.createObjectURL(oe)),uri:$e(P.uri)}},a=P=>{d(P.id())||e.push(P)},c=P=>En(e,P).getOrUndefined(),d=P=>c(I=>I.id()===P);return{create:o,add:a,get:d,getByUri:P=>c(I=>I.blobUri()===P),getByData:(P,I)=>c(K=>K.base64()===P&&K.blob().type===I),findFirst:c,removeByUri:P=>{e=Xe(e,I=>I.blobUri()===P?(URL.revokeObjectURL(I.blobUri()),!1):!0)},destroy:()=>{Te(e,P=>{URL.revokeObjectURL(P.blobUri())}),e=[]}}},CA=(e,t)=>{const o={},r=(Y,re)=>Y?Y.replace(/\/$/,"")+"/"+re.replace(/^\//,""):re,a=(Y,re)=>new Promise((ge,ke)=>{const ve=new XMLHttpRequest;ve.open("POST",t.url),ve.withCredentials=t.credentials,ve.upload.onprogress=Je=>{re(Je.loaded/Je.total*100)},ve.onerror=()=>{ke("Image upload failed due to a XHR Transport error. Code: "+ve.status)},ve.onload=()=>{if(ve.status<200||ve.status>=300){ke("HTTP Error: "+ve.status);return}const Je=JSON.parse(ve.responseText);if(!Je||!Tt(Je.location)){ke("Invalid JSON: "+ve.responseText);return}ge(r(t.basePath,Je.location))};const ze=new FormData;ze.append("file",Y.blob(),Y.filename()),ve.send(ze)}),c=Pt(t.handler)?t.handler:a,d=()=>new Promise(Y=>{Y([])}),g=(Y,re)=>({url:re,blobInfo:Y,status:!0}),v=(Y,re)=>({url:"",blobInfo:Y,status:!1,error:re}),z=(Y,re)=>{ft.each(o[Y],ge=>{ge(re)}),delete o[Y]},M=(Y,re,ge)=>(e.markPending(Y.blobUri()),new Promise(ke=>{let ve,ze;try{const Je=()=>{ve&&(ve.close(),ze=Qe)},gt=He=>{Je(),e.markUploaded(Y.blobUri(),He),z(Y.blobUri(),g(Y,He)),ke(g(Y,He))},Ot=He=>{Je(),e.removeFailed(Y.blobUri()),z(Y.blobUri(),v(Y,He)),ke(v(Y,He))};ze=He=>{He<0||He>100||H.from(ve).orThunk(()=>H.from(ge).map(as)).each(Ne=>{ve=Ne,Ne.progressBar.value(He)})},re(Y,ze).then(gt,He=>{Ot(Tt(He)?{message:He}:He)})}catch(Je){ke(v(Y,Je))}})),P=Y=>Y===a,I=Y=>{const re=Y.blobUri();return new Promise(ge=>{o[re]=o[re]||[],o[re].push(ge)})},K=(Y,re)=>(Y=ft.grep(Y,ge=>!e.isUploaded(ge.blobUri())),Promise.all(ft.map(Y,ge=>e.isPending(ge.blobUri())?I(ge):M(ge,c,re))));return{upload:(Y,re)=>!t.url&&P(c)?d():K(Y,re)}},SA=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),EA=(e,t)=>CA(t,{url:q_(e),basePath:Q4(e),credentials:G_(e),handler:UN(e)}),GM=e=>{const t=jS(),o=EA(e,t);return{upload:(r,a=!0)=>o.upload(r,a?SA(e):void 0)}},KM=(e,t)=>e.dom.isEmpty(t.dom)&&Fe(e.schema.getTextBlockElements()[rn(t)]),zA=e=>t=>{KM(e,t)&&ts(t,de.fromHtml('<br data-mce-bogus="1" />'))},US=e=>{const t=wA();let o,r;const a=jS(),c=[],d=ve=>ze=>e.selection?ve(ze):[],g=ve=>ve+(ve.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(ve,ze,Je)=>{let gt=0;do gt=ve.indexOf(ze,gt),gt!==-1&&(ve=ve.substring(0,gt)+Je+ve.substr(gt+ze.length),gt+=Je.length-ze.length+1);while(gt!==-1);return ve},z=(ve,ze,Je)=>{const gt=`src="${Je}"${Je===Mo.transparentSrc?' data-mce-placeholder="1"':""}`;return ve=v(ve,`src="${ze}"`,gt),ve=v(ve,'data-mce-src="'+ze+'"','data-mce-src="'+Je+'"'),ve},M=(ve,ze)=>{Te(e.undoManager.data,Je=>{Je.type==="fragmented"?Je.fragments=Ko(Je.fragments,gt=>z(gt,ve,ze)):Je.content=z(Je.content,ve,ze)})},P=(ve,ze)=>{const Je=e.convertURL(ze,"src");M(ve.src,ze),Pa(de.fromDom(ve),{src:dp(e)?g(ze):ze,"data-mce-src":Je})},I=()=>(o||(o=EA(e,a)),re().then(d(ve=>{const ze=Ko(ve,Je=>Je.blobInfo);return o.upload(ze,SA(e)).then(d(Je=>{const gt=[];let Ot=!1;const He=Ko(Je,(Ne,Ke)=>{const{blobInfo:Mt,image:Yt}=ve[Ke];let qo=!1;return Ne.status&&X4(e)?(Ne.url&&!Rn(Yt.src,Ne.url)&&(Ot=!0),t.removeByUri(Yt.src),wm(e)||P(Yt,Ne.url)):Ne.error&&(Ne.error.remove&&(M(Yt.src,Mo.transparentSrc),gt.push(Yt),qo=!0),bA(e,Ne.error.message)),{element:Yt,status:Ne.status,uploadUri:Ne.url,blobInfo:Mt,removed:qo}});return gt.length>0&&!wm(e)?e.undoManager.transact(()=>{Te(ri(gt),Ne=>{const Ke=Qs(Ne);Mn(Ne),Ke.each(zA(e)),t.removeByUri(Ne.dom.src)})}):Ot&&e.undoManager.dispatchChange(),He}))}))),K=()=>mr(e)?I():Promise.resolve([]),oe=ve=>Yr(c,ze=>ze(ve)),Y=ve=>{c.push(ve)},re=()=>(r||(r=WM(a,t)),r.findAll(e.getBody(),oe).then(d(ve=>{const ze=Xe(ve,Je=>Tt(Je)?(t_(e,Je),!1):Je.uriType!=="blob");return wm(e)||Te(ze,Je=>{M(Je.image.src,Je.blobInfo.blobUri()),Je.image.src=Je.blobInfo.blobUri(),Je.image.removeAttribute("data-mce-src")}),ze}))),ge=()=>{t.destroy(),a.destroy(),r=o=null},ke=ve=>ve.replace(/src="(blob:[^"]+)"/g,(ze,Je)=>{const gt=a.getResultUri(Je);if(gt)return'src="'+gt+'"';let Ot=t.getByUri(Je);return Ot||(Ot=ao(e.editorManager.get(),(He,Ne)=>He||Ne.editorUpload&&Ne.editorUpload.blobCache.getByUri(Je),void 0)),Ot?'src="data:'+Ot.blob().type+";base64,"+Ot.base64()+'"':ze});return e.on("SetContent",()=>{mr(e)?K():re()}),e.on("RawSaveContent",ve=>{ve.content=ke(ve.content)}),e.on("GetContent",ve=>{ve.source_view||ve.format==="raw"||ve.format==="tree"||(ve.content=ke(ve.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ve=>{Te(ve,ze=>{const Je=ze.attr("src");if(!Je||t.getByUri(Je))return;const gt=a.getResultUri(Je);gt&&ze.attr("src",gt)})})}),{blobCache:t,addFilter:Y,uploadImages:I,uploadImagesAuto:K,scanForImages:re,destroy:ge}},TA=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>It(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{ft.each(d,(g,v)=>{t.setAttrib(a,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ft.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},ZS={remove_similar:!0,inherit:!1},ab={selector:"td,th",...ZS},OA={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...ab},tablecellverticalalign:{styles:{"vertical-align":"%value"},...ab},tablecellbordercolor:{styles:{borderColor:"%value"},...ab},tablecellclass:{classes:["%value"],...ab},tableclass:{selector:"table",classes:["%value"],...ZS},tablecellborderstyle:{styles:{borderStyle:"%value"},...ab},tablecellborderwidth:{styles:{borderWidth:"%value"},...ab}},YM=$e(OA),WS=e=>{const t={},o=d=>Fe(d)?t[d]:t,r=d=>mo(t,d),a=(d,g)=>{d&&(Tt(d)?(ye(g)||(g=[g]),Te(g,v=>{gr(v.deep)&&(v.deep=!Mc(v)),gr(v.split)&&(v.split=!Mc(v)||qa(v)),gr(v.remove)&&Mc(v)&&!qa(v)&&(v.remove="none"),Mc(v)&&qa(v)&&(v.mixed=!0,v.block_expand=!0),Tt(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[d]=g):Fo(d,(v,z)=>{a(z,v)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(TA(e)),a(YM()),a(KN(e)),{get:o,has:r,register:a,unregister:c}},ib=ft.each,rc=fr.DOM,yf=e=>Fe(e)&&ue(e),iv=(e,t)=>{const o=t&&t.schema||zc({}),r=(v,z)=>{z.classes.length>0&&rc.addClass(v,z.classes.join(" ")),rc.setAttribs(v,z.attrs)},a=v=>{const z=Tt(v)?{name:v,classes:[],attrs:{}}:v,M=rc.create(z.name);return r(M,z),M},c=(v,z)=>{const M=o.getElementRule(v.nodeName.toLowerCase()),P=M==null?void 0:M.parentsRequired;return P&&P.length?z&&tn(P,z)?z:P[0]:!1},d=(v,z,M)=>{let P;const I=z[0],K=yf(I)?I.name:void 0,oe=c(v,K);if(oe)K===oe?(P=I,z=z.slice(1)):P=oe;else if(I)P=I,z=z.slice(1);else if(!M)return v;const Y=P?a(P):rc.create("div");Y.appendChild(v),M&&ft.each(M,ge=>{const ke=a(ge);Y.insertBefore(ke,v)});const re=yf(P)?P.siblings:void 0;return d(Y,z,re)},g=rc.create("div");if(e.length>0){const v=e[0],z=a(v),M=yf(v)?v.siblings:void 0;g.appendChild(d(z,e.slice(1),M))}return g},Iy=e=>{e=ft.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,c,d,g)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":ft.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=t||"div",o},AA=e=>Tt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ft.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ft.map(t.split(/(?:~\+|~|\+)/),Iy),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],NA=(e,t)=>{let o="",r=YN(e);if(r==="")return"";const a=I=>Tt(I)?I.replace(/%(\w+)/g,""):"",c=(I,K)=>rc.getStyle(K??e.getBody(),I,!0);if(Tt(t)){const I=e.formatter.get(t);if(!I)return"";t=I[0]}if("preview"in t){const I=t.preview;if(I===!1)return"";r=I||r}let d=t.block||t.inline||"span",g;const v=AA(t.selector);v.length>0?(v[0].name||(v[0].name=d),d=t.selector,g=iv(v,e)):g=iv([d],e);const z=rc.select(d,g)[0]||g.firstChild;ib(t.styles,(I,K)=>{const oe=a(I);oe&&rc.setStyle(z,K,oe)}),ib(t.attributes,(I,K)=>{const oe=a(I);oe&&rc.setAttrib(z,K,oe)}),ib(t.classes,I=>{const K=a(I);rc.hasClass(z,K)||rc.addClass(z,K)}),e.dispatch("PreviewFormats"),rc.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const M=c("fontSize"),P=/px$/.test(M)?parseInt(M,10):0;return ib(r.split(" "),I=>{let K=c(I,z);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(K)&&(K=c(I),Xg(K).toLowerCase()==="#ffffff"))&&!(I==="color"&&Xg(K).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(K)){if(P===0)return;K=parseFloat(K)/(/%$/.test(K)?100:1)*P+"px"}I==="border"&&K&&(o+="padding:0 2px;"),o+=I+":"+K+";"}}),e.dispatch("AfterPreviewFormats"),rc.remove(g),o},qS=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},lv=e=>{const t=WS(e),o=hs({});return qS(e),_T(e),wm(e)||FT(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,a,c)=>{kr(e,r,a,c)},remove:(r,a,c,d)=>{FO(e,r,a,c,d)},toggle:(r,a,c)=>{_S(e,r,a,c)},match:(r,a,c,d)=>pM(e,r,a,c,d),closest:r=>yM(e,r),matchAll:(r,a)=>gM(e,r,a),matchNode:(r,a,c,d)=>hM(e,r,a,c,d),canApply:r=>bM(e,r),formatChanged:(r,a,c,d)=>HO(e,o,r,a,c,d),getCssText:wt(NA,e)}},Sp=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},lb=(e,t,o)=>{const r=hs(!1),a=v=>{Q0(t,!1,o),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const z=v.command;Sp(z)||(gS(t,o),t.beforeChange())}),e.on("ExecCommand",v=>{const z=v.command;Sp(z)||a(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",v=>{const z=v.keyCode;if(v.isDefaultPrevented())return;const M=Mo.os.isMacOS()&&v.key==="Meta";(z>=33&&z<=36||z>=37&&z<=40||z===45||v.ctrlKey||M)&&(a(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),r.get()&&t.typing&&!My(Dy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const z=v.keyCode;if(v.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){t.typing&&a(v);return}const M=v.ctrlKey&&!v.altKey||v.metaKey;if((z<16||z>20)&&z!==224&&z!==91&&!t.typing&&!M){t.beforeChange(),Q0(t,!0,o),t.add({},v),r.set(!0);return}(Mo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&a(v)});const c=v=>v.inputType==="insertReplacementText",d=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||d(v)||g(v))&&a(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},RA=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},DA=e=>{const t=Us(),o=hs(0),r=hs(0),a={data:[],typing:!1,beforeChange:()=>{By(e,o,t)},add:(c,d)=>iM(e,a,r,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=Dy(e);c.bookmark=Nt(e.selection),e.dispatch("change",{level:c,lastLevel:Xs(a.data,r.get()).getOrUndefined()})},undo:()=>lM(e,a,o,r),redo:()=>LO(e,r,a.data),clear:()=>{IO(e,a,r)},reset:()=>{Xk(e,a)},hasUndo:()=>cM(e,a,r),hasRedo:()=>dM(e,a,r),transact:c=>uM(e,a,o,c),ignore:c=>{fM(e,o,c)},extra:(c,d)=>{mM(e,a,r,c,d)}};return wm(e)||lb(e,a,o),RA(e),a},MA=[9,27,Ct.HOME,Ct.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ct.DOWN,Ct.UP,Ct.LEFT,Ct.RIGHT].concat(Mo.browser.isFirefox()?[224]:[]),BA="data-mce-placeholder",PA=e=>e.type==="keydown"||e.type==="keyup",LA=e=>{const t=e.keyCode;return t===Ct.BACKSPACE||t===Ct.DELETE},GS=e=>{if(PA(e)){const t=e.keyCode;return!LA(e)&&(Ct.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||tn(MA,t))}else return!1},IA=e=>PA(e)&&!(LA(e)||e.type==="keyup"&&e.keyCode===229),XM=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},FA=e=>{var t;const o=e.dom,r=Li(e),a=(t=Y_(e))!==null&&t!==void 0?t:"",c=(d,g)=>{if(GS(d))return;const v=e.getBody(),z=IA(d)?!1:XM(o,v,r);(o.getAttrib(v,BA)!==""!==z||g)&&(o.setAttrib(v,BA,z?a:null),b3(e,z),e.on(z?"keydown":"keyup",c),e.off(z?"keyup":"keydown",c))};bn(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Pc.setEditorTimeout(e,()=>c(g)))})},JM=(e,t)=>({block:e,position:t}),KS=(e,t)=>({from:e,to:t}),YS=(e,t)=>{const o=de.fromDom(e),r=de.fromDom(t.container());return M0(o,r).map(a=>JM(a,t))},HA=e=>!(pa(e.to.block,e.from.block)||pa(e.from.block,e.to.block)),XS=e=>!on(e.from.block,e.to.block),JS=(e,t)=>us(t,a=>Oc(a)||zl(a.dom),a=>on(a,e)).filter(Jr).getOr(e),QS=(e,t)=>{const o=de.fromDom(e);return on(JS(o,t.from.block),JS(o,t.to.block))},QM=e=>_o(e.from.block.dom)===!1&&_o(e.to.block.dom)===!1,$A=e=>{const t=o=>ch(o)||Dr(o.dom)||Qf(o);return t(e.from.block)&&t(e.to.block)},eB=(e,t,o,r)=>zr(r.position.getNode())&&!qr(e,r.block)?sy(!1,r.block.dom).bind(a=>a.isEqual(r.position)?rd(o,t,a).bind(c=>YS(t,c)):H.some(r)).getOr(r):r,VA=(e,t,o,r)=>{const a=YS(t,De.fromRangeStart(r)),c=a.bind(d=>rd(o,t,d.position).bind(g=>YS(t,g).map(v=>eB(e,t,o,v))));return ma(a,c,KS).filter(d=>XS(d)&&QS(t,d)&&QM(d)&&$A(d)&&HA(d))},jA=(e,t,o,r)=>r.collapsed?VA(e,t,o,r):H.none(),tB=(e,t)=>{const o=ga(e);return Jn(o,r=>t.isBlock(rn(r))).fold($e(o),r=>o.slice(0,r))},UA=(e,t)=>{const o=tB(e,t);return Te(o,Mn),o},ZA=(e,t,o)=>{const r=Lc(o,t);return En(r.reverse(),a=>qr(e,a)).each(Mn)},oB=(e,t)=>Xe(gc(t),o=>!qr(e,o)).length===0,nB=(e,t,o,r,a)=>{if(qr(r,o))return Ac(o),co(o.dom);oB(r,a)&&qr(r,t)&&Nr(a,de.fromTag("br"));const c=Dc(o.dom,De.before(a.dom));return Te(UA(t,r),d=>{Nr(a,d)}),ZA(r,e,t),c},cb=(e,t)=>e.isInline(rn(t)),WA=(e,t,o,r)=>{if(qr(r,o)){if(qr(r,t)){const d=Wt((g=>{const v=(z,M)=>Ri(z).fold(()=>M,P=>cb(r,P)?v(P,M.concat(ys(P))):M);return v(g,[])})(o),(g,v)=>(vi(g,v),v),xu());ir(t),ts(t,d)}return Mn(o),co(t.dom)}const a=Pd(o.dom);return Te(UA(t,r),c=>{ts(o,c)}),ZA(r,e,t),a},qA=(e,t)=>{const o=Lc(t,e);return H.from(o[o.length-1])},GA=(e,t)=>pa(t,e)?qA(t,e):H.none(),KA=(e,t)=>{sy(e,t.dom).bind(o=>H.from(o.getNode())).map(de.fromDom).filter(Md).each(Mn)},YA=(e,t,o,r)=>(KA(!0,t),KA(!1,o),GA(t,o).fold(wt(WA,e,t,o,r),wt(nB,e,t,o,r))),Ep=(e,t,o,r,a)=>t?YA(e,r,o,a):YA(e,o,r,a),n_=(e,t)=>{const o=de.fromDom(e.getBody());return jA(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{Ep(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},r_=(e,t,o)=>{const r=t.getRng();return ma(M0(e,de.fromDom(r.startContainer)),M0(e,de.fromDom(r.endContainer)),(a,c)=>on(a,c)?H.none():H.some(()=>{r.deleteContents(),Ep(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(H.none())},XA=(e,t)=>{const o=de.fromDom(t),r=wt(on,e);return oi(o,Oc,r).isSome()},JA=(e,t)=>XA(e,t.startContainer)||XA(e,t.endContainer),rB=(e,t)=>{const o=Dc(e.dom,De.fromRangeStart(t)).isNone(),r=Nl(e.dom,De.fromRangeEnd(t)).isNone();return!JA(e,t)&&o&&r},sB=e=>H.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),e4=e=>{const t=de.fromDom(e.getBody()),o=e.selection.getRng();return rB(t,o)?sB(e):r_(t,e.selection,e.schema)},t4=(e,t)=>e.selection.isCollapsed()?H.none():e4(e),rs=(e,t,o,r,a)=>H.from(t._selectionOverrides.showCaret(e,o,r,a)),aB=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},cv=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some(aB(t)),o4=(e,t,o)=>{const r=mw(1,e.getBody(),t),a=De.fromRangeStart(r),c=a.getNode();if($1(c))return rs(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if($1(d))return rs(1,e,d,!1,!1);const g=Ud(e.dom.getRoot(),a.getNode());return $1(g)?rs(1,e,g,!1,o):H.none()},s_=(e,t,o)=>t.collapsed?o4(e,t,o).getOr(t):t,n4=e=>va(e)||Uh(e),iB=e=>hf(e)||vy(e),lB=(e,t)=>{it(t)&&t.data.length===0&&e.remove(t)},QA=(e,t,o,r,a,c)=>{rs(r,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(d.startContainer,d.startOffset):g.setStart(d.endContainer,d.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),lB(e.dom,o)},cB=(e,t)=>{const o=e.selection.getRng();if(!it(o.commonAncestorContainer))return H.none();const r=t?wi.Forwards:wi.Backwards,a=no(e.getBody()),c=wt(pw,t?a.next:a.prev),d=t?n4:iB,g=W1(r,e.getBody(),o),v=c(g),z=v&&jd(t,v);if(!z||!ix(g,z))return H.none();if(d(z))return H.some(()=>QA(e,o,g.getNode(),r,t,z));const M=c(z);return M&&d(M)&&ix(z,M)?H.some(()=>QA(e,o,g.getNode(),r,t,M)):H.none()},r4=(e,t)=>cB(e,t),s4=(e,t)=>{const o=e.getBody();return t?co(o).filter(va):Pd(o).filter(hf)},a4=e=>{const t=e.selection.getRng();return!t.collapsed&&(s4(e,!0).exists(o=>o.isEqual(De.fromRangeStart(t)))||s4(e,!1).exists(o=>o.isEqual(De.fromRangeEnd(t))))},Fy=e=>Fe(e)&&(Oc(de.fromDom(e))||Qf(de.fromDom(e))),Ra=ln.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dB=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return It(o)&&o.getAttribute("data-mce-caret")===r},uB=(e,t,o,r,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!im(o,r,e);return BE(!t,o).fold(()=>BE(t,r).fold(hn,c),c)},e5=(e,t,o,r,a)=>{const c=a.getNode(!o);return M0(de.fromDom(t),de.fromDom(r.getNode())).map(d=>qr(e,d)?Ra.remove(d.dom):Ra.moveToElement(c)).orThunk(()=>H.some(Ra.moveToElement(c)))},t5=(e,t,o,r)=>rd(t,e,o).bind(a=>Fy(a.getNode())||uB(e,t,o,a,r)?H.none():t&&_o(a.getNode())||!t&&_o(a.getNode(!0))?e5(r,e,t,o,a):t&&hf(o)||!t&&va(o)?H.some(Ra.moveToPosition(a)):H.none()),fB=(e,t)=>Lo(t)?H.none():e&&_o(t.nextSibling)?H.some(Ra.moveToElement(t.nextSibling)):!e&&_o(t.previousSibling)?H.some(Ra.moveToElement(t.previousSibling)):H.none(),mB=(e,t,o)=>o.fold(r=>H.some(Ra.remove(r)),r=>H.some(Ra.moveToElement(r)),r=>im(t,r,e)?H.none():H.some(Ra.moveToPosition(r))),pB=(e,t,o,r)=>dB(t,o)?fB(t,o.getNode(!t)).orThunk(()=>t5(e,t,o,r)):t5(e,t,o,r).bind(a=>mB(e,o,a)),gB=(e,t,o,r)=>{const a=mw(t?1:-1,e,o),c=De.fromRangeStart(a),d=de.fromDom(e);return!t&&hf(c)?H.some(Ra.remove(c.getNode(!0))):t&&va(c)?H.some(Ra.remove(c.getNode())):!t&&va(c)&&Wh(d,c,r)?qx(d,c,r).map(g=>Ra.remove(g.getNode())):t&&hf(c)&&O0(d,c,r)?Cz(d,c,r).map(g=>Ra.remove(g.getNode())):pB(e,t,c,r)},hB=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Qi(e,t,de.fromDom(o)),!0),bB=(e,t)=>o=>{const r=t?De.before(o):De.after(o);return e.selection.setRng(r.toRange()),!0},yB=e=>t=>(e.selection.setRng(t.toRange()),!0),o5=(e,t)=>H.from(Ud(e.getBody(),t)),vB=(e,t)=>{const o=e.selection.getNode();return o5(e,o).filter(_o).fold(()=>gB(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(hB(e,t),bB(e,t),yB(e))),()=>H.some(Qe))},xB=e=>{Te(Cs(e,".mce-offscreen-selection"),Mn)},kB=(e,t)=>{const o=e.selection.getNode();return _o(o)&&!Uu(o)?o5(e,o.parentNode).filter(_o).fold(()=>H.some(()=>{xB(de.fromDom(e.getBody())),Qi(e,t,de.fromDom(e.selection.getNode())),Jx(e)}),()=>H.some(Qe)):a4(e)?H.some(()=>{Qx(e,e.selection.getRng(),de.fromDom(e.getBody()))}):H.none()},n5=e=>{const t=e.dom,o=e.selection,r=Ud(e.getBody(),o.getNode());if(zl(r)&&t.isBlock(r)&&t.isEmpty(r)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),o.setRng(De.before(a).toRange())}return!0},i4=(e,t)=>e.selection.isCollapsed()?vB(e,t):kB(e,t),r5=e=>e.hasOwnProperty("text"),s5=e=>e.hasOwnProperty("marker"),a5=(e,t)=>{const o=(c,d)=>{if(it(c))return{text:c,offset:d};{const g=t(),v=c.childNodes;return d<v.length?(c.insertBefore(g,v[d]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},r=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:r}},i5=e=>{var t,o;const{start:r,end:a}=e,c=new window.Range;return r5(r)?c.setStart(r.text,r.offset):s5(r)&&(r.before?c.setStartBefore(r.marker):c.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),r5(a)?c.setEnd(a.text,a.offset):s5(a)&&(a.before?c.setEndBefore(a.marker):c.setEndAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),c},l4=(e,t)=>{var o;const r=e.dom,a=r.getParent(e.selection.getStart(),r.isBlock),c=r.getParent(e.selection.getEnd(),r.isBlock),d=e.getBody();if(((o=a==null?void 0:a.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&c&&a===d.firstChild&&c===d.lastChild&&!r.isEmpty(d)){const v=a.cloneNode(!1),z=()=>{if(t?N2(e):Xx(e),d.firstChild!==a){const M=a5(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(P=>v.appendChild(P)),d.appendChild(v),e.selection.setRng(i5(M))}};return H.some(z)}return H.none()},_B=(e,t)=>{const o=De.fromRangeStart(e.selection.getRng());return rd(t,e.getBody(),o).filter(r=>t?yz(r):vz(r)).bind(r=>sx(t?0:-1,r)).map(r=>()=>e.selection.select(r))},c4=(e,t)=>e.selection.isCollapsed()?_B(e,t):H.none(),Hy=it,l5=e=>Hy(e)&&e.data[0]===na,c5=e=>Hy(e)&&e.data[e.data.length-1]===na,d5=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(na)},wB=e=>{var t;if(Hy(e.previousSibling))return c5(e.previousSibling)||e.previousSibling.appendData(na),e.previousSibling;if(Hy(e))return l5(e)||e.insertData(0,na),e;{const o=d5(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},CB=e=>{var t,o;if(Hy(e.nextSibling))return l5(e.nextSibling)||e.nextSibling.insertData(0,na),e.nextSibling;if(Hy(e))return c5(e)||e.appendData(na),e;{const r=d5(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},a_=(e,t)=>e?wB(t):CB(t),u5=wt(a_,!0),SB=wt(a_,!1),f5=(e,t)=>it(e.container())?a_(t,e.container()):a_(t,e.getNode()),m5=(e,t)=>{const o=t.get();return o&&e.container()===o&&em(o)},d4=(e,t)=>t.fold(o=>{og(e.get());const r=u5(o);return e.set(r),H.some(De(r,r.length-1))},o=>co(o).map(r=>{if(m5(r,e)){const a=e.get();return De(a,1)}else{og(e.get());const a=f5(r,!0);return e.set(a),De(a,1)}}),o=>Pd(o).map(r=>{if(m5(r,e)){const a=e.get();return De(a,a.length-1)}else{og(e.get());const a=f5(r,!1);return e.set(a),De(a,a.length-1)}}),o=>{og(e.get());const r=SB(o);return e.set(r),H.some(De(r,1))}),p5=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return H.none()},Dl=ln.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),g5=(e,t)=>{const o=ng(t,e);return o||e},EB=(e,t,o)=>{const r=jz(o),a=g5(t,r.container());return bg(e,a,r).fold(()=>Nl(a,r).bind(wt(bg,e,a)).map(c=>Dl.before(c)),H.none)},h5=(e,t)=>rg(e,t)===null,b5=(e,t,o)=>bg(e,t,o).filter(wt(h5,t)),zB=(e,t,o)=>{const r=Cy(o);return b5(e,t,r).bind(a=>Dc(a,r).isNone()?H.some(Dl.start(a)):H.none())},TB=(e,t,o)=>{const r=jz(o);return b5(e,t,r).bind(a=>Nl(a,r).isNone()?H.some(Dl.end(a)):H.none())},OB=(e,t,o)=>{const r=Cy(o),a=g5(t,r.container());return bg(e,a,r).fold(()=>Dc(a,r).bind(wt(bg,e,a)).map(c=>Dl.after(c)),H.none)},y5=e=>!R0(u4(e)),Cm=(e,t,o)=>p5([EB,zB,TB,OB],[e,t,o]).filter(y5),u4=e=>e.fold(Oo,Oo,Oo,Oo),v5=e=>e.fold($e("before"),$e("start"),$e("end"),$e("after")),dv=e=>e.fold(Dl.before,Dl.before,Dl.after,Dl.after),i_=e=>e.fold(Dl.start,Dl.start,Dl.end,Dl.end),AB=(e,t)=>v5(e)===v5(t)&&u4(e)===u4(t),x5=(e,t,o,r,a,c)=>ma(bg(t,o,r),bg(t,o,a),(d,g)=>d!==g&&Vz(o,d,g)?Dl.after(e?d:g):c).getOr(c),NB=(e,t)=>e.fold(wo,o=>!AB(o,t)),RB=(e,t,o,r,a)=>{const c=jd(e,a);return rd(e,o,c).map(wt(jd,e)).fold(()=>r.map(dv),v=>Cm(t,o,v).map(wt(x5,e,t,o,c,v)).filter(wt(NB,r))).filter(y5)},DB=(e,t)=>e?t.fold(Ft(H.some,Dl.start),H.none,Ft(H.some,Dl.after),H.none):t.fold(H.none,Ft(H.some,Dl.before),H.none,Ft(H.some,Dl.end)),MB=(e,t,o,r)=>{const a=jd(e,r),c=Cm(t,o,a);return Cm(t,o,a).bind(wt(DB,e)).orThunk(()=>RB(e,t,o,c,r))},BB=e=>Pt(e.selection.getSel().modify),k5=(e,t,o)=>{const r=e?1:-1;return t.setRng(De(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},f4=(e,t)=>{const o=t.selection.getRng(),r=e?De.fromRangeEnd(o):De.fromRangeStart(o);return BB(t)?e&&fh(r)?k5(!0,t.selection,r):!e&&Vb(r)?k5(!1,t.selection,r):!1:!1};var Ru;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ru||(Ru={}));const l_=(e,t)=>e===wi.Backwards?Ys(t):t,_5=(e,t,o)=>e===wi.Forwards?t.next(o):t.prev(o),PB=(e,t,o,r)=>zr(r.getNode(t===wi.Forwards))?Ru.Br:im(o,r)===!1?Ru.Block:Ru.Wrap,w5=(e,t,o,r)=>{const a=no(o);let c=r;const d=[];for(;c;){const g=_5(t,a,c);if(!g)break;if(zr(g.getNode(!1)))return t===wi.Forwards?{positions:l_(t,d).concat([g]),breakType:Ru.Br,breakAt:H.some(g)}:{positions:l_(t,d),breakType:Ru.Br,breakAt:H.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=PB(o,t,c,g);return{positions:l_(t,d),breakType:v,breakAt:H.some(g)}}d.push(g),c=g}return{positions:l_(t,d),breakType:Ru.Eol,breakAt:H.none()}},C5=(e,t,o,r)=>t(o,r).breakAt.map(a=>{const c=t(o,a).positions;return e===wi.Backwards?c.concat(a):[a].concat(c)}).getOr([]),m4=(e,t)=>ao(e,(o,r)=>o.fold(()=>H.some(r),a=>ma(ct(a.getClientRects()),ct(r.getClientRects()),(c,d)=>{const g=Math.abs(t-c.left);return Math.abs(t-d.left)<=g?r:a}).or(o)),H.none()),c_=(e,t)=>ct(t.getClientRects()).bind(o=>m4(e,o.left)),uv=wt(w5,De.isAbove,-1),fv=wt(w5,De.isBelow,1),S5=wt(C5,-1,uv),d_=wt(C5,1,fv),E5=(e,t)=>uv(e,t).breakAt.isNone(),z5=(e,t)=>fv(e,t).breakAt.isNone(),LB=e=>co(e).map(t=>[t].concat(fv(e,t).positions)).getOr([]),T5=e=>Pd(e).map(t=>uv(e,t).positions.concat(t)).getOr([]),db=(e,t)=>c_(S5(e,t),t),IB=(e,t)=>c_(d_(e,t),t),FB=_o,O5=(e,t)=>Math.abs(e.left-t),sc=(e,t)=>Math.abs(e.right-t),A5=e=>Ba(e,"node"),N5=(e,t)=>pi(e,(o,r)=>{const a=Math.min(O5(o,t),sc(o,t)),c=Math.min(O5(r,t),sc(r,t));return c===a&&A5(r)&&FB(r.node)||c<a?r:o}),HB=e=>{const t=o=>Ko(o,r=>{const a=ef(r);return a.node=e,a});if(It(e))return t(e.getClientRects());if(it(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},R5=e=>Tn(e,HB);var mv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(mv||(mv={}));const $B=(e,t,o,r)=>{let a=r;for(;a=j1(a,e,yh,t);)if(o(a))return},p4=(e,t,o,r,a,c)=>{let d=0;const g=[],v=P=>{let I=R5([P]);e===-1&&(I=I.reverse());for(let K=0;K<I.length;K++){const oe=I[K];if(!o(oe,z)){if(g.length>0&&t(oe,ca(g))&&d++,oe.line=d,a(oe))return!0;g.push(oe)}}return!1},z=ca(c.getClientRects());if(!z)return g;const M=c.getNode();return M&&(v(M),$B(e,r,v,M)),g},VB=(e,t)=>t.line>e,jB=(e,t)=>t.line===e,UB=wt(p4,mv.Up,nf,ip),ZB=wt(p4,mv.Down,ip,nf),D5=e=>ca(e.getClientRects()),$y=(e,t,o,r)=>{const a=no(t);let c,d,g,v;const z=[];let M=0;e===1?(c=a.next,d=ip,g=nf,v=De.after(r)):(c=a.prev,d=nf,g=ip,v=De.before(r));const P=D5(v);do{if(!v.isVisible())continue;const I=D5(v);if(g(I,P))continue;z.length>0&&d(I,ca(z))&&M++;const K=ef(I);if(K.position=v,K.line=M,o(K))return z;z.push(K)}while(v=c(v));return z},g4=e=>t=>VB(e,t),Vy=e=>t=>jB(e,t),vf=(e,t)=>{e.selection.setRng(t),Fd(e,e.selection.getRng())},u_=(e,t,o)=>H.some(s_(e,t,o)),h4=(e,t,o,r,a,c)=>{const d=t===wi.Forwards,g=no(e.getBody()),v=wt(pw,d?g.next:g.prev),z=d?r:a;if(!o.collapsed){const oe=Xp(o);if(c(oe))return rs(t,e,oe,t===wi.Backwards,!1);if(a4(e)){const Y=o.cloneRange();return Y.collapse(t===wi.Backwards),H.from(Y)}}const M=W1(t,e.getBody(),o);if(z(M))return cv(e,M.getNode(!d));let P=v(M);const I=ap(o);if(P)P=jd(d,P);else return I?H.some(o):H.none();if(z(P))return rs(t,e,P.getNode(!d),d,!1);const K=v(P);return K&&z(K)&&ix(P,K)?rs(t,e,K.getNode(!d),d,!1):I?u_(e,P.toRange(),!1):H.none()},M5=(e,t,o,r,a,c)=>{const d=W1(t,e.getBody(),o),g=ca(d.getClientRects()),v=t===mv.Down,z=e.getBody();if(!g)return H.none();if(a4(e)){const re=v?De.fromRangeEnd(o):De.fromRangeStart(o);return(v?IB:db)(z,re).orThunk(()=>H.from(re)).map(ke=>ke.toRange())}const P=(v?ZB:UB)(z,g4(1),d),I=Xe(P,Vy(1)),K=g.left,oe=N5(I,K);if(oe&&c(oe.node)){const re=Math.abs(K-oe.left),ge=Math.abs(K-oe.right);return rs(t,e,oe.node,re<ge,!1)}let Y;if(r(d)?Y=d.getNode():a(d)?Y=d.getNode(!0):Y=Xp(o),Y){const re=$y(t,z,g4(1),Y);let ge=N5(Xe(re,Vy(1)),K);if(ge||(ge=ca(Xe(re,Vy(0))),ge))return u_(e,ge.position.toRange(),!1)}return I.length===0?f_(e,v).filter(v?a:r).map(re=>s_(e,re.toRange(),!1)):H.none()},f_=(e,t)=>{const o=e.selection.getRng(),r=t?De.fromRangeEnd(o):De.fromRangeStart(o),a=bR(r.container(),e.getBody());if(t){const c=fv(a,r);return Co(c.positions)}else{const c=uv(a,r);return ct(c.positions)}},B5=(e,t,o)=>f_(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),pv=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},b4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},y4=(e,t,o)=>d4(t,o).map(r=>(pv(e,r),o)),P5=(e,t,o)=>{const r=De.fromRangeStart(e);if(e.collapsed)return r;{const a=De.fromRangeEnd(e);return o?Dc(t,a).getOr(a):Nl(t,r).getOr(r)}},L5=(e,t,o)=>{const r=e.getBody(),a=P5(e.selection.getRng(),r,o),c=wt(Gh,e);return MB(o,c,r,a).bind(g=>y4(e,t,g))},I5=(e,t,o)=>{const r=Ko(Cs(de.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=Xe(r,e),c=Xe(o,e);Te(Fn(a,c),wt(b4,!1)),Te(Fn(c,a),wt(b4,!0))},v4=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=De.fromRangeStart(e.selection.getRng());De.isTextPosition(r)&&!O2(r)&&(pv(e,pR(o,r)),t.set(null))}},F5=(e,t,o,r)=>{if(t.selection.isCollapsed()){const a=Xe(r,e);Te(a,c=>{const d=De.fromRangeStart(t.selection.getRng());Cm(e,t.getBody(),d).bind(g=>y4(t,o,g))})}},x4=(e,t,o)=>oy(e)?L5(e,t,o).isSome():!1,k4=(e,t,o)=>oy(t)?f4(e,t):!1,H5=e=>{const t=hs(null),o=wt(Gh,e);return e.on("NodeChange",r=>{oy(e)&&(I5(o,e.dom,r.parents),v4(e,t),F5(o,e,t,r.parents))}),t},$5=wt(k4,!0),V5=wt(k4,!1),gv=(e,t,o)=>{if(oy(e)){const r=f_(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?De.fromRangeEnd(a):De.fromRangeStart(a)});return Cm(wt(Gh,e),e.getBody(),r).exists(a=>{const c=dv(a);return d4(o,c).exists(d=>(pv(e,d),!0))})}else return!1},_4=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},w4=e=>ma(co(e),Pd(e),(t,o)=>{const r=jd(!0,t),a=jd(!1,o);return Nl(e,r).forall(c=>c.isEqual(a))}).getOr(!0),hv=(e,t)=>o=>d4(t,o).map(r=>()=>pv(e,r)),C4=(e,t,o,r)=>{const a=e.getBody(),c=wt(Gh,e);e.undoManager.ignore(()=>{e.selection.setRng(_4(o,r)),Xx(e),Cm(c,a,De.fromRangeStart(e.selection.getRng())).map(i_).bind(hv(e,t)).each(gn)}),e.nodeChanged()},j5=(e,t)=>{const o=ng(t,e);return o||e},U5=(e,t,o,r)=>{const a=j5(e.getBody(),r.container()),c=wt(Gh,e),d=Cm(c,a,r);return d.bind(v=>o?v.fold($e(H.some(i_(v))),H.none,$e(H.some(dv(v))),H.none):v.fold(H.none,$e(H.some(dv(v))),H.none,$e(H.some(i_(v))))).map(hv(e,t)).getOrThunk(()=>{const v=Nh(o,a,r),z=v.bind(M=>Cm(c,a,M));return ma(d,z,()=>bg(c,a,r).bind(M=>w4(M)?H.some(()=>{Qi(e,o,de.fromDom(M))}):H.none())).getOrThunk(()=>z.bind(()=>v.map(M=>()=>{o?C4(e,t,r,M):C4(e,t,M,r)})))})},bv=(e,t,o)=>{if(e.selection.isCollapsed()&&oy(e)){const r=De.fromRangeStart(e.selection.getRng());return U5(e,t,o,r)}return H.none()},Z5=e=>Zc(e)>1,S4=(e,t)=>{const o=de.fromDom(e.getBody()),r=de.fromDom(e.selection.getStart()),a=Lc(r,o);return Jn(a,t).fold($e(a),c=>a.slice(0,c))},W5=e=>Zc(e)===1,WB=e=>S4(e,t=>e.schema.isBlock(rn(t))||Z5(t)),q5=e=>S4(e,t=>e.schema.isBlock(rn(t))),E4=(e,t)=>{const o=wt(zy,e);return Tn(t,r=>o(r)?[r.dom]:[])},yv=e=>{const t=q5(e);return E4(e,t)},G5=(e,t,o,r)=>{const a=E4(t,r);if(a.length===0)Qi(t,e,o);else{const c=mC(o.dom,a);t.selection.setRng(c.toRange())}},K5=(e,t)=>{const o=Xe(WB(e),W5);return Co(o).bind(r=>{const a=De.fromRangeStart(e.selection.getRng());return Wz(t,a,r.dom)&&!bx(r)?H.some(()=>G5(t,e,r,o)):H.none()})},z4=(e,t)=>{const o=t.parentElement;return zr(t)&&!ht(o)&&e.dom.isEmpty(o)},qB=e=>bx(de.fromDom(e)),T4=(e,t)=>{const o=e.selection.getStart(),r=z4(e,o)||qB(o)?mC(o,t):t6(e.selection.getRng(),t);e.selection.setRng(r.toRange())},GB=(e,t)=>{const o=Fn(t,yv(e));o.length>0&&T4(e,o)},O4=e=>it(e.startContainer),Y5=e=>e.startOffset===0&&O4(e),KB=(e,t)=>{const o=t.startContainer.parentElement;return!ht(o)&&zy(e,de.fromDom(o))},YB=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ht(t)&&!ht(o)&&t.isEqualNode(o)},n=e=>{const t=e.endContainer;return e.endOffset===(it(t)?t.length:t.childNodes.length)},s=e=>YB(e)&&n(e),i=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),l=e=>s(e)||i(e),u=e=>{const t=e.selection.getRng();return Y5(t)&&KB(e,t)&&l(t)},f=e=>{if(u(e)){const t=yv(e);return H.some(()=>{Xx(e),GB(e,t)})}else return H.none()},p=(e,t)=>e.selection.isCollapsed()?K5(e,t):f(e),b=(e,t)=>Vg(e,o=>sd(o.dom),o=>t.isBlock(rn(o))),y=e=>b(de.fromDom(e.selection.getStart()),e.schema),_=e=>{const t=e.selection.getRng();return t.collapsed&&(O4(t)||e.dom.isEmpty(t.startContainer))&&!y(e)},E=e=>(_(e)&&T4(e,[]),!0),C=(e,t,o)=>Fe(o)?H.some(()=>{e._selectionOverrides.hideFakeCaret(),Qi(e,t,de.fromDom(o))}):H.none(),A=(e,t)=>{const o=t?Uh:vy,r=t?wi.Forwards:wi.Backwards,a=W1(r,e.getBody(),e.selection.getRng());return o(a)?C(e,t,a.getNode(!t)):H.from(jd(t,a)).filter(c=>o(c)&&ix(a,c)).bind(c=>C(e,t,c.getNode(!t)))},B=(e,t)=>{const o=e.selection.getNode();return Le(o)?C(e,t,o):H.none()},L=(e,t)=>e.selection.isCollapsed()?A(e,t):B(e,t),U=e=>us(e,t=>zl(t.dom)||_o(t.dom)).exists(t=>zl(t.dom)),q=e=>Ns(e??"").getOr(0),ee=(e,t)=>{const o=e||lh(t)?"margin":"padding",r=es(t,"direction")==="rtl"?"-right":"-left";return o+r},W=(e,t,o,r,a,c)=>{const d=ee(o,de.fromDom(c)),g=q(e.getStyle(c,d));if(t==="outdent"){const v=Math.max(0,g-r);e.setStyle(c,d,v?v+a:"")}else{const v=g+r+a;e.setStyle(c,d,v)}},Z=(e,t)=>Yr(t,o=>{const r=ee(tE(e),o),a=Ar(o,r).map(q).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),X=e=>{const t=pe(e);return!e.mode.isReadOnly()&&(t.length>1||Z(e,t))},te=e=>dh(e)||Qf(e),ne=e=>Qs(e).exists(te),pe=e=>Xe(ri(e.selection.getSelectedBlocks()),t=>!te(t)&&!ne(t)&&U(t)),_e=(e,t)=>{var o,r;const{dom:a}=e,c=nd(e),d=(r=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",g=q(c),v=tE(e);Te(pe(e),z=>{W(a,t,v,g,d,z.dom)})},je=e=>_e(e,"indent"),Ie=e=>_e(e,"outdent"),Me=e=>{if(e.selection.isCollapsed()&&X(e)){const t=e.dom,o=e.selection.getRng(),r=De.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&Wx(de.fromDom(a),r,e.schema))return H.some(()=>Ie(e))}return H.none()},lt=(e,t,o)=>Hs([Me,i4,r4,(r,a)=>bv(r,t,a),n_,xp,c4,L,t4,p,l4],r=>r(e,o)).filter(r=>e.selection.isEditable()),Et=(e,t)=>{lt(e,t,!1).fold(()=>{e.selection.isEditable()&&(Xx(e),Jx(e))},gn)},$t=(e,t)=>{lt(e,t,!0).fold(()=>{e.selection.isEditable()&&N2(e)},gn)},Xt=(e,t)=>{e.addCommand("delete",()=>{Et(e,t)}),e.addCommand("forwardDelete",()=>{$t(e,t)})},xo=5,Qo=400,_r=e=>e.touches===void 0||e.touches.length!==1?H.none():H.some(e.touches[0]),Lr=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>xo||r>xo},Io=e=>{const t=Us(),o=hs(!1),r=qp(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},Qo);e.on("touchstart",a=>{_r(a).each(c=>{r.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};r.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{r.cancel(),_r(a).each(c=>{t.on(d=>{Lr(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},fn=(e,t)=>mo(e,t.nodeName),oo=(e,t)=>it(t)?!0:It(t)?!fn(e.getBlockElements(),t)&&!ad(t)&&!Cc(e,t)&&!Zs(t):!1,Ir=(e,t,o)=>Sn(tc(de.fromDom(o),de.fromDom(t)),r=>fn(e,r.dom)),Kn=(e,t)=>{if(it(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||fn(e,t.nextSibling)||Zs(t.nextSibling)}return!1},Si=e=>e.dom.create(Li(e),M1(e)),Ei=e=>{const t=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),c=o.getStart(),d=e.getBody();let g,v,z=null;const M=Li(e);if(!c||!It(c))return;const P=d.nodeName.toLowerCase();if(!r.isValidChild(P,M.toLowerCase())||Ir(a,d,c))return;if(d.firstChild===d.lastChild&&zr(d.firstChild)){g=Si(e),g.appendChild(xu().dom),d.replaceChild(g,d.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let I=d.firstChild;for(;I;)if(It(I)&&Bn(r,I),oo(r,I)){if(Kn(a,I)){v=I,I=I.nextSibling,t.remove(v);continue}if(!g){if(!z&&e.hasFocus()&&(z=a5(e.selection.getRng(),()=>document.createElement("span"))),!I.parentNode){I=null;break}g=Si(e),d.insertBefore(g,I)}v=I,I=I.nextSibling,g.appendChild(v)}else g=null,I=I.nextSibling;z&&(e.selection.setRng(i5(z)),e.nodeChanged())},Da=(e,t,o)=>{const r=de.fromDom(Si(e)),a=xu();ts(r,a),o(t,r);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},xa=e=>{e.on("NodeChange",()=>Ei(e))},zp=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,jy=(e,t,o)=>function(r){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return r;if(d===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},Rg=(e,t,o)=>{let r=t.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(t[r],jy(e,a,zh(e)));o.content=a}},Tp=(e,t)=>Yr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),vv=e=>{const t="contenteditable",o=" "+ft.trim(iR(e))+" ",r=" "+ft.trim(zh(e))+" ",a=zp(o),c=zp(r),d=gE(e);d.length>0&&e.on("BeforeSetContent",g=>{Rg(e,d,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const z=g[v];a(z)?z.attr(t,"true"):c(z)&&z.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const z=g[v];if(!a(z)&&!c(z))continue;const M=z.attr("data-mce-content");d.length>0&&M?Tp(d,M)?(z.name="#text",z.type=3,z.raw=!0,z.value=M):z.remove():z.attr(t,null)}})},Dg=e=>Ue(de.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Sm=(e,t)=>{t.hasAttribute("data-mce-caret")&&(sp(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ub=(e,t)=>{const o=Dg(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Sm(e,o);return}Hb(o)&&(Sm(e,o),e.undoManager.add())}},fb=e=>{e.on("keyup compositionstart",wt(ub,e))},Uy=_o,m_=(e,t,o)=>h4(t,e,o,va,hf,Uy),xv=(e,t,o)=>M5(t,e,o,c=>va(c)||xz(c),c=>hf(c)||xy(c),Uy),Mg=e=>{const t=e.dom.create(Li(e));return t.innerHTML='<br data-mce-bogus="1">',t},Em=(e,t,o)=>{const r=no(e.getBody()),a=wt(pw,t===1?r.next:r.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(De.fromRangeStart(o))){const g=de.fromDom(Mg(e));t===1?we(de.fromDom(c),g):Nr(de.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Op=(e,t)=>{const o=t?wi.Forwards:wi.Backwards,r=e.selection.getRng();return m_(o,e,r).orThunk(()=>(Em(e,o,r),H.none()))},kv=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return xv(o,e,r).orThunk(()=>(Em(e,o,r),H.none()))},_v=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return R0(o)?!t:t},An=(e,t)=>Op(e,_v(e.selection,t)).exists(o=>(vf(e,o),!0)),zm=(e,t)=>kv(e,t).exists(o=>(vf(e,o),!0)),Du=(e,t)=>B5(e,t,t?hf:va),mb=(e,t)=>s4(e,!t).map(o=>{const r=o.toRange(),a=e.selection.getRng();return t?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(vf(e,o),!0)),p_=e=>tn(["figcaption"],rn(e)),Ap=(e,t,o)=>{const r=wt(on,t);return us(de.fromDom(e.container()),a=>o.isBlock(rn(a)),r).filter(p_)},Zy=(e,t,o)=>t?z5(e.dom,o):E5(e.dom,o),A4=(e,t)=>{const o=de.fromDom(e.getBody()),r=De.fromRangeStart(e.selection.getRng());return Ap(r,o,e.schema).exists(()=>{if(Zy(o,t,r)){const c=Da(e,o,t?ts:$a);return e.selection.setRng(c),!0}else return!1})},g_=(e,t)=>e.selection.isCollapsed()?A4(e,t):!1,XB=(e,t,o)=>{const r=e.selection.getRng(),a=De.fromRangeStart(r);return e.getBody().firstChild===t&&E5(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Wy=(e,t)=>{const o=e.selection.getRng(),r=De.fromRangeStart(o);return e.getBody().lastChild===t&&z5(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},JB=(e,t)=>t?H.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Wy(e,o)).getOr(!1):H.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>H.from(e.dom.getParent(o,"details")).map(r=>XB(e,r,o))).getOr(!1),tl=(e,t)=>JB(e,t),pb={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},QB=e=>Ko(e,t=>({...pb,...t})),X5=e=>Ko(e,t=>({...pb,...t})),h_=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,J5=(e,t)=>Tn(QB(e),o=>h_(o,t)?[o]:[]),Q5=(e,t)=>Tn(X5(e),o=>h_(o,t)?[o]:[]),So=(e,...t)=>()=>e.apply(null,t),Bg=(e,t)=>En(J5(e,t),o=>o.action()),b_=(e,t)=>Hs(Q5(e,t),o=>o.action()),Pg=(e,t)=>{const o=t?wi.Forwards:wi.Backwards,r=e.selection.getRng();return h4(e,o,r,Uh,vy,Le).exists(a=>(vf(e,a),!0))},qy=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return M5(e,o,r,Uh,vy,Le).exists(a=>(vf(e,a),!0))},N4=(e,t)=>B5(e,t,t?vy:Uh),R4=ln.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Kd={...R4,none:e=>R4.none(e)},eN=(e,t)=>M4(e,t,wo),M4=(e,t,o)=>Tn(ga(e),r=>Un(r,t)?o(r)?[r]:[]:M4(r,t,o)),tN=(e,t,o=hn)=>{if(o(t))return H.none();if(tn(e,rn(t)))return H.some(t);const r=a=>Un(a,"table")||o(a);return xl(t,e.join(","),r)},oN=(e,t)=>tN(["td","th"],e,t),e7=e=>eN(e,"th,td"),Oe=(e,t)=>js(e,"table",t),Jt=(e,t,o,r,a=wo)=>{const c=r===1;if(!c&&o<=0)return Kd.first(e[0]);if(c&&o>=e.length-1)return Kd.last(e[e.length-1]);{const d=o+r,g=e[d];return a(g)?Kd.middle(t,g):Jt(e,t,d,r,a)}},zo=(e,t)=>Oe(e,t).bind(o=>{const r=e7(o);return Jn(r,c=>on(e,c)).map(c=>({index:c,all:r}))}),wr=(e,t,o)=>zo(e,o).fold(()=>Kd.none(e),a=>Jt(a.all,e,a.index,1,t)),vs=(e,t,o)=>zo(e,o).fold(()=>Kd.none(),a=>Jt(a.all,e,a.index,-1,t)),Bs=e=>Fv(e).filter(t=>t.trim().length!==0||t.indexOf(oa)>-1).isSome(),Ts=e=>ti(e)&&za(e,"contenteditable")==="false",sa=["img","br"],Gy=e=>Bs(e)||tn(sa,rn(e))||Ts(e),t7=e=>ta(e,Gy),nN=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),n8=(e,t)=>Tn(t,o=>{const r=nN(ef(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),nI=(e,t,o)=>ao(e,(r,a)=>r.fold(()=>H.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return H.some(g<d?a:c)}),H.none()),r8=(e,t,o,r,a)=>{const c=Cs(de.fromDom(o),"td,th,caption").map(g=>g.dom),d=Xe(n8(e,c),g=>t(g,a));return nI(d,r,a).map(g=>g.cell)},rI=e=>e.bottom,sI=e=>e.top,aI=(e,t)=>e.y<t,iI=(e,t)=>e.y>t,lI=wt(r8,rI,aI),cI=wt(r8,sI,iI),dI=(e,t)=>ct(t.getClientRects()).bind(o=>lI(e,o.left,o.top)).bind(o=>c_(T5(o),t)),uI=(e,t)=>Co(t.getClientRects()).bind(o=>cI(e,o.left,o.top)).bind(o=>c_(LB(o),t)),fI=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),mI=e=>e.breakType===Ru.Wrap&&e.positions.length===0,pI=e=>e.breakType===Ru.Br&&e.positions.length===1,s8=(e,t,o)=>{const r=e(t,o);return mI(r)||!zr(o.getNode())&&pI(r)?!fI(e,t,r):r.breakAt.isNone()},gI=wt(s8,uv),hI=wt(s8,fv),bI=(e,t,o)=>{const r=De.fromRangeStart(t);return sy(!e,o).exists(a=>a.isEqual(r))},yI=(e,t,o,r)=>{const a=e.selection.getRng(),c=t?1:-1;return cw()&&bI(t,a,o)?(rs(c,e,o,!t,!1).each(d=>{vf(e,d)}),!0):!1},vI=(e,t,o)=>dI(t,o).orThunk(()=>ct(o.getClientRects()).bind(r=>m4(S5(e,De.before(t)),r.left))).getOr(De.before(t)),xI=(e,t,o)=>uI(t,o).orThunk(()=>ct(o.getClientRects()).bind(r=>m4(d_(e,De.after(t)),r.left))).getOr(De.after(t)),a8=(e,t)=>{const o=t.getNode(e);return Kl(o)?H.some(o):H.none()},kI=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?we:Nr,a=Da(t,de.fromDom(o),r);vf(t,a)})},i8=(e,t,o)=>{const r=a8(!!t,o),a=t===!1;r.fold(()=>vf(e,o.toRange()),c=>sy(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>vf(e,o.toRange()),d=>kI(t,e,c)))},_I=(e,t,o,r)=>{const a=e.selection.getRng(),c=De.fromRangeStart(a),d=e.getBody();if(!t&&gI(r,c)){const g=vI(d,o,c);return i8(e,t,g),!0}else if(t&&hI(r,c)){const g=xI(d,o,c);return i8(e,t,g),!0}else return!1},l8=(e,t,o)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>H.from(e.dom.getParent(r,"table")).map(a=>o(e,t,a,r))).getOr(!1),c8=(e,t)=>l8(e,t,yI),o7=(e,t)=>l8(e,t,_I),wI=e=>{const t=ug.exact(e,0,e,0);return qR(t)},d8=(e,t,o)=>o.fold(H.none,H.none,(r,a)=>t7(a).map(c=>wI(c)),r=>(e.execCommand("mceTableInsertRowAfter"),u8(e,t,r))),u8=(e,t,o)=>d8(e,t,wr(o,Or)),CI=(e,t,o)=>d8(e,t,vs(o,Or)),f8=(e,t)=>{const o=["table","li","dl"],r=de.fromDom(e.getBody()),a=g=>{const v=rn(g);return on(g,r)||tn(o,v)},c=e.selection.getRng(),d=de.fromDom(t?c.endContainer:c.startContainer);return oN(d,a).map(g=>(Oe(g,a).each(M=>{e.model.table.clearSelectedCells(M.dom)}),e.selection.collapse(!t),(t?u8:CI)(e,a,g).each(M=>{e.selection.setRng(M)}),!0)).getOr(!1)},SI=(e,t,o)=>{const r=Mo.os.isMacOS()||Mo.os.isiOS();Bg([{keyCode:Ct.RIGHT,action:So(An,e,!0)},{keyCode:Ct.LEFT,action:So(An,e,!1)},{keyCode:Ct.UP,action:So(zm,e,!1)},{keyCode:Ct.DOWN,action:So(zm,e,!0)},...r?[{keyCode:Ct.UP,action:So(mb,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ct.DOWN,action:So(mb,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ct.RIGHT,action:So(c8,e,!0)},{keyCode:Ct.LEFT,action:So(c8,e,!1)},{keyCode:Ct.UP,action:So(o7,e,!1)},{keyCode:Ct.DOWN,action:So(o7,e,!0)},{keyCode:Ct.UP,action:So(o7,e,!1)},{keyCode:Ct.UP,action:So(tl,e,!1)},{keyCode:Ct.DOWN,action:So(tl,e,!0)},{keyCode:Ct.RIGHT,action:So(Pg,e,!0)},{keyCode:Ct.LEFT,action:So(Pg,e,!1)},{keyCode:Ct.UP,action:So(qy,e,!1)},{keyCode:Ct.DOWN,action:So(qy,e,!0)},{keyCode:Ct.RIGHT,action:So(x4,e,t,!0)},{keyCode:Ct.LEFT,action:So(x4,e,t,!1)},{keyCode:Ct.RIGHT,ctrlKey:!r,altKey:r,action:So($5,e,t)},{keyCode:Ct.LEFT,ctrlKey:!r,altKey:r,action:So(V5,e,t)},{keyCode:Ct.UP,action:So(g_,e,!1)},{keyCode:Ct.DOWN,action:So(g_,e,!0)}],o).each(a=>{o.preventDefault()})},EI=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||SI(e,t,o)})},Np=(e,t)=>({container:e,offset:t}),rN=fr.DOM,sN=e=>t=>e===t?-1:0,zI=e=>t=>e.isBlock(t)||tn(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",n7=(e,t,o)=>{if(it(e)&&t>=0)return H.some(Np(e,t));{const r=yu(rN);return H.from(r.backwards(e,t,sN(e),o)).map(a=>Np(a.container,a.container.data.length))}},TI=(e,t,o)=>{if(it(e)&&t>=e.length)return H.some(Np(e,t));{const r=yu(rN);return H.from(r.forwards(e,t,sN(e),o)).map(a=>Np(a.container,0))}},r7=(e,t,o)=>{if(!it(e))return H.none();const r=e.data;if(t>=0&&t<=r.length)return H.some(Np(e,t));{const a=yu(rN);return H.from(a.backwards(e,t,sN(e),o)).bind(c=>{const d=c.container.data;return r7(c.container,t+d.length,o)})}},m8=(e,t,o)=>{if(!it(e))return H.none();const r=e.data;if(t<=r.length)return H.some(Np(e,t));{const a=yu(rN);return H.from(a.forwards(e,t,sN(e),o)).bind(c=>m8(c.container,t-r.length,o))}},s7=(e,t,o,r,a)=>{const c=yu(e,zI(e));return H.from(c.backwards(t,o,r,a))},OI=e=>e.collapsed&&it(e.startContainer),AI=e=>Xi(e.toString().replace(/\u00A0/g," ")),p8=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,NI=(e,t)=>e.substring(t.length),RI=(e,t,o,r=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!r&&p8(d))return H.none();if(c===d&&Rn(e,o,a,t))break}return H.some(a)},a7=(e,t,o,r=!1)=>{if(!OI(t))return H.none();const a={text:"",offset:0},c=(g,v,z)=>(a.text=z+a.text,a.offset+=v,RI(a.text,a.offset,o,r).getOr(v)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return s7(e,t.startContainer,t.startOffset,c,d).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return H.none();const z=AI(v);return z.lastIndexOf(o)!==0?H.none():H.some({text:NI(z,o),range:v,trigger:o})})},DI=e=>e.nodeType===vd,MI=e=>e.nodeType===yi,g8=e=>{if(DI(e))return Np(e,e.data.length);{const t=e.childNodes;return t.length>0?g8(t[t.length-1]):Np(e,t.length)}},h8=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?h8(o[t],0):o.length>0&&MI(e)&&o.length===t?g8(o[o.length-1]):Np(e,t)},BI=(e,t)=>{var o;const r=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return s7(e,t.container,t.offset,(a,c)=>c===0?-1:c,r).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!p8(c)}).isSome()},PI=e=>t=>{const o=h8(t.startContainer,t.startOffset);return!BI(e,o)},LI=(e,t,o)=>Hs(o.triggers,r=>a7(e,t,r)),II=(e,t)=>{const o=t(),r=e.selection.getRng();return LI(e.dom,r,o).bind(a=>b8(e,t,a))},b8=(e,t,o,r={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",v=Xe(c.lookupByTrigger(o.trigger),M=>o.text.length>=M.minChars&&M.matches.getOrThunk(()=>PI(e.dom))(o.range,g,o.text));if(v.length===0)return H.none();const z=Promise.all(Ko(v,M=>M.fetch(o.text,M.maxResults,r).then(I=>({matchText:o.text,items:I,columns:M.columns,onAction:M.onAction,highlightOn:M.highlightOn}))));return H.some({lookupData:z,context:o})};var Rp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Rp||(Rp={}));const i7=(e,t,o)=>e.stype===Rp.Error?t(e.serror):o(e.svalue),FI=e=>{const t=[],o=[];return Te(e,r=>{i7(r,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},HI=(e,t)=>e.stype===Rp.Error?{stype:Rp.Error,serror:t(e.serror)}:e,$I=(e,t)=>e.stype===Rp.Value?{stype:Rp.Value,svalue:t(e.svalue)}:e,VI=(e,t)=>e.stype===Rp.Value?t(e.svalue):e,jI=(e,t)=>e.stype===Rp.Error?t(e.serror):e,y8=e=>({stype:Rp.Value,svalue:e}),v8=e=>({stype:Rp.Error,serror:e}),dl={fromResult:e=>e.fold(v8,y8),toResult:e=>i7(e,lo.error,lo.value),svalue:y8,partition:FI,serror:v8,bind:VI,bindError:jI,map:$I,mapError:HI,fold:i7},l7=e=>ue(e)&&nt(e).length>100?" removed due to size":JSON.stringify(e,null,2),UI=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:$e("... (only showing first ten failures)")}]):e;return Ko(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},aN=(e,t)=>dl.serror([{path:e,getErrorInfo:t}]),ZI=(e,t,o)=>aN(e,()=>'Could not find valid *required* value for "'+t+'" in '+l7(o)),WI=(e,t)=>aN(e,()=>'Choice schema did not contain choice key: "'+t+'"'),qI=(e,t,o)=>aN(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+l7(t)),GI=(e,t)=>aN(e,$e(t)),KI=(e,t,o,r)=>Nn(o,r).fold(()=>qI(e,o,r),c=>c.extract(e.concat(["branch: "+r]),t)),YI=(e,t)=>({extract:(a,c)=>Nn(c,e).fold(()=>WI(a,e),g=>KI(a,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+nt(t)}),XI=(e,t)=>t,JI=(e,t)=>Dt(e)&&Dt(t)?iN(e,t):t,x8=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const a=t[r];for(const c in a)mo(a,c)&&(o[c]=e(o[c],a[c]))}return o},iN=x8(JI),k8=x8(XI),_8=()=>({tag:"required",process:{}}),QI=e=>({tag:"defaultedThunk",process:e}),w8=e=>QI($e(e)),eF=()=>({tag:"option",process:{}}),tF=(e,t)=>e.length>0?dl.svalue(iN(t,k8.apply(void 0,e))):dl.svalue(t),C8=e=>Ft(dl.serror,In)(e),oF={consolidateObj:(e,t)=>{const o=dl.partition(e);return o.errors.length>0?C8(o.errors):tF(o.values,t)},consolidateArr:e=>{const t=dl.partition(e);return t.errors.length>0?C8(t.errors):dl.svalue(t.values)}},nF=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),rF=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),S8=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},c7=e=>{const t=(r,a)=>dl.bindError(e(a),c=>GI(r,c)),o=$e("val");return{extract:t,toString:o}},sF=c7(dl.svalue),aF=(e,t,o,r)=>Nn(t,o).fold(()=>ZI(e,o,t),r),E8=(e,t,o,r)=>{const a=Nn(e,t).getOrThunk(()=>o(e));return r(a)},iF=(e,t,o)=>o(Nn(e,t)),lF=(e,t,o,r)=>{const a=Nn(e,t).map(c=>c===!0?o(e):c);return r(a)},cF=(e,t,o,r,a)=>{const c=g=>a.extract(t.concat([r]),g),d=g=>g.fold(()=>dl.svalue(H.none()),v=>{const z=a.extract(t.concat([r]),v);return dl.map(z,H.some)});switch(e.tag){case"required":return aF(t,o,r,c);case"defaultedThunk":return E8(o,r,e.process,c);case"option":return iF(o,r,d);case"defaultedOptionThunk":return lF(o,r,e.process,d);case"mergeWithThunk":return E8(o,r,$e({}),g=>{const v=iN(e.process(o),g);return c(v)})}},dF=(e,t,o)=>{const r={},a=[];for(const c of o)S8(c,(d,g,v,z)=>{const M=cF(v,e,t,d,z);dl.fold(M,P=>{a.push(...P)},P=>{r[g]=P})},(d,g)=>{r[d]=g(t)});return a.length>0?dl.serror(a):dl.svalue(r)},d7=e=>({extract:(r,a)=>dF(r,a,e),toString:()=>`obj{
`+Ko(e,a=>S8(a,(c,d,g,v)=>c+" -> "+v.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),z8=e=>({extract:(r,a)=>{const c=Ko(a,(d,g)=>e.extract(r.concat(["["+g+"]"]),d));return oF.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),uF=e=>c7(t=>e(t).fold(dl.serror,dl.svalue)),fF=(e,t,o)=>{const r=t.extract([e],o);return dl.mapError(r,a=>({input:o,errors:a}))},mF=(e,t,o)=>dl.toResult(fF(e,t,o)),pF=e=>`Errors: 
`+UI(e.errors).join(`
`)+`

Input object: `+l7(e.input),T8=(e,t)=>YI(e,Ti(t,d7)),gF=$e(sF),lN=(e,t)=>c7(o=>{const r=typeof o;return e(o)?dl.svalue(o):dl.serror(`Expected type: ${t} but got: ${r}`)}),hF=lN(O,"number"),cN=lN(Tt,"string"),bF=lN(ss,"boolean"),u7=lN(Pt,"function"),B4=nF,O8=rF,yF=e=>uF(t=>tn(e,t)?lo.value(t):lo.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),A8=(e,t)=>B4(e,e,_8(),t),N8=e=>A8(e,cN),R8=e=>A8(e,u7),vF=(e,t)=>B4(e,e,_8(),z8(t)),f7=(e,t)=>B4(e,e,eF(),t),dN=e=>f7(e,cN),xF=e=>f7(e,u7),kF=(e,t)=>B4(e,e,w8(t),gF()),y_=(e,t,o)=>B4(e,e,w8(t),o),D8=(e,t)=>y_(e,t,hF),_F=(e,t)=>y_(e,t,cN),M8=(e,t,o)=>y_(e,t,yF(o)),m7=(e,t)=>y_(e,t,bF),p7=(e,t)=>y_(e,t,u7),wF=(e,t,o)=>y_(e,t,z8(o)),CF=N8("type"),SF=R8("fetch"),g7=R8("onAction"),EF=p7("onSetup",()=>Qe),zF=dN("text"),TF=dN("icon"),OF=dN("tooltip"),AF=dN("label"),NF=m7("active",!1),RF=m7("enabled",!0),B8=m7("primary",!1),DF=e=>kF("columns",e),P4=e=>_F("type",e),MF=d7([CF,N8("trigger"),D8("minChars",1),DF(1),D8("maxResults",10),xF("matches"),SF,g7,wF("highlightOn",[],cN)]),BF=e=>mF("Autocompleter",MF,e),h7=[RF,OF,TF,zF,EF],P8=[NF].concat(h7),PF=[p7("predicate",hn),M8("scope","node",["node","editor"]),M8("position","selection",["node","selection","line"])],LF=h7.concat([P4("contextformbutton"),B8,g7,O8("original",Oo)]),IF=P8.concat([P4("contextformbutton"),B8,g7,O8("original",Oo)]),FF=h7.concat([P4("contextformbutton")]),HF=P8.concat([P4("contextformtogglebutton")]),$F=T8("type",{contextformbutton:LF,contextformtogglebutton:IF});d7([P4("contextform"),p7("initValue",$e("")),AF,vF("commands",$F),f7("launch",T8("type",{contextformbutton:FF,contextformtogglebutton:HF}))].concat(PF));const VF=e=>{const t=e.ui.registry.getAll().popups,o=Ti(t,d=>BF(d).fold(g=>{throw new Error(pF(g))},Oo)),r=ud(mi(o,d=>d.trigger)),a=fl(o);return{dataset:o,triggers:r,lookupByTrigger:d=>Xe(a,g=>g.trigger===d)}},jF=(e,t)=>{const o=qp(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},UF=e=>{const t=Us(),o=hs(!1),r=t.isSet,a=()=>{r()&&(DR(e),o.set(!1),t.clear())},c=P=>{r()||t.set({trigger:P.trigger,matchLength:P.text.length})},d=Qa(()=>VF(e)),g=P=>t.get().map(I=>a7(e.dom,e.selection.getRng(),I.trigger,!0).bind(K=>b8(e,d,K,P))).getOrThunk(()=>II(e,d)),v=P=>{g(P).fold(a,I=>{c(I.context),I.lookupData.then(K=>{t.get().map(oe=>{const Y=I.context;oe.trigger===Y.trigger&&(t.set({...oe,matchLength:Y.text.length}),o.get()?(Mw(e,{range:Y.range}),Dw(e,{lookupData:K})):(o.set(!0),Mw(e,{range:Y.range}),Rw(e,{lookupData:K})))})})})},z=(P,I)=>{const K=P.compareBoundaryPoints(window.Range.START_TO_START,I),oe=P.compareBoundaryPoints(window.Range.END_TO_END,I);return K>=0&&oe<=0},M=()=>t.get().bind(({trigger:P})=>{const I=e.selection.getRng();return a7(e.dom,I,P,o.get()).filter(({range:K})=>z(I,K)).map(({range:K})=>K)});e.addCommand("mceAutocompleterReload",(P,I)=>{const K=ue(I)?I.fetchOptions:{};v(K)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{M().each(P=>{Mw(e,{range:P})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>M().isSome()),jF(e,{cancelIfNecessary:a,load:v})},ZF=rt().browser.isSafari(),L8=e=>Ac(de.fromDom(e)),I8=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},uN=(e,t)=>H.from(e.getParent(t.container(),"details")),F8=(e,t)=>uN(e,t).isSome(),WF=(e,t)=>{const o=H.from(e.getParent(t.startContainer,"details")),r=H.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(c=>H.from(e.select("summary",c)[0]));return H.some({startSummary:a,startDetails:o,endDetails:r})}else return H.none()},qF=(e,t)=>co(t).exists(o=>o.isEqual(e)),GF=(e,t)=>Pd(t).exists(o=>zr(o.getNode())&&Dc(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),KF=(e,t)=>t.startSummary.exists(o=>qF(e,o)),YF=(e,t)=>t.startSummary.exists(o=>GF(e,o)),XF=(e,t)=>t.startDetails.exists(o=>Dc(o,e).forall(r=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),JF=(e,t,o)=>o.startDetails.exists(r=>Nl(e,t).forall(a=>!r.contains(a.container()))),H8=(e,t)=>{const o=t.getNode();gr(o)||e.selection.setCursorLocation(o,t.offset())},$8=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?co(a):Pd(a)).each(d=>H8(e,d))}else H8(e,t)},QF=(e,t)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(r),d=t.startDetails.forall(v=>t.endDetails.forall(z=>v!==z));return(a||c)&&!(a&&c)||d},V8=(e,t,o)=>{const{dom:r,selection:a}=e,c=e.getBody();if(o==="character"){const d=De.fromRangeStart(a.getRng()),g=r.getParent(d.container(),r.isBlock),v=uN(r,d),z=g&&r.isEmpty(g),M=ht(g==null?void 0:g.previousSibling),P=ht(g==null?void 0:g.nextSibling);return z&&(t?P:M)&&Nh(!t,c,d).exists(oe=>F8(r,oe)&&!bd(v,uN(r,oe)))?!0:Nh(t,c,d).fold(hn,I=>{const K=uN(r,I);if(F8(r,I)&&!bd(v,K)){if(t||$8(e,I,!1),g&&z){if(t&&M)return!0;if(!t&&P)return!0;$8(e,I,t),e.dom.remove(g)}return!0}else return!1})}else return!1},eH=(e,t,o,r)=>{const c=e.selection.getRng(),d=De.fromRangeStart(c),g=e.getBody();return r==="selection"?QF(c,t):o?YF(d,t)||JF(g,d,t):KF(d,t)||XF(d,t)},tH=(e,t,o)=>WF(e.dom,e.selection.getRng()).fold(()=>V8(e,t,o),r=>eH(e,r,t,o)||V8(e,t,o)),oH=(e,t,o)=>{const r=e.selection,a=r.getNode(),c=r.getRng(),d=De.fromRangeStart(c);return Hf(a)?(o==="selection"&&I8(c,a)||Wz(t,d,a)?L8(a):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:v,anchorOffset:z,focusNode:M,focusOffset:P}=g??{};const I=()=>{Fe(v)&&Fe(z)&&Fe(M)&&Fe(P)&&(g==null||g.setBaseAndExtent(v,z,M,P))},K=()=>{v=g==null?void 0:g.anchorNode,z=g==null?void 0:g.anchorOffset,M=g==null?void 0:g.focusNode,P=g==null?void 0:g.focusOffset},oe=(re,ge)=>{Te(re.childNodes,ke=>{dy(ke)&&ge.appendChild(ke)})},Y=e.dom.create("span",{"data-mce-bogus":"1"});oe(a,Y),a.appendChild(Y),I(),(o==="word"||o==="line")&&(g==null||g.modify("extend",t?"right":"left",o)),!r.isCollapsed()&&I8(r.getRng(),Y)?L8(a):(e.execCommand(t?"ForwardDelete":"Delete"),K(),oe(Y,a),I()),e.dom.remove(Y)}),!0):!1},wv=(e,t,o)=>tH(e,t,o)||ZF&&oH(e,t,o)?H.some(Qe):H.none(),j8=e=>(t,o,r={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Qe,inputType:o},d=Wf(new InputEvent(e));return t.dispatch(e,{...d,...c,...r})},L4=j8("input"),fN=j8("beforeinput"),U8=rt(),Z8=U8.os,W8=Z8.isMacOS()||Z8.isiOS(),nH=U8.browser.isFirefox(),rH=(e,t,o)=>{const r=o.keyCode===Ct.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=g=>a?g?"word":"line":"selection";b_([{keyCode:Ct.BACKSPACE,action:So(Me,e)},{keyCode:Ct.BACKSPACE,action:So(i4,e,!1)},{keyCode:Ct.DELETE,action:So(i4,e,!0)},{keyCode:Ct.BACKSPACE,action:So(r4,e,!1)},{keyCode:Ct.DELETE,action:So(r4,e,!0)},{keyCode:Ct.BACKSPACE,action:So(bv,e,t,!1)},{keyCode:Ct.DELETE,action:So(bv,e,t,!0)},{keyCode:Ct.BACKSPACE,action:So(xp,e,!1)},{keyCode:Ct.DELETE,action:So(xp,e,!0)},{keyCode:Ct.BACKSPACE,action:So(wv,e,!1,c)},{keyCode:Ct.DELETE,action:So(wv,e,!0,c)},...W8?[{keyCode:Ct.BACKSPACE,altKey:!0,action:So(wv,e,!1,d(!0))},{keyCode:Ct.DELETE,altKey:!0,action:So(wv,e,!0,d(!0))},{keyCode:Ct.BACKSPACE,metaKey:!0,action:So(wv,e,!1,d(!1))}]:[{keyCode:Ct.BACKSPACE,ctrlKey:!0,action:So(wv,e,!1,d(!0))},{keyCode:Ct.DELETE,ctrlKey:!0,action:So(wv,e,!0,d(!0))}],{keyCode:Ct.BACKSPACE,action:So(c4,e,!1)},{keyCode:Ct.DELETE,action:So(c4,e,!0)},{keyCode:Ct.BACKSPACE,action:So(L,e,!1)},{keyCode:Ct.DELETE,action:So(L,e,!0)},{keyCode:Ct.BACKSPACE,action:So(t4,e,!1)},{keyCode:Ct.DELETE,action:So(t4,e,!0)},{keyCode:Ct.BACKSPACE,action:So(n_,e,!1)},{keyCode:Ct.DELETE,action:So(n_,e,!0)},{keyCode:Ct.BACKSPACE,action:So(p,e,!1)},{keyCode:Ct.DELETE,action:So(p,e,!0)},{keyCode:Ct.BACKSPACE,action:So(l4,e,!1)},{keyCode:Ct.DELETE,action:So(l4,e,!0)}],o).filter(g=>e.selection.isEditable()).each(g=>{o.preventDefault(),fN(e,r).isDefaultPrevented()||(g(),L4(e,r))})},sH=(e,t,o)=>Bg([{keyCode:Ct.BACKSPACE,action:So(n5,e)},{keyCode:Ct.DELETE,action:So(n5,e)},...W8?[{keyCode:Ct.BACKSPACE,altKey:!0,action:So(E,e)},{keyCode:Ct.DELETE,altKey:!0,action:So(E,e)},...o?[{keyCode:nH?224:91,action:So(E,e)}]:[]]:[{keyCode:Ct.BACKSPACE,ctrlKey:!0,action:So(E,e)},{keyCode:Ct.DELETE,ctrlKey:!0,action:So(E,e)}]],t),aH=(e,t)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ct.BACKSPACE,r.isDefaultPrevented()||rH(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||sH(e,r,o),o=!1})},iH=e=>{for(;e;){if(It(e)||it(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},v_=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=iH(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(o.doc.createTextNode(oa),t.firstChild)}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Oa(t,t);let d=t,g;for(;g=c.current();){if(it(g)){a.setStart(g,0),a.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}d=g,g=c.next()}g||(a.setStart(d,0),a.setEnd(d,0))}else zr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Fd(e,a)},I4=(e,t)=>{const o=e.getRoot();let r,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},b7=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),lH=e=>b7(e).fold($e(""),t=>t.nodeName.toUpperCase()),cH=e=>b7(e).filter(t=>Qf(de.fromDom(t))).isSome(),y7=e=>{e.innerHTML='<br data-mce-bogus="1">'},dH=(e,t,o)=>{const r=e.dom;H.from(o.style).map(r.parseStyle).each(v=>{const M={...Vu(de.fromDom(t)),...v};r.setStyles(t,M)});const a=H.from(o.class).map(v=>v.split(/\s+/)),c=H.from(t.className).map(v=>Xe(v.split(/\s+/),z=>z!==""));ma(a,c,(v,z)=>{const M=Xe(z,I=>!tn(v,I)),P=[...v,...M];r.setAttrib(t,"class",P.join(" "))});const d=["style","class"],g=Oi(o,(v,z)=>!tn(d,z));r.setAttribs(t,g)},F4=(e,t)=>{if(Li(e).toLowerCase()===t.tagName.toLowerCase()){const r=M1(e);dH(e,t,r)}},q8=(e,t,o,r,a=!0,c,d)=>{const g=e.dom,v=e.schema,z=Li(e),M=o?o.nodeName.toUpperCase():"";let P=t;const I=v.getTextInlineElements();let K;c||M==="TABLE"||M==="HR"?K=g.create(c||z,d||{}):K=o.cloneNode(!1);let oe=K;if(!a)g.setAttrib(K,"style",null),g.setAttrib(K,"class",null);else do if(I[P.nodeName]){if(sd(P)||ad(P))continue;const Y=P.cloneNode(!1);g.setAttrib(Y,"id",""),K.hasChildNodes()?(Y.appendChild(K.firstChild),K.appendChild(Y)):(oe=Y,K.appendChild(Y))}while((P=P.parentNode)&&P!==r);return F4(e,K),y7(oe),K},uH=(e,t)=>e.dom.getParent(t,Ff),fH=(e,t,o)=>{let r=t;for(;r&&r!==e&&ht(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return Ff(a);r=a}return!1},mH=(e,t,o)=>!t&&o.nodeName.toLowerCase()===Li(e)&&e.dom.isEmpty(o)&&fH(e.getBody(),o,r=>mo(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),pH=(e,t,o)=>{var r,a,c;const d=t(Li(e)),g=uH(e,o);g&&(e.dom.insertAfter(d,g),v_(e,d),((c=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},gH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,hH=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},G8=(e,t)=>{const o=e==null?void 0:e.parentNode;return Fe(o)&&o.nodeName===t},K8=e=>Fe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),v7=e=>Fe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),bH=e=>K8(e)&&K8(e.parentNode),mN=e=>{const t=e.parentNode;return v7(t)?t:e},pN=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!It(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},Y8=e=>ao(mi(Vu(de.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),yH=(e,t,o,r,a)=>{const c=e.dom,d=e.selection.getRng(),g=o.parentNode;if(o===e.getBody()||!g)return;bH(o)&&(a="LI");const v=v7(r)?Y8(r):void 0;let z=v7(r)&&v?t(a,{style:Y8(r)}):t(a);if(pN(o,r,!0)&&pN(o,r,!1))if(G8(o,"LI")){const M=mN(o);c.insertAfter(z,M),hH(o)?c.remove(M):c.remove(o)}else c.replace(z,o);else if(pN(o,r,!0))G8(o,"LI")?(c.insertAfter(z,mN(o)),z.appendChild(c.doc.createTextNode(" ")),z.appendChild(o)):g.insertBefore(z,o),c.remove(r);else if(pN(o,r,!1))c.insertAfter(z,mN(o)),c.remove(r);else{o=mN(o);const M=d.cloneRange();M.setStartAfter(r),M.setEndAfter(o);const P=M.extractContents();if(a==="LI"&&gH(P,"LI")){const I=Xe(Ko(z.children,de.fromDom),et(xd("br")));z=P.firstChild,c.insertAfter(P,o),Te(I,K=>$a(de.fromDom(z),K)),v&&z.setAttribute("style",v)}else c.insertAfter(P,o),c.insertAfter(z,o);c.remove(r)}v_(e,z)},vH=e=>{Te(Sd(de.fromDom(e),vr),t=>{const o=t.dom;o.nodeValue=Xi(o.data)})},xH=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},kH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),x7=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,k7=(e,t)=>Fe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",_H=(e,t,o)=>{var r;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;It(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||kH(e,c))&&e.remove(c)},_7=(e,t,o)=>it(t)?e?o===1&&t.data.charAt(o-1)===na?0:o:o===t.data.length-1&&t.data.charAt(o)===na?t.data.length:o:o,wH=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,_7(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,_7(!1,e.endContainer,e.endOffset)),t},CH=e=>{let t=e;do it(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},SH=(e,t,o,r,a)=>{var c,d;const g=e.dom,v=(c=I4(g,r))!==null&&c!==void 0?c:g.getRoot();let z=g.getParent(r,g.isBlock);if(!z||!k7(g,z)){if(z=z||v,!z.hasChildNodes()){const K=g.create(t);return F4(e,K),z.appendChild(K),o.setStart(K,0),o.setEnd(K,0),K}let M=r;for(;M&&M.parentNode!==z;)M=M.parentNode;let P;for(;M&&!g.isBlock(M);)P=M,M=M.previousSibling;const I=(d=P==null?void 0:P.parentElement)===null||d===void 0?void 0:d.nodeName;if(P&&I&&e.schema.isValidChild(I,t.toLowerCase())){const K=P.parentNode,oe=g.create(t);for(F4(e,oe),K.insertBefore(oe,P),M=P;M&&!g.isBlock(M);){const Y=M.nextSibling;oe.appendChild(M),M=Y}o.setStart(r,a),o.setEnd(r,a)}}return r},EH=(e,t)=>{t.normalize();const o=t.lastChild;(!o||It(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},zH=(e,t)=>{const o=Z_(e);return Lo(t)?!1:Tt(o)?tn(ft.explode(o),t.nodeName.toLowerCase()):o},X8={insert:(e,t)=>{let o,r,a,c,d=!1;const g=e.dom,v=e.schema,z=v.getNonEmptyElements(),M=e.selection.getRng(),P=Li(e),I=de.fromDom(M.startContainer),K=hc(I,M.startOffset),oe=K.exists(Ke=>ti(Ke)&&!Or(Ke)),Y=M.collapsed&&oe,re=(Ke,Mt)=>q8(e,o,gt,Je,U_(e),Ke,Mt),ge=Ke=>{const Mt=_7(Ke,o,r);if(it(o)&&(Ke?Mt>0:Mt<o.data.length))return!1;if((o.parentNode===gt||o===gt)&&d&&!Ke||Ke&&It(o)&&o===gt.firstChild)return!0;if(x7(o,"TABLE")||x7(o,"HR"))return d&&!Ke||!d&&Ke;const Yt=new Oa(o,gt);it(o)&&(Ke&&Mt===0?Yt.prev():!Ke&&Mt===o.data.length&&Yt.next());let qo;for(;qo=Yt.current();){if(It(qo)){if(!qo.getAttribute("data-mce-bogus")){const nn=qo.nodeName.toLowerCase();if(z[nn]&&nn!=="br")return!1}}else if(it(qo)&&!Di(qo.data))return!1;Ke?Yt.prev():Yt.next()}return!0},ke=()=>{let Ke;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Ot!=="HGROUP"?Ke=re(P):Ke=re(),zH(e,c)&&k7(g,c)&&g.isEmpty(gt,void 0,{includeZwsp:!0})?Ke=g.split(c,gt):g.insertAfter(Ke,gt),v_(e,Ke),Ke};um(g,M).each(Ke=>{M.setStart(Ke.startContainer,Ke.startOffset),M.setEnd(Ke.endContainer,Ke.endOffset)}),o=M.startContainer,r=M.startOffset;const ve=!!(t&&t.shiftKey),ze=!!(t&&t.ctrlKey);It(o)&&o.hasChildNodes()&&!Y&&(d=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,d&&it(o)?r=o.data.length:r=0);const Je=I4(g,o);if(!Je||xH(e,o))return;ve||(o=SH(e,P,M,o,r));let gt=g.getParent(o,g.isBlock)||g.getRoot();c=Fe(gt==null?void 0:gt.parentNode)?g.getParent(gt.parentNode,g.isBlock):null,a=gt?gt.nodeName.toUpperCase():"";const Ot=c?c.nodeName.toUpperCase():"";if(Ot==="LI"&&!ze){const Ke=c;gt=Ke,c=Ke.parentNode,a=Ot}if(It(c)&&mH(e,ve,gt))return pH(e,re,gt);if(/^(LI|DT|DD)$/.test(a)&&It(c)&&g.isEmpty(gt)){yH(e,re,c,gt,P);return}if(!Y&&(gt===e.getBody()||!k7(g,gt)))return;const He=gt.parentNode;let Ne;if(Y)Ne=re(P),K.fold(()=>{ts(I,de.fromDom(Ne))},Ke=>{Nr(Ke,de.fromDom(Ne))}),e.selection.setCursorLocation(Ne,0);else if(Kp(gt))Ne=sp(gt),g.isEmpty(gt)&&y7(gt),F4(e,Ne),v_(e,Ne);else if(ge(!1))Ne=ke();else if(ge(!0)&&He){const Ke=De.fromRangeStart(M),Mt=xy(Ke),Yt=de.fromDom(gt),nn=Wh(Yt,Ke,e.schema)?qx(Yt,Ke,e.schema).bind(or=>H.from(or.getNode())):H.none();Ne=He.insertBefore(re(),gt);const Wn=x7(gt,"HR")||Mt?Ne:nn.getOr(gt);v_(e,Wn)}else{const Ke=wH(M).cloneRange();Ke.setEndAfter(gt);const Mt=Ke.extractContents();vH(Mt),CH(Mt),Ne=Mt.firstChild,g.insertAfter(Mt,gt),_H(g,z,Ne),EH(g,gt),g.isEmpty(gt)&&y7(gt),Ne.normalize(),g.isEmpty(Ne)?(g.remove(Ne),ke()):(F4(e,Ne),v_(e,Ne))}g.setAttrib(Ne,"id",""),e.dispatch("NewBlock",{newBlock:Ne})},fakeEventName:"insertParagraph"},TH=(e,t,o)=>{const r=new Oa(t,o);let a;const c=e.getNonEmptyElements();for(;a=r.next();)if(c[a.nodeName.toLowerCase()]||it(a)&&a.length>0)return!0;return!1},J8=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Fd(e,r)},OH=(e,t)=>{const o=e.selection,r=e.dom,a=o.getRng();let c,d=!1;um(r,a).each(K=>{a.setStart(K.startContainer,K.startOffset),a.setEnd(K.endContainer,K.endOffset)});let g=a.startOffset,v=a.startContainer;if(It(v)&&v.hasChildNodes()){const K=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,K&&it(v)?g=v.data.length:g=0}let z=r.getParent(v,r.isBlock);const M=z&&z.parentNode?r.getParent(z.parentNode,r.isBlock):null,P=M?M.nodeName.toUpperCase():"",I=!!(t&&t.ctrlKey);P==="LI"&&!I&&(z=M),it(v)&&g>=v.data.length&&(TH(e.schema,v,z||r.getRoot())||(c=r.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=r.create("br"),Xb(r,a,c),J8(e,c,d),e.undoManager.add()},AH=(e,t)=>{const o=de.fromTag("br");Nr(de.fromDom(t),o),e.undoManager.add()},NH=(e,t)=>{DH(e.getBody(),t)||we(de.fromDom(t),de.fromTag("br"));const o=de.fromTag("br");we(de.fromDom(t),o),J8(e,o.dom,!1),e.undoManager.add()},RH=e=>zr(e.getNode()),DH=(e,t)=>RH(De.after(t))?!0:Nl(e,De.after(t)).map(o=>zr(o.getNode())).getOr(!1),Q8=e=>e&&e.nodeName==="A"&&"href"in e,MH=e=>e.fold(hn,Q8,Q8,hn),BH=e=>{const t=wt(Gh,e),o=De.fromRangeStart(e.selection.getRng());return Cm(t,e.getBody(),o).filter(MH)},PH=(e,t)=>{t.fold(Qe,wt(AH,e),wt(NH,e),Qe)},eP={insert:(e,t)=>{const o=BH(e);o.isSome()?o.each(wt(PH,e)):OH(e,t)},fakeEventName:"insertLineBreak"},tP=(e,t)=>b7(e).filter(o=>t.length>0&&Un(de.fromDom(o),t)).isSome(),LH=e=>tP(e,K4(e)),IH=e=>tP(e,Y4(e)),Mu=ln.generate([{br:[]},{block:[]},{none:[]}]),FH=(e,t)=>IH(e),oP=e=>(t,o)=>cH(t)===e,nP=(e,t)=>(o,r)=>lH(o)===e.toUpperCase()===t,HH=e=>{const t=I4(e.dom,e.selection.getStart());return Lo(t)},H4=e=>nP("pre",e),$H=()=>nP("summary",!0),gN=e=>(t,o)=>V_(t)===e,VH=(e,t)=>LH(e),hN=(e,t)=>t,jH=e=>{const t=Li(e),o=I4(e.dom,e.selection.getStart());return Fe(o)&&e.schema.isValidChild(o.nodeName,t)},UH=e=>{const t=e.selection.getRng(),o=de.fromDom(t.startContainer),a=hc(o,t.startOffset).map(c=>ti(c)&&!Or(c));return t.collapsed&&a.getOr(!0)},xf=(e,t)=>(o,r)=>ao(e,(c,d)=>c&&d(o,r),!0)?H.some(t):H.none(),ZH=(e,t)=>p5([xf([FH],Mu.none()),xf([H4(!0),HH],Mu.none()),xf([$H()],Mu.br()),xf([H4(!0),gN(!1),hN],Mu.br()),xf([H4(!0),gN(!1)],Mu.block()),xf([H4(!0),gN(!0),hN],Mu.block()),xf([H4(!0),gN(!0)],Mu.br()),xf([oP(!0),hN],Mu.br()),xf([oP(!0)],Mu.block()),xf([VH],Mu.br()),xf([hN],Mu.br()),xf([jH],Mu.block()),xf([UH],Mu.block())],[e,!!(t&&t.shiftKey)]).getOr(Mu.none()),bN=(e,t,o)=>{t.selection.isCollapsed()||Uz(t),!(Fe(o)&&fN(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Fe(o)&&L4(t,e.fakeEventName))},rP=(e,t)=>{const o=()=>bN(eP,e,t),r=()=>bN(X8,e,t),a=ZH(e,t);switch(j_(e)){case"linebreak":a.fold(o,o,Qe);break;case"block":a.fold(r,r,Qe);break;case"invert":a.fold(r,o,Qe);break;default:a.fold(o,r,Qe);break}},sP=rt(),WH=sP.os.isiOS()&&sP.browser.isSafari(),aP=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),tM(e.undoManager),e.undoManager.transact(()=>{rP(e,t)}))},qH=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(it(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},GH=e=>{let t=H.none();const o=a=>{t=H.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,c)=>{a.undoManager.undo(),t.fold(Qe,d=>a.selection.moveToBookmark(d)),aP(a,c),t=H.none()};e.on("keydown",a=>{a.keyCode===Ct.ENTER&&(WH&&qH(e.selection.getRng())?o(e):aP(e,a))}),e.on("keyup",a=>{a.keyCode===Ct.ENTER&&t.each(()=>r(e,a))})},KH=(e,t,o)=>{const r=Mo.os.isMacOS()||Mo.os.isiOS();Bg([{keyCode:Ct.END,action:So(Du,e,!0)},{keyCode:Ct.HOME,action:So(Du,e,!1)},...r?[]:[{keyCode:Ct.HOME,action:So(mb,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ct.END,action:So(mb,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ct.END,action:So(N4,e,!0)},{keyCode:Ct.HOME,action:So(N4,e,!1)},{keyCode:Ct.END,action:So(gv,e,!0,t)},{keyCode:Ct.HOME,action:So(gv,e,!1,t)}],o).each(a=>{o.preventDefault()})},YH=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||KH(e,t,o)})},XH=e=>{e.on("input",t=>{t.isComposing||yD(e)})},JH=rt(),QH=(e,t,o)=>{Bg([{keyCode:Ct.PAGE_UP,action:So(gv,e,!1,t)},{keyCode:Ct.PAGE_DOWN,action:So(gv,e,!0,t)}],o)},iP=e=>e.stopImmediatePropagation(),lP=e=>e.keyCode===Ct.PAGE_UP||e.keyCode===Ct.PAGE_DOWN,cP=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",iP,!0):!o&&e.get()&&t.off("NodeChange",iP),e.set(o)},e9=(e,t)=>{if(JH.os.isMacOS())return;const o=hs(!1);e.on("keydown",r=>{lP(r)&&cP(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||QH(e,t,r),lP(r)&&o.get()&&(cP(o,e,!1),e.nodeChanged())})},t9=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Sn(t.getTargetRanges(),o=>!ez(e.dom,o)))&&t.preventDefault()})},dP=(e,t)=>{const o=t.container(),r=t.offset();return it(o)?(o.insertData(r,e),H.some(De(o,r+e.length))):ax(t).map(a=>{const c=de.fromText(e);return t.isAtEnd()?we(a,c):Nr(a,c),De(c.dom,e.length)})},uP=wt(dP,oa),fP=wt(dP," "),o9=(e,t,o)=>k2(e,t,o)?uP(t):fP(t),n9=e=>t=>t.fold(o=>Dc(e.dom,De.before(o)),o=>co(o),o=>Pd(o),o=>Nl(e.dom,De.after(o))),r9=(e,t,o)=>r=>k2(e,r,o)?uP(t):fP(t),mP=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},s9=(e,t)=>e.isEditable(e.getParent(t,"summary")),a9=e=>{const t=De.fromRangeStart(e.selection.getRng()),o=de.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=wt(Gh,e),a=De.fromRangeStart(e.selection.getRng());return Cm(r,e.getBody(),a).bind(n9(o)).map(c=>()=>r9(o,t,e.schema)(c).each(mP(e)))}else return H.none()},i9=e=>{const t=()=>{const o=de.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=De.fromRangeStart(e.selection.getRng());o9(o,r,e.schema).each(mP(e))};return tu(Mo.browser.isFirefox()&&e.selection.isEditable()&&s9(e.dom,e.selection.getRng().startContainer),t)},l9=(e,t)=>{b_([{keyCode:Ct.SPACEBAR,action:So(a9,e)},{keyCode:Ct.SPACEBAR,action:So(i9,e)}],t).each(o=>{t.preventDefault(),fN(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),L4(e,"insertText",{data:" "}))})},c9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||l9(e,t)})},d9=e=>xE(e)?[{keyCode:Ct.TAB,action:So(f8,e,!0)},{keyCode:Ct.TAB,shiftKey:!0,action:So(f8,e,!1)}]:[],u9=(e,t)=>{Bg([...d9(e)],t).each(o=>{t.preventDefault()})},f9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||u9(e,t)})},m9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),UF(e),wm(e))return hs(null);{const t=H5(e);return t9(e),fb(e),EI(e,t),aH(e,t),GH(e),c9(e),XH(e),f9(e),YH(e,t),e9(e,t),t}};class p9{constructor(t){this.lastPath=[],this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!p0(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{py(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&ly(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&ly(t)&&(t.selection.getNode().nodeName==="IMG"?Pc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!JN(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const c=[];this.editor.dom.getParent(r,d=>d===a?!0:(c.push(d),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:c})}}isSameElementPath(t){let o;const r=this.editor,a=Ys(r.dom.getParents(t,wo,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const pP=ki("image"),g9=e=>{const t=e;return H.from(t[pP])},h9=(e,t)=>{const o=e;o[pP]=t},w7=ki("event"),b9=e=>{const t=e;return H.from(t[w7])},yN=e=>t=>{const o=t;o[w7]=e},y9=(e,t)=>yN(t)(e),gP=yN(0),v9=yN(2),x9=yN(1),k9=(e=>t=>{const o=t;return H.from(o[w7]).exists(r=>r===e)})(0),_9=()=>Object.freeze({length:0,item:e=>null}),C7=ki("mode"),w9=e=>{const t=e;return H.from(t[C7])},vN=e=>t=>{const o=t;o[C7]=e},hP=(e,t)=>vN(t)(e),bP=vN(0),S7=vN(2),C9=vN(1),yP=e=>t=>{const o=t;return H.from(o[C7]).exists(r=>r===e)},x_=yP(0),vP=yP(1),S9=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(x_(e))if(Tt(o)){if(!gr(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{x_(e)&&t.remove(o)},clear:()=>{x_(e)&&t.clear()}}),E9=["none","copy","link","move"],z9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],E7=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(a){tn(E9,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){k9(r)&&tn(z9,a)&&(o=a)},get items(){return S9(r,e.items)},get files(){return vP(r)?_9():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{x_(r)&&(h9(r,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>vP(r)?"":e.getData(a),setData:(a,c)=>{x_(r)&&e.setData(a,c)},clearData:a=>{x_(r)&&e.clearData(a)}};return bP(r),r},T9=e=>{const t=E7(),o=w9(e);return S7(e),gP(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,g9(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Te(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Te(e.files,r=>t.items.add(r)),b9(e).each(r=>{y9(t,r)}),o.each(r=>{hP(e,r),hP(t,r)}),t},O9=e=>{const t=e.getData("text/html");return t===""?H.none():H.some(t)},xP=(e,t)=>e.setData("text/html",t),kP="x-tinymce/html",xN=$e(kP),z7="<!-- "+kP+" -->",A9=e=>z7+e,N9=e=>e.replace(z7,""),_P=e=>e.indexOf(z7)!==-1,R9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),D9=(e,t)=>{let o="<"+e;const r=mi(t,(a,c)=>c+'="'+Wm.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},M9=(e,t,o)=>{const r=e.split(/\n\n/),a=D9(t,o),c="</"+t+">",d=Ko(r,v=>v.split(/\n/).join("<br />")),g=v=>a+v+c;return d.length===1?d[0]:Ko(d,g).join("")},wP="%MCEPASTEBIN%",B9=(e,t)=>{const{dom:o,selection:r}=e,a=e.getBody();t.set(r.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},wP);Mo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),r.select(c,!0)},P9=(e,t)=>{const o=e.dom;if(T7(e)){let r;const a=t.get();for(;r=T7(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}t.set(null)},T7=e=>e.dom.get("mcepastebin"),L9=e=>Fe(e)&&e.id==="mcepastebin",I9=e=>{const t=e.dom,o=(d,g)=>{d.appendChild(g),t.remove(g,!0)},[r,...a]=Xe(e.getBody().childNodes,L9);Te(a,d=>{o(r,d)});const c=t.select("div[id=mcepastebin]",r);for(let d=c.length-1;d>=0;d--){const g=t.create("div");r.insertBefore(g,c[d]),o(g,c[d])}return r?r.innerHTML:""},CP=e=>e===wP,F9=e=>{const t=hs(null);return{create:()=>B9(e,t),remove:()=>P9(e,t),getEl:()=>T7(e),getHtml:()=>I9(e),getLastRng:t.get}},SP=(e,t)=>(ft.each(t,o=>{uo(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),H9=e=>{const t=zc(),o=Ry({},t);let r="";const a=t.getVoidElements(),c=ft.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),g=v=>{const z=v.name,M=v;if(z==="br"){r+=`
`;return}if(z!=="wbr"){if(a[z]&&(r+=" "),c[z]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in t.getVoidElements())){let P=v.firstChild;if(P)do g(P);while(P=P.next)}d[z]&&M.next&&(r+=`
`,z==="p"&&(r+=`
`))}};return e=SP(e,[/<!\[[^\]]+\]>/g]),g(o.parse(e)),r},EP=e=>(e=SP(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":oa],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),$9=e=>{let t=0;return()=>e+t++},V9=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ft.hasOwn(o,t)?"image/"+o[t]:"image/"+t},j9=(e,t)=>{const o=Ry({sanitize:bE(e),sandbox_iframes:rw(e),sandbox_iframes_exclusions:Qv(e),convert_unsafe_embeds:_E(e)},e.schema);o.addNodeFilter("meta",a=>{ft.each(a,c=>{c.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return bp({validate:!0},e.schema).serialize(r)},zP=(e,t)=>({content:e,cancelled:t}),U9=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),a=wx(e,r,o);return zP(a.node.innerHTML,a.isDefaultPrevented())},Z9=(e,t,o)=>{const r=d0(e,t,o),a=j9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?U9(e,a,o):zP(a,r.isDefaultPrevented())},W9=(e,t,o)=>Z9(e,t,o),O7=(e,t)=>(e.insertContent(t,{merge:rR(e),paste:!0}),!0),A7=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),q9=(e,t)=>A7(t)&&Sn(nw(e),o=>Ui(t.toLowerCase(),`.${o.toLowerCase()}`)),G9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),K9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),Y9=(e,t,o)=>!e.selection.isCollapsed()&&A7(t)?K9(e,t,o):!1,X9=(e,t,o)=>q9(e,t)?G9(e,t,o):!1,J9=(e,t)=>{ft.each([Y9,X9,O7],o=>!o(e,t,O7))},Q9=(e,t,o)=>{o||!Sh(e)?O7(e,t):J9(e,t)},e$=$9("mceclip"),t$=e=>{const t=E7();return xP(t,e),S7(t),t},TP=(e,t,o,r,a)=>{const c=W9(e,t,o);if(!c.cancelled){const d=c.content,g=()=>Q9(e,d,r);a?fN(e,"insertFromPaste",{dataTransfer:t$(d)}).isDefaultPrevented()||(g(),L4(e,"insertFromPaste")):g()}},kN=(e,t,o,r)=>{const a=o||_P(t);TP(e,N9(t),a,!1,r)},N7=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),a=Hm(r,pE(e)),c=M9(a,Li(e),M1(e));TP(e,c,!1,!0,o)},OP=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Ky=(e,t)=>t in e&&e[t].length>0,AP=e=>Ky(e,"text/html")||Ky(e,"text/plain"),o$=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Fe(o)?e.dom.encode(o[1]):void 0},n$=(e,t,o,r)=>{const a=e$(),c=dp(e)&&Fe(o.name),d=c?o$(e,o.name):a,g=c?o.name:void 0,v=t.create(a,o,r,d,g);return t.add(v),v},r$=(e,t)=>{Bk(t.uri).each(({data:o,type:r,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,r),z=v??n$(e,g,d,c);kN(e,`<img src="${z.blobUri()}">`,!1,!0)})},s$=e=>e.type==="paste",a$=e=>Promise.all(Ko(e,t=>UT(t).then(o=>({file:t,uri:o})))),i$=e=>{const t=nw(e);return o=>sr(o.type,"image/")&&Sn(t,r=>V9(r)===o.type)},l$=(e,t)=>{const o=t.items?Tn(Vo(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=t.files?Vo(t.files):[];return Xe(o.length>0?o:r,i$(e))},NP=(e,t,o)=>{const r=s$(t)?t.clipboardData:t.dataTransfer;if(am(e)&&r){const a=l$(e,r);if(a.length>0)return t.preventDefault(),a$(a).then(c=>{o&&e.selection.setRng(o),Te(c,d=>{r$(e,d)})}),!0}return!1},c$=e=>{var t,o;return Mo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},d$=e=>Ct.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,R7=(e,t,o,r,a)=>{let c=EP(o);const d=Ky(t,xN())||_P(o),g=!d&&R9(c),v=A7(c);(CP(c)||!c.length||g&&!v)&&(r=!0),(r||v)&&(Ky(t,"text/plain")&&g?c=t["text/plain"]:c=H9(c)),!CP(c)&&(r?N7(e,c,a):kN(e,c,d,a))},u$=(e,t,o)=>{let r;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{d$(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||c$(c))return;const d=o.get()==="text"||r;r=!1;const g=OP(c.clipboardData);!AP(g)&&NP(e,c,a())||(Ky(g,"text/html")?(c.preventDefault(),R7(e,g,g["text/html"],d,!0)):Ky(g,"text/plain")&&Ky(g,"text/uri-list")?(c.preventDefault(),R7(e,g,g["text/plain"],d,!0)):(t.create(),Pc.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),R7(e,g,v,d,!1)},0)))})},f$=e=>{const t=a=>sr(a,"webkit-fake-url"),o=a=>sr(a,"data:"),r=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!am(e)&&r(d))for(const g of a){const v=g.attr("src");Tt(v)&&!g.attr("data-mce-object")&&v!==Mo.transparentSrc&&(t(v)||!sR(e)&&o(v))&&g.remove()}})},m$=(e,t,o)=>{u$(e,t,o),f$(e)},p$=(e,t)=>{t.get()==="text"?(t.set("html"),Cx(e,!1)):(t.set("text"),Cx(e,!0)),e.focus()},g$=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{p$(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&kN(e,r.html,r.internal,!1),r.text&&N7(e,r.text,!1)})},h$=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(xN(),t),!0}catch{return!1}else return!1},RP=(e,t,o,r)=>{h$(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},DP=e=>(t,o)=>{const{dom:r,selection:a}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),r.add(e.getBody(),c);const g=a.getRng();d.focus();const v=r.createRng();v.selectNodeContents(d),a.setRng(v),Pc.setEditorTimeout(e,()=>{a.setRng(g),r.remove(c),o()},0)},MP=e=>({html:A9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),b$=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),BP=e=>!e.selection.isCollapsed()||b$(e),y$=e=>t=>{!t.isDefaultPrevented()&&BP(e)&&e.selection.isEditable()&&RP(t,MP(e),DP(e),()=>{if(Mo.browser.isChromium()||Mo.browser.isFirefox()){const o=e.selection.getRng();Pc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},v$=e=>t=>{!t.isDefaultPrevented()&&BP(e)&&RP(t,MP(e),DP(e),Qe)},x$=e=>{e.on("cut",y$(e)),e.on("copy",v$(e))},PP=(e,t)=>{var o,r;return fg.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},k$=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},LP=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},_$=e=>Sn(e.files,t=>/^image\//.test(t.type)),w$=(e,t,o,r)=>{const a=e.getParent(o,d=>Cc(t,d));if(!ht(e.getParent(o,"summary")))return!0;if(a&&mo(r,"text/html")){const d=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ht(d.querySelector(a.nodeName.toLowerCase()))}else return!1},C$=e=>{e.on("input",t=>{const o=r=>ht(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Xe(e.dom.select("details"),o);Te(r,a=>{zr(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(xu().dom),a.prepend(c)})}})},S$=(e,t)=>{uf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),am(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&_$(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=PP(e,o);if(Lo(r))return;const a=OP(o.dataTransfer),c=Ky(a,xN());if((!AP(a)||k$(a))&&NP(e,o,r))return;const d=a[xN()],g=d||a["text/html"]||a["text/plain"],v=w$(e.dom,e.schema,r.startContainer,a),z=t.get();z&&!v||g&&(o.preventDefault(),Pc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||z&&v)&&e.execCommand("Delete"),LP(e,r);const M=EP(g);a["text/html"]?kN(e,M,c,!0):N7(e,M,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{am(e)&&!t.get()&&(o.preventDefault(),LP(e,PP(e,o))),o.type==="dragend"&&t.set(!1)}),C$(e)},E$=e=>{const t=a=>c=>{a(e,c)},o=nR(e);Pt(o)&&e.on("PastePreProcess",t(o));const r=I1(e);Pt(r)&&e.on("PastePostProcess",t(r))},z$=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},T$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,IP=e=>ft.trim(e).replace(T$,Xg).toLowerCase(),O$=(e,t,o)=>{const r=mE(e);if(o||r==="all"||!Q_(e))return t;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,z,M)=>{const P=c.parseStyle(c.decode(z)),I={};for(let oe=0;oe<a.length;oe++){const Y=P[a[oe]];let re=Y,ge=c.getStyle(d,a[oe],!0);/color/.test(a[oe])&&(re=IP(re),ge=IP(ge)),ge!==re&&(I[a[oe]]=Y)}const K=c.serializeStyle(I,"span");return K?v+' style="'+K+'"'+M:v+M})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,g,v)=>d+' style="'+g+'"'+v),t},A$=e=>{(Mo.browser.isChromium()||Mo.browser.isSafari())&&z$(e,O$)},N$=e=>{const t=hs(!1),o=hs(Eh(e)?"text":"html"),r=F9(e);A$(e),g$(e,o),E$(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{x$(e),S$(e,t),m$(e,r,o)})},R$=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},D$=e=>{e.parser.addNodeFilter("details",t=>{const o=Jv(e);Te(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=kE(e);Te(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},M$=e=>{R$(e),D$(e)},B$=zr,FP=it,P$=e=>_o(e.dom),L$=e=>zl(e.dom),HP=e=>t=>on(de.fromDom(e),t),I$=(e,t,o)=>us(de.fromDom(e),r=>L$(r)||o.isBlock(rn(r)),HP(t)).getOr(de.fromDom(t)).dom,$P=(e,t)=>us(de.fromDom(e),P$,HP(t)),VP=(e,t,o)=>{const r=new Oa(e,t),a=o?r.next.bind(r):r.prev.bind(r);let c=e;for(let d=o?e:a();d&&!B$(d);d=a())Qc(d)&&(c=d);return c},F$=(e,t,o)=>{const a=De.fromRangeStart(e).getNode(),c=I$(a,t,o),d=VP(a,c,!1),g=VP(a,c,!0),v=document.createRange();return $P(d,c).fold(()=>{FP(d)?v.setStart(d,0):v.setStartBefore(d)},z=>v.setStartBefore(z.dom)),$P(g,c).fold(()=>{FP(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},z=>v.setEndAfter(z.dom)),v},H$=e=>{const t=F$(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(mk(t))},$$=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),H$(e))})};var k_;(function(e){e.Before="before",e.After="after"})(k_||(k_={}));const V$=(e,t)=>Math.abs(e.left-t),j$=(e,t)=>Math.abs(e.right-t),U$=(e,t)=>e>=t.top&&e<=t.bottom,Z$=(e,t)=>e.top<t.bottom&&e.bottom>t.top,W$=(e,t)=>{const o=w1(e,t)/Math.min(e.height,t.height);return Z$(e,t)&&o>.5},q$=(e,t)=>{const o=Xe(e,r=>U$(t,r));return Yp(o).fold(()=>[[],e],r=>{const{pass:a,fail:c}=tt(e,d=>W$(d,r));return[a,c]})},G$=(e,t)=>({node:e.node,position:V$(e,t)<j$(e,t)?k_.Before:k_.After}),K$=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),D7=(e,t,o,r)=>{const a=P=>Qc(P.node)?H.some(P):It(P.node)?D7(Vo(P.node.childNodes),t,o,!1):H.none(),c=(P,I,K)=>a(I).filter(oe=>Math.abs(K(P,t,o)-K(oe,t,o))<2&&it(oe.node)),d=(P,I)=>{const K=Yo(P,(oe,Y)=>I(oe,t,o)-I(Y,t,o));return Hs(K,a).map(oe=>r&&!it(oe.node)&&K.length>1?c(oe,K[1],I).getOr(oe):oe)},[g,v]=q$(R5(e),o),{pass:z,fail:M}=tt(v,P=>P.top<o);return d(g,K$).orThunk(()=>d(M,Ub)).orThunk(()=>d(z,Ub))},Y$=(e,t,o,r)=>{const a=(c,d)=>{const g=z=>It(z)&&z.classList.contains("mce-drag-container"),v=Xe(c.dom.childNodes,et(g));return d.fold(()=>D7(v,o,r,!0),z=>{const M=Xe(v,P=>P!==z.dom);return D7(M,o,r,!0)}).orThunk(()=>(on(c,e)?H.none():wd(c)).bind(M=>a(M,H.some(c))))};return a(t,H.none())},X$=(e,t,o)=>{const r=de.fromDom(e),a=al(r),d=de.fromPoint(a,t,o).filter(g=>pa(r,g)).getOr(r);return Y$(r,d,t,o)},jP=(e,t,o)=>X$(e,t,o).filter(r=>V1(r.node)).map(r=>G$(r,t)),UP=e=>{var t,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:r.top+((t=d==null?void 0:d.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((o=d==null?void 0:d.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},J$=e=>e.inline?UP(e.getBody()):{left:0,top:0},Q$=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},eV=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:a},tV=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=UP(e.getContentAreaContainer()),r=eV(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},oV=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),nV=(e,t)=>oV(J$(e),Q$(e),tV(e,t)),ZP=e=>({target:e,srcElement:e}),rV=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...ZP(o)}),sV=(e,t,o)=>{const r=St("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Qe,stopImmediatePropagation:Qe,stopPropagation:Qe,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...ZP(t)}},aV=(e,t)=>{const o=T9(e);return t==="dragstart"?(gP(o),bP(o)):t==="drop"?(v9(o),S7(o)):(x9(o),C9(o)),o},iV=(e,t,o,r)=>{const a=aV(o,e);return gr(r)?sV(e,t,a):rV(e,r,t,a)},_N=32,lV=100,wN=8,CN=16,WP=_o,cV=E1(WP,zl),dV=(e,t,o)=>WP(o)&&o!==t&&e.isEditable(o.parentElement),uV=(e,t,o)=>Lo(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),fV=(e,t,o,r)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:r}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},mV=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},SN=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},qP=SN("left",-_N),GP=SN("left",_N),KP=SN("top",-_N),YP=SN("top",_N),pV=(e,t,o,r,a,c,d,g,v,z,M,P)=>{let I=0,K=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(I=t.pageX+o-a),t.pageY+r>c&&(K=t.pageY+r-c),e.style.width=o-I+"px",e.style.height=r-K+"px";const oe=v.clientHeight,Y=v.clientWidth,re=d+v.getBoundingClientRect().top,ge=g+v.getBoundingClientRect().left;M.on(ke=>{ke.intervalId.clear(),ke.dragging&&P&&(d+wN>=oe?ke.intervalId.set(YP(z)):d-wN<=0?ke.intervalId.set(KP(z)):g+wN>=Y?ke.intervalId.set(GP(z)):g-wN<=0?ke.intervalId.set(qP(z)):re+CN>=window.innerHeight?ke.intervalId.set(YP(window)):re-CN<=0?ke.intervalId.set(KP(window)):ge+CN>=window.innerWidth?ke.intervalId.set(GP(window)):ge-CN<=0&&ke.intervalId.set(qP(window)))})},XP=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},gV=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);XP(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Ac(de.fromDom(o))},hV=e=>e.button===0,bV=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),yV=(e,t)=>o=>{if(hV(o)){const r=En(t.dom.getParents(o.target),cV).getOr(null);if(Fe(r)&&dV(t.dom,t.getBody(),r)){const a=t.dom.getPos(r),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:r,dataTransfer:E7(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:fV(t,r,r.offsetWidth,r.offsetHeight),intervalId:Ol(lV)})}}},vV=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),jP(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===k_.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},$4=(e,t,o,r,a)=>{t==="dragstart"&&xP(r,e.dom.getOuterHTML(o));const c=iV(t,o,r,a);return e.dispatch(t,c)},xV=(e,t)=>{const o=tp((a,c)=>vV(t,a,c),0);t.on("remove",o.cancel);const r=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const g=$4(t,"dragstart",c.element,c.dataTransfer,a);if(Fe(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,v=bV(c,nV(t,a));mV(c.ghost,t.getBody()),pV(c.ghost,v,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),r,g),o.throttle(a.clientX,a.clientY)}})},kV=e=>{const t=e.getSel();if(Fe(t)){const r=t.getRangeAt(0).startContainer;return it(r)?r.parentNode:r}else return null},_V=(e,t)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(uV(t,kV(t.selection),r.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();$4(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{gV(t.dom,r.element),O9(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}$4(t,"dragend",t.getBody(),r.dataTransfer,o)}}),QP(e)},JP=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>$4(t,"dragend",r.element,r.dataTransfer),a=>$4(t,"dragend",r.element,r.dataTransfer,a))}),QP(e)},wV=(e,t)=>o=>JP(e,t,H.some(o)),QP=e=>{e.on(t=>{t.intervalId.clear(),XP(t.ghost)}),e.clear()},CV=e=>{const t=Us(),o=fr.DOM,r=document,a=yV(t,e),c=xV(t,e),d=_V(t,e),g=wV(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(r,"mousemove",c),o.bind(r,"mouseup",g),e.on("remove",()=>{o.unbind(r,"mousemove",c),o.unbind(r,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===Ct.ESC&&JP(t,e,H.none())})},SV=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(tn(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&t_(e,"Dropped file type is not supported"))}},o=a=>{Px(e,a.target)&&t(a)},r=()=>{const a=fr.DOM,c=e.dom,d=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];Te(v,z=>{a.bind(d,z,o),c.bind(g,z,t)}),e.on("remove",()=>{Te(v,z=>{a.unbind(d,z,o),c.unbind(g,z,t)})})};e.on("init",()=>{Pc.setEditorTimeout(e,r,0)})},EV=e=>{CV(e),Yv(e)&&SV(e)},zV=e=>{const t=tp(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=s_(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},TV=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Le(o)){const r=Ud(e.getBody(),o),a=_o(r)?r:o;e.selection.getNode()!==a&&cv(e,a).each(c=>e.selection.setRng(c))}})})},V4=_o,eL=(e,t)=>Ud(e.getBody(),t),OV=e=>{const t=e.selection,o=e.dom,r=e.getBody(),a=OE(e,r,o.isBlock,()=>gy(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let g;const v=Ot=>Fe(Ot)&&o.hasClass(Ot,"mce-offscreen-selection"),z=Ot=>Ot!==r&&(V4(Ot)||Le(Ot))&&o.isChildOf(Ot,r)&&o.isEditable(Ot.parentNode),M=Ot=>{Ot&&t.setRng(Ot)},P=(Ot,He,Ne,Ke=!0)=>e.dispatch("ShowCaret",{target:He,direction:Ot,before:Ne}).isDefaultPrevented()?null:(Ke&&t.scrollIntoView(He,Ot===-1),a.show(Ne,He)),I=Ot=>{Ot.hasAttribute("data-mce-caret")&&(sp(Ot),t.scrollIntoView(Ot))},K=()=>{e.on("click",He=>{o.isEditable(He.target)||(He.preventDefault(),e.focus())}),e.on("blur NewBlock",ze),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",He=>{const Ne=He.target,Ke=eL(e,Ne);V4(Ke)?(He.preventDefault(),cv(e,Ke).each(ve)):z(Ne)&&cv(e,Ne).each(ve)},!0),e.on("mousedown",He=>{const Ne=He.target;if(Ne!==r&&Ne.nodeName!=="HTML"&&!o.isChildOf(Ne,r)||!FM(e,He.clientX,He.clientY))return;ze(),gt();const Ke=eL(e,Ne);V4(Ke)?(He.preventDefault(),cv(e,Ke).each(ve)):jP(r,He.clientX,He.clientY).each(Mt=>{He.preventDefault();const Yt=P(1,Mt.node,Mt.position===k_.Before,!1);M(Yt),Gl(Ke)?Ke.focus():e.getBody().focus()})}),e.on("keypress",He=>{Ct.modifierPressed(He)||V4(t.getNode())&&He.preventDefault()}),e.on("GetSelectionRange",He=>{let Ne=He.range;if(g){if(!g.parentNode){g=null;return}Ne=Ne.cloneRange(),Ne.selectNode(g),He.range=Ne}}),e.on("SetSelectionRange",He=>{He.range=re(He.range);const Ne=ve(He.range,He.forward);Ne&&(He.range=Ne)});const Ot=He=>It(He)&&He.id==="mcepastebin";e.on("AfterSetSelectionRange",He=>{const Ne=He.range,Ke=Ne.startContainer.parentElement;!Y(Ne)&&!Ot(Ke)&&gt(),v(Ke)||ze()}),EV(e),zV(e),TV(e)},oe=Ot=>Al(Ot)||mh(Ot)||_u(Ot),Y=Ot=>oe(Ot.startContainer)||oe(Ot.endContainer),re=Ot=>{const He=e.schema.getVoidElements(),Ne=o.createRng(),Ke=Ot.startContainer,Mt=Ot.startOffset,Yt=Ot.endContainer,qo=Ot.endOffset;return mo(He,Ke.nodeName.toLowerCase())?Mt===0?Ne.setStartBefore(Ke):Ne.setStartAfter(Ke):Ne.setStart(Ke,Mt),mo(He,Yt.nodeName.toLowerCase())?qo===0?Ne.setEndBefore(Yt):Ne.setEndAfter(Yt):Ne.setEnd(Yt,qo),Ne},ge=(Ot,He)=>{const Ne=de.fromDom(e.getBody()),Ke=e.getDoc(),Mt=Ue(Ne,"#"+c).getOrThunk(()=>{const nn=de.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ke);return ws(nn,"id",c),ts(Ne,nn),nn}),Yt=o.createRng();ir(Mt),fs(Mt,[de.fromText(oa,Ke),de.fromDom(He),de.fromText(oa,Ke)]),Yt.setStart(Mt.dom.firstChild,1),Yt.setEnd(Mt.dom.lastChild,0),Xo(Mt,{top:o.getPos(Ot,e.getBody()).y+"px"}),Ww(Mt);const qo=t.getSel();return qo&&(qo.removeAllRanges(),qo.addRange(Yt)),Yt},ke=Ot=>{const He=Ot.cloneNode(!0),Ne=e.dispatch("ObjectSelected",{target:Ot,targetClone:He});if(Ne.isDefaultPrevented())return null;const Ke=ge(Ot,Ne.targetClone),Mt=de.fromDom(Ot);return Te(Cs(de.fromDom(e.getBody()),`*[${d}]`),Yt=>{on(Mt,Yt)||$o(Yt,d)}),o.getAttrib(Ot,d)||Ot.setAttribute(d,"1"),g=Ot,gt(),Ke},ve=(Ot,He)=>{if(!Ot)return null;if(Ot.collapsed){if(!Y(Ot)){const Yt=He?1:-1,qo=W1(Yt,r,Ot),nn=qo.getNode(!He);if(Fe(nn)){if(V1(nn))return P(Yt,nn,He?!qo.isAtEnd():!1,!1);if(em(nn)&&_o(nn.nextSibling)){const or=o.createRng();return or.setStart(nn,0),or.setEnd(nn,0),or}}const Wn=qo.getNode(He);if(Fe(Wn)){if(V1(Wn))return P(Yt,Wn,He?!1:!qo.isAtEnd(),!1);if(em(Wn)&&_o(Wn.previousSibling)){const or=o.createRng();return or.setStart(Wn,1),or.setEnd(Wn,1),or}}}return null}let Ne=Ot.startContainer,Ke=Ot.startOffset;const Mt=Ot.endOffset;if(it(Ne)&&Ke===0&&V4(Ne.parentNode)&&(Ne=Ne.parentNode,Ke=o.nodeIndex(Ne),Ne=Ne.parentNode),!It(Ne))return null;if(Mt===Ke+1&&Ne===Ot.endContainer){const Yt=Ne.childNodes[Ke];if(z(Yt))return ke(Yt)}return null},ze=()=>{g&&g.removeAttribute(d),Ue(de.fromDom(e.getBody()),"#"+c).each(Mn),g=null},Je=()=>{a.destroy(),g=null},gt=()=>{a.hide()};return wm(e)||K(),{showCaret:P,showBlockCaretContainer:I,hideFakeCaret:gt,destroy:Je}},AV=(e,t)=>{let o=t;for(let r=e.previousSibling;it(r);r=r.previousSibling)o+=r.data.length;return o},tL=(e,t,o,r,a)=>{if(it(o)&&(r<0||r>o.data.length))return[];const c=a&&it(o)?[AV(o,r)]:[r];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},M7=(e,t,o,r,a,c,d=!1)=>{const g=tL(e,t,o,r,d),v=tL(e,t,a,c,d);return{start:g,end:v}},oL=(e,t)=>{const o=t.slice(),r=o.pop();return O(r)?ao(o,(c,d)=>c.bind(g=>H.from(g.childNodes[d])),H.some(e)).bind(c=>it(c)&&(r<0||r>c.data.length)?H.none():H.some({node:c,offset:r})):H.none()},nL=(e,t)=>oL(e,t.start).bind(({node:o,offset:r})=>oL(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,r),d.setEnd(a,c),d})),NV=(e,t,o,r=!1)=>M7(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),__=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,it(t.firstChild)&&Di(t.firstChild.data)),__(e,r,o)}},EN=(e,t,o,r=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(it(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),it(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),__(e,a,o),a!==c&&__(e,c,o))},zN=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),B7=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:li(r).concat(e.blockPatterns),inlinePatterns:Bd(r).concat(e.inlinePatterns)}},P7=(e,t,o,r)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,r),a.toString()},rL=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),TN=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},sL=(e,t,o)=>{const r=nL(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,c=r.endContainer,d=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?a:a.splitText(r.startOffset),v=g.parentNode,z=d.parentNode;return{prefix:t,end:z.insertBefore(rL(e,t+"-end"),d),start:v.insertBefore(rL(e,t+"-start"),g)}},aL=(e,t,o)=>{__(e,e.get(t.prefix+"-end"),o),__(e,e.get(t.prefix+"-start"),o)},L7=e=>e.start.length===0,RV=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},iL=(e,t,o,r)=>{const a=t.start;return s7(e,r.container,r.offset,RV(a),o).bind(d=>{var g,v;const z=(v=(g=o.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&v!==void 0?v:-1;if(z!==-1&&d.offset>=z+a.length){const P=e.createRng();return P.setStart(d.container,d.offset-a.length),P.setEnd(d.container,d.offset),H.some(P)}else{const P=d.offset-a.length;return r7(d.container,P,o).map(I=>{const K=e.createRng();return K.setStart(I.container,I.offset),K.setEnd(d.container,d.offset),K}).filter(I=>I.toString()===a).orThunk(()=>iL(e,t,o,Np(d.container,0)))}})},DV=(e,t,o,r,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,r),d.setEnd(o,r),H.some(d)}return n7(o,r,a).bind(d=>iL(e,t,a,d).bind(v=>{var z;if(c){if(v.endContainer===d.container&&v.endOffset===d.offset)return H.none();if(d.offset===0&&((z=v.endContainer.textContent)===null||z===void 0?void 0:z.length)===v.endOffset)return H.none()}return H.some(v)}))},MV=(e,t,o,r)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,g=o.position.container,v=o.position.offset;return r7(g,v-o.pattern.end.length,t).bind(z=>{const M=M7(a,c,z.container,z.offset,g,v,r);if(L7(d))return H.some({matches:[{pattern:d,startRng:M,endRng:M}],position:z});{const P=ON(e,o.remainingPatterns,z.container,z.offset,t,r),I=P.getOr({matches:[],position:z}),K=I.position;return DV(a,d,K.container,K.offset,t,P.isNone()).map(Y=>{const re=NV(a,c,Y,r);return{matches:I.matches.concat([{pattern:d,startRng:re,endRng:M}]),position:Np(Y.startContainer,Y.startOffset)}})}})},ON=(e,t,o,r,a,c)=>{const d=e.dom;return n7(o,r,d.getRoot()).bind(g=>{const v=P7(d,a,o,r);for(let z=0;z<t.length;z++){const M=t[z];if(!Ui(v,M.end))continue;const P=t.slice();P.splice(z,1);const I=MV(e,a,{pattern:M,remainingPatterns:P,position:g},c);if(I.isNone()&&r>0)return ON(e,t,o,r-1,a,c);if(I.isSome())return I}return H.none()})},lL=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Te(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},BV=(e,t,o,r)=>{const a=TN(e.dom,o);EN(e.dom,a,r),lL(e,t,a)},PV=(e,t,o,r,a)=>{const c=e.dom,d=TN(c,r),g=TN(c,o);EN(c,g,a),EN(c,d,a);const v={prefix:o.prefix,start:o.end,end:r.start},z=TN(c,v);lL(e,t,z)},LV=(e,t)=>{const o=ki("mce_textpattern"),r=Wt(t,(a,c)=>{const d=sL(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return Wt(r,(a,c)=>{const d=r.length-a.length-1,g=L7(c.pattern)?c.endMarker:sL(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},IV=e=>Yo(e,(t,o)=>o.end.length-t.end.length),FV=(e,t)=>{const o=Yr(e,r=>Sn(t,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},cL=(e,t,o,r,a,c)=>{const d=ON(e,a.inlinePatterns,o,r,t,c).fold(()=>[],v=>v.matches),g=ON(e,IV(a.inlinePatterns),o,r,t,c).fold(()=>[],v=>v.matches);return FV(d,g)},dL=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=LV(o,t);Te(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),g=v=>v===d;L7(c.pattern)?BV(e,c.pattern,c.endMarker,g):PV(e,c.pattern,c.startMarker,c.endMarker,g),aL(o,c.endMarker,g),aL(o,c.startMarker,g)}),e.selection.moveToBookmark(r)},uL=(e,t,o)=>TI(t,0,t).map(r=>{const a=r.container;return m8(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),EN(e,d,g=>g===t)}),a}),fL=e=>(t,o)=>{const r=t.dom,a=o.pattern,c=nL(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(g,v)=>{const z=v.get(g);return ye(z)&&ct(z).exists(M=>mo(M,"block"))};return zN(t,c).each(g=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,a),t.execCommand(a.cmd,!1,a.value)})}),!0},HV=e=>Yo(e,(t,o)=>o.start.length-t.start.length),mL=e=>(t,o)=>{const r=HV(t),a=o.replace(oa," ");return En(r,c=>e(c,o,a))},pL=(e,t)=>(o,r,a,c,d)=>{var g;d===void 0&&(d=(g=r.textContent)!==null&&g!==void 0?g:"");const v=o.dom,z=Li(o);return v.is(r,z)?e(a.blockPatterns,d).map(M=>t&&ft.trim(d).length===M.start.length?[]:[{pattern:M,range:M7(v,v.getRoot(),r,0,r,0,c)}]).getOr([]):[]},$V=e=>/^\s[^\s]/.test(e),VV=fL((e,t,o)=>{uL(e,t,o).each(r=>{const a=de.fromDom(r),c=Jf(a);$V(c)&&ah(a,c.slice(1))})}),jV=mL((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),UV=pL(jV,!0),ZV=(e,t)=>{const o=e.selection.getRng();return zN(e,o).map(r=>{var a;const c=Math.max(0,o.startOffset),d=B7(t,r,(a=r.textContent)!==null&&a!==void 0?a:""),g=cL(e,r,o.startContainer,c,d,!0),v=UV(e,r,d,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},WV=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Te(t,r=>VV(e,r)),e.selection.moveToBookmark(o)},qV=fL(uL),GV=mL((e,t,o)=>t===e.start||o===e.start),KV=pL(GV,!1),YV=(e,t)=>{const o=e.selection.getRng();return zN(e,o).map(r=>{const a=Math.max(0,o.startOffset),c=P7(e.dom,r,o.startContainer,a),d=B7(t,r,c);return KV(e,r,d,!1,c)}).filter(r=>r.length>0)},XV=(e,t)=>{Te(t,o=>qV(e,o))},JV=(e,t)=>ZV(e,t).fold(hn,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{P_(e),dL(e,o),WV(e,r);const a=e.selection.getRng(),c=n7(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const g=d.container;g.data.charAt(d.offset-1)===Wr&&(g.deleteData(d.offset-1,1),__(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),QV=(e,t)=>{const o=e.selection.getRng();zN(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),c=P7(e.dom,r,o.startContainer,a),d=B7(t,r,c),g=cL(e,r,o.startContainer,a,d,!1);g.length>0&&e.undoManager.transact(()=>{dL(e,g)})})},ej=(e,t)=>YV(e,t).fold(hn,o=>(e.undoManager.transact(()=>{XV(e,o)}),!0)),gL=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},tj=(e,t)=>gL(e,t,(o,r)=>o===r.keyCode&&!Ct.modifierPressed(r)),oj=(e,t)=>gL(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),nj=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>eg(aR(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),F1(e)),a=()=>ew(e);e.on("keydown",d=>{if(d.keyCode===13&&!Ct.modifierPressed(d)&&e.selection.isCollapsed()){const g=cf(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&JV(e,g)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()){const g=cf(r(),"space");(g.blockPatterns.length>0||a())&&ej(e,g)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()){const d=cf(r(),"space");(d.inlinePatterns.length>0||a())&&QV(e,d)}};e.on("keyup",d=>{tj(o,d)&&c()}),e.on("keypress",d=>{oj(t,d)&&Pc.setEditorTimeout(e,c)})},rj=e=>{nj(e)},sj=e=>{const t=ft.each,o=Ct.BACKSPACE,r=Ct.DELETE,a=e.dom,c=e.selection,d=e.parser,g=Mo.browser,v=g.isFirefox(),z=g.isChromium()||g.isSafari(),M=Mo.deviceType.isiPhone()||Mo.deviceType.isiPad(),P=Mo.os.isMacOS()||Mo.os.isiOS(),I=(_t,ro)=>{try{e.getDoc().execCommand(_t,!1,String(ro))}catch{}},K=_t=>_t.isDefaultPrevented(),oe=()=>{const _t=en=>{const zt=a.create("body"),Go=en.cloneContents();return zt.appendChild(Go),c.serializer.serialize(zt,{format:"html"})},ro=en=>{const zt=_t(en),Go=a.createRng();Go.selectNode(e.getBody());const sn=_t(Go);return zt===sn};e.on("keydown",en=>{const zt=en.keyCode;if(!K(en)&&(zt===r||zt===o)&&e.selection.isEditable()){const Go=e.selection.isCollapsed(),sn=e.getBody();if(Go&&!ll(e.schema,sn)||!Go&&!ro(e.selection.getRng()))return;en.preventDefault(),e.setContent(""),sn.firstChild&&a.isBlock(sn.firstChild)?e.selection.setCursorLocation(sn.firstChild,0):e.selection.setCursorLocation(sn,0),e.nodeChanged()}})},Y=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},re=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",_t=>{let ro;if(_t.target===e.getDoc().documentElement)if(ro=c.getRng(),e.getBody().focus(),_t.type==="mousedown"){if(Al(ro.startContainer))return;c.placeCaretAt(_t.clientX,_t.clientY)}else c.setRng(ro)})},ge=()=>{e.on("keydown",_t=>{if(!K(_t)&&_t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const ro=c.getNode(),en=ro.previousSibling;if(ro.nodeName==="HR"){a.remove(ro),_t.preventDefault();return}en&&en.nodeName&&en.nodeName.toLowerCase()==="hr"&&(a.remove(en),_t.preventDefault())}}})},ke=()=>{Range.prototype.getClientRects||e.on("mousedown",_t=>{if(!K(_t)&&_t.target.nodeName==="HTML"){const ro=e.getBody();ro.blur(),Pc.setEditorTimeout(e,()=>{ro.focus()})}})},ve=()=>{const _t=ny(e);e.on("click",ro=>{const en=ro.target;/^(IMG|HR)$/.test(en.nodeName)&&a.isEditable(en)&&(ro.preventDefault(),e.selection.select(en),e.nodeChanged()),en.nodeName==="A"&&a.hasClass(en,_t)&&en.childNodes.length===0&&a.isEditable(en.parentNode)&&(ro.preventDefault(),c.select(en))})},ze=()=>{const _t=()=>{const en=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const zt=c.getStart();zt!==e.getBody()&&(a.setAttrib(zt,"style",null),t(en,Go=>{zt.setAttributeNode(Go.cloneNode(!0))}))}},ro=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",en=>{let zt;return!K(en)&&(en.keyCode===8||en.keyCode===46)&&ro()?(zt=_t(),e.getDoc().execCommand("delete",!1),zt(),en.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",en=>{if(!K(en)&&ro()){const zt=_t();Pc.setEditorTimeout(e,()=>{zt()})}})},Je=()=>{e.on("keydown",_t=>{if(!K(_t)&&_t.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const ro=c.getNode().previousSibling;if(ro&&ro.nodeName&&ro.nodeName.toLowerCase()==="table")return _t.preventDefault(),!1}return!0})},gt=()=>{e.on("keydown",_t=>{if(K(_t)||_t.keyCode!==Ct.BACKSPACE)return;let ro=c.getRng();const en=ro.startContainer,zt=ro.startOffset,Go=a.getRoot();let sn=en;if(!(!ro.collapsed||zt!==0)){for(;sn.parentNode&&sn.parentNode.firstChild===sn&&sn.parentNode!==Go;)sn=sn.parentNode;sn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,sn),ro=a.createRng(),ro.setStart(en,0),ro.setEnd(en,0),c.setRng(ro))}})},Ot=()=>{const _t=()=>{I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),nE(e)||I("enableObjectResizing",!1)};uE(e)||e.on("BeforeExecCommand mousedown",_t)},He=()=>{const _t=()=>{t(a.select("a:not([data-mce-block])"),ro=>{var en;let zt=ro.parentNode;const Go=a.getRoot();if((zt==null?void 0:zt.lastChild)===ro){for(;zt&&!a.isBlock(zt);){if(((en=zt.parentNode)===null||en===void 0?void 0:en.lastChild)!==zt||zt===Go)return;zt=zt.parentNode}a.add(zt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ro=>{(ro.type==="setcontent"||ro.command==="mceInsertLink")&&_t()})},Ne=()=>{e.on("init",()=>{I("DefaultParagraphSeparator",Li(e))})},Ke=_t=>{const ro=_t.getBody(),en=_t.selection.getRng();return en.startContainer===en.endContainer&&en.startContainer===ro&&en.startOffset===0&&en.endOffset===ro.childNodes.length},Mt=()=>{e.on("keyup focusin mouseup",_t=>{!Ct.modifierPressed(_t)&&!Ke(e)&&c.normalize()},!0)},Yt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},qo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},nn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",_t=>{let ro;_t.target.nodeName==="HTML"&&(ro=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ro),e.selection.normalize(),e.nodeChanged())}))},Wn=()=>{P&&e.on("keydown",_t=>{Ct.metaKeyPressed(_t)&&!_t.shiftKey&&(_t.keyCode===37||_t.keyCode===39)&&(_t.preventDefault(),e.selection.getSel().modify("move",_t.keyCode===37?"backward":"forward","lineboundary"))})},or=()=>{e.on("click",_t=>{let ro=_t.target;do if(ro.tagName==="A"){_t.preventDefault();return}while(ro=ro.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ps=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",_t=>{_t.preventDefault()})})},ol=()=>{d.addNodeFilter("br",_t=>{let ro=_t.length;for(;ro--;)_t[ro].attr("class")==="Apple-interchange-newline"&&_t[ro].remove()})},pr=Qe,xt=()=>{if(!v||e.removed)return!1;const _t=e.selection.getSel();return!_t||!_t.rangeCount||_t.rangeCount===0},Gt=()=>{z&&(re(),ve(),Ps(),Y(),M&&(qo(),nn(),or())),v&&(ke(),Ot(),Yt(),Wn())},Ln=()=>{gt(),oe(),Mo.windowsPhone||Mt(),z&&(re(),ve(),Ne(),Ps(),Je(),ol(),M?(qo(),nn(),or()):Y()),v&&(ge(),ke(),ze(),Ot(),He(),Yt(),Wn(),Je())};return wm(e)?Gt():Ln(),{refreshContentEditable:pr,isHidden:xt}},aj=e=>e.toLowerCase()==="gpl",ij=e=>e.length>=64&&e.length<=255,lj=e=>aj(e)||ij(e)?"VALID":"INVALID",cj=e=>{const t=wE(e);!Tt(CE(e))&&(gr(t)||lj(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},I7=fr.DOM,dj=(e,t)=>{const o=de.fromDom(e.getBody()),r=su(Zl(o)),a=de.fromTag("style");ws(a,"type","text/css"),ts(a,de.fromText(t)),ts(r,a),e.on("remove",()=>{Mn(a)})},uj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,F7=e=>Oi(e,t=>gr(t)===!1),hL=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return F7({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:uj(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Qv(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},bL=e=>{const t=e.options.get;return F7({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},fj=e=>{const t=e.options.get;return{...hL(e),...bL(e),...F7({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},mj=e=>{const t=Ry(hL(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,c="data-mce-"+r;let d=o.length;for(;d--;){const g=o[d];let v=g.attr(r);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=a.serializeStyle(a.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(r,v)):r==="tabindex"?(g.attr(c,v),g.attr(r,null)):g.attr(c,e.convertURL(v,r,g.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),lR(e)&&t.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const c=o[r];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new ci("br",1))}}),t},pj=e=>{const t=tR(e);t&&Pc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},gj=e=>{const t=e.dom.getRoot();!e.inline&&(!ly(e)||e.selection.getStart(!0)===t)&&co(t).each(o=>{const r=o.getNode(),a=Kl(r)?co(r).getOr(o):o;e.selection.setRng(a.toRange())})},hj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,zs(e),e.focus(!0),gj(e),e.nodeChanged({initial:!0});const t=QN(e);Pt(t)&&t.call(e,e),pj(e)},H7=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,bj=(e,t,o)=>{const{pass:r,fail:a}=tt(t,g=>tinymce.Resource.has(VS(g))),d=[...r.map(g=>{const v=tinymce.Resource.get(VS(g));return Tt(v)?Promise.resolve(H7(e).loadRawCss(g,v)):Promise.resolve()}),H7(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},yL=e=>{const t=H7(e),o=oE(e),r=e.contentCSS,a=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let v="";ft.each(e.contentStyles,z=>{v+=z+`\r
`}),e.dom.addStyle(v)}const d=Promise.all(bj(e,r,o)).then(c).catch(c),g=ey(e);return g&&dj(e,g),d},yj=e=>{const t=e.getDoc(),o=e.getBody();AR(e),oR(e)||(t.body.spellcheck=!1,I7.setAttrib(o,"spellcheck","false")),e.quirks=sj(e),NR(e);const r=WN(e);r!==void 0&&(o.dir=r);const a=wn(e);a&&e.on("BeforeSetContent",c=>{ft.each(a,d=>{c.content=c.content.replace(d,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},vj=e=>{wm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},$7=e=>{e.removed!==!0&&(vj(e),hj(e))},xj=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},vL=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(I7.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=uE(e),e._editableRoot=$n(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&I7.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=US(e),e.schema=zc(bL(e)),e.dom=fr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:eE(e),referrerPolicy:B1(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=mj(e),e.serializer=eA(fj(e),e),e.selection=OS(e.dom,e.getWin(),e.serializer,e),e.annotator=g3(e),e.formatter=lv(e),e.undoManager=DA(e),e._nodeChangeDispatcher=new p9(e),e._selectionOverrides=OV(e),Io(e),M$(e),vv(e),wm(e)||($$(e),rj(e));const a=m9(e);Xt(e,a),xa(e),FA(e),N$(e);const c=PO(e);yj(e),cj(e),c.fold(()=>{const d=xj(e);yL(e).then(()=>{$7(e),d()})},d=>{e.setProgressState(!0),yL(e).then(()=>{d().then(g=>{e.setProgressState(!1),$7(e),jO(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),$7(e),jO(e)})})})},kj=wo,_j=(e,t,o)=>w(e,t,kj,o),V7=fr.DOM,wj=(e,t,o,r)=>{const a=de.fromTag("iframe");return r.each(c=>ws(a,"tabindex",c)),Pa(a,o),Pa(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Vl(a,"tox-edit-area__iframe"),a},Cj=e=>{let t=wu(e)+"<html><head>";od(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Kv(e),r=$_(e),a=e.translate(L1(e));return G4(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+G4(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},Sj=(e,t)=>{const o=Mo.browser.isFirefox()?L1(e):"Rich Text Area",r=e.translate(o),a=gs(de.fromDom(e.getElement()),"tabindex").bind(Ns),c=wj(e.id,r,Ji(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=Cj(e),V7.add(t.iframeContainer,c)},Ej=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,vL(e)};if(yE(e)||Mo.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=_j(de.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},zj=(e,t)=>{Sj(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=V7.isHidden(t.editorContainer)),e.getElement().style.display="none",V7.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Ej(e)},xL=fr.DOM,Tj=(e,t,o)=>{const r=rb.get(o),a=rb.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ft.trim(o),r&&ft.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=r(e,a)||{};e.plugins[o]=c,Pt(c.init)&&(c.init(e,a),t.push(o))}catch(c){jM(e,o,c)}}},Oj=e=>e.replace(/^\-/,""),Aj=e=>{const t=[];Te(Cu(e),o=>{Tj(e,t,Oj(o))})},Nj=e=>{const t=ft.trim(W_(e)),o=e.ui.registry.getAll().icons,r={...nv.get("default").icons,...nv.get(t).icons};Fo(r,(a,c)=>{mo(o,c)||e.ui.registry.addIcon(c,a)})},Rj=e=>{const t=ty(e);if(Tt(t)){const o=Ng.get(t);e.theme=o(e,Ng.urls[t])||{},Pt(e.theme.init)&&e.theme.init(e,Ng.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Dj=e=>{const t=P1(e),o=Ag.get(t);e.model=o(e,Ag.urls[t])},Mj=e=>{const t=e.theme.renderUI;return t?t():_L(e)},Bj=e=>{const t=e.getElement(),r=ty(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},kL=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Pj=e=>{const t=xL.create("div");return xL.insertAfter(t,e),kL(t,t)},_L=e=>{const t=e.getElement();return e.inline?kL(null):Pj(t)},Lj=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Tt(ty(e))?Mj(e):Pt(ty(e))?Bj(e):_L(e)},Ij=(e,t)=>{const o={show:H.from(t.show).getOr(Qe),hide:H.from(t.hide).getOr(Qe),isEnabled:H.from(t.isEnabled).getOr(wo),setEnabled:r=>{e.mode.isReadOnly()||H.from(t.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...o}},Fj=async e=>{e.dispatch("ScriptsLoaded"),Nj(e),Rj(e),Dj(e),Aj(e);const t=await Lj(e);Ij(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,xA(e),e.inline?vL(e):zj(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Cv=fr.DOM,wL=e=>e.charAt(0)==="-",Hj=(e,t)=>{const o=K_(t),r=ZN(t);if(!Tc.hasCode(o)&&o!=="en"){const a=bn(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{$M(t,a,o)})}},$j=(e,t)=>{const o=ty(e);if(Tt(o)&&!wL(o)&&!mo(Ng.urls,o)){const r=GN(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Ng.load(o,a).catch(()=>{yA(e,a,o)})}},Vj=(e,t)=>{const o=P1(e);if(o!=="plugin"&&!mo(Ag.urls,o)){const r=X_(e),a=Tt(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Ag.load(o,a).catch(()=>{VM(e,a,o)})}},jj=e=>H.from(J4(e)).filter(bn).map(t=>({url:t,name:H.none()})),CL=(e,t,o)=>H.from(t).filter(r=>bn(r)&&!nv.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:H.some(r)})),Uj=(e,t,o)=>{const r=CL(t,"default",o),a=jj(t).orThunk(()=>CL(t,W_(t),""));Te(Ef([r,a]),c=>{e.add(c.url).catch(()=>{HS(t,c.url,c.name.getOrUndefined())})})},Zj=(e,t)=>{const o=(r,a)=>{rb.load(r,a).catch(()=>{FS(e,a,r)})};Fo(sm(e),(r,a)=>{o(a,r),e.options.set("plugins",Cu(e).concat(a))}),Te(Cu(e),r=>{r=ft.trim(r),r&&!rb.urls[r]&&!wL(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},Wj=e=>{const t=ty(e);return!Tt(t)||Fe(Ng.get(t))},qj=e=>{const t=P1(e);return Fe(Ag.get(t))},Gj=(e,t)=>{const o=Ki.ScriptLoader,r=()=>{!e.removed&&Wj(e)&&qj(e)&&Fj(e)};$j(e,t),Vj(e,t),Hj(o,e),Uj(o,e,t),Zj(e,t),o.loadQueue().then(r,r)},Kj=(e,t)=>Mr.forElement(e,{contentCssCors:fE(t),referrerPolicy:B1(t)}),Yj=e=>{const t=e.id;Tc.setCode(K_(e));const o=()=>{Cv.unbind(window,"ready",o),e.render()};if(!Yu.Event.domLoaded){Cv.bind(window,"ready",o);return}if(!e.getElement())return;const r=de.fromDom(e.getElement()),a=La(r);e.on("remove",()=>{yt(r.dom.attributes,d=>$o(r,d.name)),Pa(r,a)}),e.ui.styleSheetLoader=Kj(r,e),Ch(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||Cv.getParent(t,"form");c&&(e.formElement=c,J_(e)&&!If(e.getElement())&&(Cv.insertAfter(Cv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},Cv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),iE(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=hA(e),e.notificationManager=IS(e),vE(e)&&e.on("GetContent",d=>{d.save&&(d.content=Cv.encode(d.content))}),lE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),cE(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Gj(e,e.suffix)},Xj=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),MR(e,t))},Jj=e=>e._editableRoot,Qj=(e,t)=>({sections:$e(e),options:$e(t)}),SL=rt().deviceType,EL=SL.isPhone(),eU=SL.isTablet(),j4=e=>{if(Lo(e))return[];{const t=ye(e)?e:e.split(/[ ,]/),o=Ko(t,ls);return Xe(o,bn)}},tU=(e,t)=>{const o=nl(t,(r,a)=>tn(e,a));return Qj(o.t,o.f)},oU=(e,t,o={})=>{const r=e.sections(),a=Nn(r,t).getOr({});return ft.extend({},o,a)},j7=(e,t)=>mo(e.sections(),t),nU=(e,t)=>j7(e,t)?e.sections()[t]:{},rU=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Nn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),sU=(e,t)=>{var o;const r=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?ft.extend({},e.external_plugins,r):r},aU=(e,t)=>[...j4(e),...j4(t)],iU=(e,t,o,r)=>e&&j7(t,"mobile")?r:o,lU=(e,t,o,r)=>{const a=j4(o.forced_plugins),c=j4(r.plugins),d=nU(t,"mobile"),g=d.plugins?j4(d.plugins):c,v=iU(e,t,c,g),z=aU(a,v);return ft.extend(r,{forced_plugins:a,plugins:z})},cU=(e,t)=>e&&j7(t,"mobile"),dU=(e,t,o,r,a)=>{var c;const d=e?{mobile:rU((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=tU(["mobile"],iN(d,a)),v=ft.extend(o,r,g.options(),cU(e,g)?oU(g,"mobile"):{},{external_plugins:sU(r,g.options())});return lU(e,g,r,v)},uU=(e,t)=>{const o=k8(t);return dU(EL||eU,EL,o,e,o)},fU=(e,t)=>VO(e,t),mU=e=>{const t=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{Te("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},pU=e=>{const t=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Sn(a,c=>Fe(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},gU=e=>{mU(e),pU(e)},hU=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mo.os.isMacOS()||Mo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},bU=(e,t,o,r)=>{const a=de.fromDom(e.getRoot());return _y(a,De.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),qh(a,De.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},yU=e=>{if(typeof e!="string"){const t=ft.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},vU=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?bU(r,o.getRng(),t,e.schema):t},AN=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=yU(t);nS(e,{...r,content:vU(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=vM(e,a.content,r);rS(e,c,a),e.addVisual()})}},xU=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{AN(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{AN(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{AN(e,r)},mceInsertContent:(t,o,r)=>{AN(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(On(e))}})},kU={"font-size":"size","font-family":"face"},_U=xd("font"),wU=(e,t,o)=>{const r=c=>Ar(c,e).orThunk(()=>_U(c)?Nn(kU,e).bind(d=>gs(c,d)):H.none()),a=c=>on(de.fromDom(t),c);return F0(de.fromDom(o),c=>r(c),a)},CU=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),SU=(e,t)=>H.from(fr.DOM.getStyle(t,e,!0)),zL=e=>(t,o)=>H.from(o).map(de.fromDom).filter(Jr).bind(r=>wU(e,t,r.dom).or(SU(e,r.dom))).getOr(""),EU=zL("font-size"),zU=Ft(CU,zL("font-family")),TU=e=>co(e.getBody()).bind(t=>{const o=t.container();return H.from(it(o)?o.parentNode:o)}),OU=e=>H.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?H.none():H.from(e.selection.getStart(!0))}),AU=(e,t)=>OU(e).orThunk(wt(TU,e)).map(de.fromDom).filter(Jr).bind(t),U7=(e,t)=>AU(e,Zo(H.some,t)),TL=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=tw(e),a=ow(e);return a.length>0?a[o-1]||t:r[o-1]||t}else return t}else return t},NU=e=>{const t=e.split(/\s*,\s*/);return Ko(t,o=>o.indexOf(" ")!==-1&&!(sr(o,'"')||sr(o,"'"))?`'${o}'`:o).join(",")},RU=(e,t)=>{const o=TL(e,t);e.formatter.toggle("fontname",{value:NU(o)}),e.nodeChanged()},DU=e=>U7(e,t=>zU(e.getBody(),t.dom)).getOr(""),MU=(e,t)=>{e.formatter.toggle("fontsize",{value:TL(e,t)}),e.nodeChanged()},BU=e=>U7(e,t=>EU(e.getBody(),t.dom)).getOr(""),PU=e=>U7(e,t=>{const o=de.fromDom(e.getBody()),r=F0(t,c=>Ar(c,"line-height"),wt(on,o)),a=()=>{const c=parseFloat(es(t,"line-height")),d=parseFloat(es(t,"font-size"));return String(c/d)};return r.getOrThunk(a)}).getOr(""),LU=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},IU=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,a)=>{t(o,{value:a})},BackColor:(o,r,a)=>{t("hilitecolor",{value:a})},FontName:(o,r,a)=>{RU(e,a)},FontSize:(o,r,a)=>{MU(e,a)},LineHeight:(o,r,a)=>{LU(e,a)},Lang:(o,r,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,a)=>{t(Tt(a)?a:"p")},mceToggleFormat:(o,r,a)=>{t(a)}})},FU=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>DU(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>BU(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>PU(e))},HU=e=>{IU(e),FU(e)},$U=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},VU=e=>{e.editorCommands.addCommands({Indent:()=>{je(e)},Outdent:()=>{Ie(e)}}),e.editorCommands.addCommands({Outdent:()=>X(e)},"state")},jU=e=>{const t=(o,r,a)=>{const c=Tt(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");ue(c)&&Tt(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},UU=(e,t,o,r)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===o,d=c(t)?t:a.getParent(r,c,o);return H.from(d).map(de.fromDom)},OL=(e,t)=>{const o=e.dom,r=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,d=I4(o,c);if(!d||!d.isContentEditable)return;const g=t?Nr:we,v=Li(e);UU(e,a,d,c).each(z=>{const M=q8(e,c,z.dom,d,!1,v);g(z,de.fromDom(M)),e.selection.setCursorLocation(M,0),e.dispatch("NewBlock",{newBlock:M}),L4(e,"insertParagraph")})},ZU=e=>OL(e,!0),WU=e=>OL(e,!1),qU=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ZU(e)},InsertNewBlockAfter:()=>{WU(e)}})},GU=e=>{e.editorCommands.addCommands({insertParagraph:()=>{bN(X8,e)},mceInsertNewLine:(t,o,r)=>{rP(e,r)},InsertLineBreak:(t,o,r)=>{bN(eP,e)}})},KU=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>It(c)&&a++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),zl);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},YU=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{Q3(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},XU=e=>{gU(e),hU(e),$U(e),KU(e),xU(e),jU(e),VU(e),qU(e),GU(e),HU(e),YU(e)},JU=["toggleview"],AL=e=>tn(JU,e.toLowerCase());class NL{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,r,a){const c=this.editor,d=t.toLowerCase(),g=a==null?void 0:a.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!g?c.focus():Mx(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const z=this.commands.exec[d];return Pt(z)?(z(d,o,r),c.dispatch("ExecCommand",{command:t,ui:o,value:r}),!0):!1}queryCommandState(t){if(!AL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Pt(r)?r(o):!1}queryCommandValue(t){if(!AL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Pt(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Fo(t,(a,c)=>{Te(c.toLowerCase().split(","),d=>{r[o][d]=a})})}addCommand(t,o,r){const a=t.toLowerCase();this.commands.exec[a]=(c,d,g)=>o.call(r??this.editor,d,g)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const Sv="data-mce-contenteditable",QU=(e,t,o)=>{mc(e,t)&&!o?Ta(e,t):o&&Vl(e,t)},Z7=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},NN=(e,t)=>{e.dom.contentEditable=t?"true":"false"},eZ=e=>{Te(Cs(e,'*[contenteditable="true"]'),t=>{ws(t,Sv,"true"),NN(t,!1)})},tZ=e=>{Te(Cs(e,`*[${Sv}="true"]`),t=>{$o(t,Sv),NN(t,!0)})},oZ=e=>{H.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},nZ=e=>{e.selection.setRng(e.selection.getRng())},rZ=(e,t)=>{const o=de.fromDom(e.getBody());QU(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),oZ(e),e.readonly=!0,NN(o,!1),eZ(o)):(e.readonly=!1,e.hasEditableRoot()&&NN(o,!0),tZ(o),Z7(e,"StyleWithCSS",!1),Z7(e,"enableInlineTableEditing",!1),Z7(e,"enableObjectResizing",!1),$h(e)&&e.focus(),nZ(e),e.nodeChanged())},Ev=e=>e.readonly,RL=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ev(e)&&Te(t,o=>{o.attr(Sv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Sv,t=>{Ev(e)&&Te(t,o=>{o.attr("contenteditable",o.attr(Sv))})}),e.serializer.addTempAttr(Sv)},sZ=e=>{e.serializer?RL(e):e.on("PreInit",()=>{RL(e)})},aZ=e=>e.type==="click",iZ=["copy"],lZ=e=>tn(iZ,e.type),cZ=(e,t)=>js(t,"a",r=>on(r,de.fromDom(e.getBody()))).bind(r=>gs(r,"href")),dZ=(e,t)=>{if(aZ(t)&&!Ct.metaKeyPressed(t)){const o=de.fromDom(t.target);cZ(e,o).each(r=>{if(t.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${hi(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else lZ(t)&&e.dispatch(t.type,t)},uZ=e=>{e.on("ShowCaret",t=>{Ev(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Ev(e)&&t.preventDefault()})},fZ=ft.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class W7{static isNative(t){return!!fZ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||hn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),a=Ob(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[r];if(c)for(let d=0,g=c.length;d<g;d++){const v=c[d];if(!v.removed){if(v.once&&this.off(r,v.func),a.isImmediatePropagationStopped())return a;if(v.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,r,a){if(o===!1&&(o=hn),o){const c={func:o,removed:!1};a&&ft.extend(c,a);const d=t.toLowerCase().split(" ");let g=d.length;for(;g--;){const v=d[g];let z=this.bindings[v];z||(z=[],this.toggleEvent(v,!0)),r?z=[c,...z]:z=[...z,c],this.bindings[v]=z}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let a=r.length;for(;a--;){const c=r[a];let d=this.bindings[c];if(!c)return Fo(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(d){if(!o)d.length=0;else{const g=tt(d,v=>v.func===o);d=g.fail,this.bindings[c]=d,Te(g.pass,v=>{v.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Fo(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const U4=e=>(e._eventDispatcher||(e._eventDispatcher=new W7({scope:e,toggleEvent:(t,o)=>{W7.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),q7={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ob(e.toLowerCase(),t??{},r);const a=U4(r).dispatch(e,t);if(o!==!1&&r.parent){let c=r.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return U4(this).on(e,t,o)},off(e,t){return U4(this).off(e,t)},once(e,t){return U4(this).once(e,t)},hasEventListeners(e){return U4(this).has(e)}},RN=fr.DOM;let zv;const DN=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=sE(e);return o?(e.eventRoot||(e.eventRoot=RN.select(o)[0]),e.eventRoot):e.getBody()},mZ=e=>!e.hidden&&!Ev(e),DL=(e,t,o)=>{mZ(e)?e.dispatch(t,o):Ev(e)&&dZ(e,o)},ML=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=DN(e,t);if(sE(e)){if(zv||(zv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||zv&&(Fo(zv,(a,c)=>{e.dom.unbind(DN(e,c))}),zv=null)})),zv[t])return;const r=a=>{const c=a.target,d=e.editorManager.get();let g=d.length;for(;g--;){const v=d[g].getBody();(v===c||RN.isChildOf(c,v))&&DL(d[g],t,a)}};zv[t]=r,RN.bind(o,t,r)}else{const r=a=>{DL(e,t,a)};RN.bind(o,t,r),e.delegates[t]=r}},BL={...q7,bindPendingEventDelegates(){const e=this;ft.each(e._pendingNativeEvents,t=>{ML(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?ML(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(DN(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Fo(e.delegates,(r,a)=>{e.dom.unbind(DN(e,a),a,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},pZ=e=>Tt(e)?{value:e.split(/[ ,]/),valid:!0}:ot(e,Tt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},gZ=e=>{const t=(()=>{switch(e){case"array":return ye;case"boolean":return ss;case"function":return Pt;case"number":return O;case"object":return ue;case"string":return Tt;case"string[]":return pZ;case"object[]":return o=>ot(o,ue);case"regexp":return o=>uo(o,RegExp);default:return wo}})();return o=>G7(o,t,`The value must be a ${e}.`)},hZ=e=>Tt(e.processor),PL=(e,t)=>{const o=bi(t.message)?"":`. ${t.message}`;return e+o},LL=e=>e.valid,G7=(e,t,o="")=>{const r=t(e);return ss(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},bZ=(e,t,o)=>{if(!gr(t)){const r=G7(t,o);if(LL(r))return r.value;console.error(PL(`Invalid default value passed for the "${e}" option`,r))}},yZ=(e,t,o=t)=>{const r={},a={},c=(K,oe,Y)=>{const re=G7(oe,Y);return LL(re)?(a[K]=re.value,!0):(console.warn(PL(`Invalid value passed for the ${K} option`,re)),!1)},d=(K,oe)=>{const Y=hZ(oe)?gZ(oe.processor):oe.processor,re=bZ(K,oe.default,Y);r[K]={...oe,default:re,processor:Y},Nn(a,K).orThunk(()=>Nn(t,K)).each(ke=>c(K,ke,Y))},g=K=>mo(r,K);return{register:d,isRegistered:g,get:K=>Nn(a,K).orThunk(()=>Nn(r,K).map(oe=>oe.default)).getOrUndefined(),set:(K,oe)=>{if(g(K)){const Y=r[K];return Y.immutable?(console.error(`"${K}" is an immutable option and cannot be updated`),!1):c(K,oe,Y.processor)}else return console.warn(`"${K}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:K=>{const oe=g(K);return oe&&delete a[K],oe},isSet:K=>mo(a,K),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(K,oe)=>ss(oe)||O(oe)||Tt(oe)||ht(oe)||ye(oe)||Dt(oe)?oe:Object.prototype.toString.call(oe))))}catch(K){console.error(K)}}}},vZ=["design","readonly"],IL=(e,t,o,r)=>{const a=o[t.get()],c=o[r];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${r}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&rZ(e,c.editorReadOnly),t.set(r),h3(e,r)},xZ=(e,t,o,r)=>{if(r!==o.get()){if(!mo(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?IL(e,o,t,r):e.on("init",()=>IL(e,o,t,r))}},kZ=(e,t,o)=>{if(tn(vZ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},_Z=e=>{const t=hs("design"),o=hs({design:{activate:Qe,deactivate:Qe,editorReadOnly:!1},readonly:{activate:Qe,deactivate:Qe,editorReadOnly:!0}});return sZ(e),uZ(e),{isReadOnly:()=>Ev(e),set:r=>xZ(e,o.get(),t,r),get:()=>t.get(),register:(r,a)=>{o.set(kZ(o.get(),r,a))}}},K7=ft.each,Y7=ft.explode,wZ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},FL=ft.makeMap("alt,ctrl,shift,meta,access"),CZ=e=>e in FL,SZ=e=>{const t={},o=Mo.os.isMacOS()||Mo.os.isiOS();K7(Y7(e.toLowerCase(),"+"),c=>{CZ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=wZ[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let a;for(a in FL)t[a]?r.push(a):t[a]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class HL{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(K7(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,a){const c=this,d=c.normalizeCommandFunc(r);return K7(Y7(ft.trim(t)),g=>{const v=c.createShortcut(g,o,d,a);c.shortcuts[v.id]=v}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ft.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,a){const c=ft.map(Y7(t,">"),SZ);return c[c.length-1]=ft.extend(c[c.length-1],{func:r,scope:a||this.editor}),ft.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const EZ=()=>{const e={},t={},o={},r={},a={},c={},d={},g={},v=(M,P)=>(I,K)=>{M[I.toLowerCase()]={...K,type:P}},z=(M,P)=>r[M.toLowerCase()]=P;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(t,"menuitem"),addNestedMenuItem:v(t,"nestedmenuitem"),addToggleMenuItem:v(t,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(a,"contextmenu"),addContextToolbar:v(c,"contexttoolbar"),addContextForm:v(c,"contextform"),addSidebar:v(d,"sidebar"),addView:v(g,"views"),addIcon:z,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:a,contextToolbars:c,sidebars:d,views:g})}},zZ=()=>{const e=EZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Tv=fr.DOM,$L=ft.extend,TZ=ft.each;class MN{constructor(t,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,$L(this,BL);const a=this;this.id=t,this.hidden=!1;const c=uU(r.defaultOptions,o);this.options=yZ(a,c,o),Gv(a);const d=this.options.get;d("deprecation_warnings")&&MM(o,c);const g=d("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const v=d("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const z=B1(a);z&&(Ki.ScriptLoader._setReferrerPolicy(z),fr.DOM.styleSheetLoader._setReferrerPolicy(z));const M=fE(a);Fe(M)&&fr.DOM.styleSheetLoader._setContentCssCors(M),Bi.languageLoad=d("language_load"),Bi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new qd(od(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ch(a),this.hasVisual=Rc(a),this.shortcuts=new HL(this),this.editorCommands=new NL(this),XU(this);const P=d("cache_suffix");P&&(Mo.cacheSuffix=P.replace(/^[\?\&]+/,"")),this.ui={registry:zZ(),styleSheetLoader:void 0,show:Qe,hide:Qe,setEnabled:Qe,isEnabled:wo},this.mode=_Z(a),r.dispatch("SetupEditor",{editor:this});const I=ry(a);Pt(I)&&I.call(a,a)}render(){Yj(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return gy(this)}translate(t){return Tc.translate(t)}getParam(t,o,r){const a=this.options;return a.isRegistered(t)||(Fe(r)?a.register(t,{processor:r,default:o}):a.register(t,{processor:wo,default:o})),!a.isSet(t)&&!gr(o)?o:a.get(t)}hasPlugin(t,o){return tn(Cu(this),t)?o?rb.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,a){this.shortcuts.add(t,o,r,a)}execCommand(t,o,r,a){return this.editorCommands.execCommand(t,o,r,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Tv.show(t.getContainer()),Tv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Tv.hide(t.getContainer()),Tv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...t,load:!0},c=If(r)?r.value:r.innerHTML,d=o.setContent(c,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),d}else return""}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...t,save:!0,element:r};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,If(r))r.value=c;else{(t.is_removing||!o.inline)&&(r.innerHTML=c);const g=Tv.getParent(o.id,"form");g&&TZ(g.elements,v=>v.name===o.id?(v.value=c,!1):!0)}return d.element=a.element=r=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){return NS(this,t,o)}getContent(t){return tA(this,t)}insertContent(t,o){o&&(t=$L({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?NS(this,this.startContent,{format:"raw"}):NS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Tv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Tv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const r=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(t,o,r){const a=this,c=a.options.get,d=eR(a);if(Pt(d))return d.call(a,t,r,!0,o);if(!c("convert_urls")||r==="link"||ue(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new qd(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){fU(this,t)}setEditableRoot(t){Xj(this,t)}hasEditableRoot(){return Jj(this)}remove(){cA(this)}destroy(t){PM(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const w_=fr.DOM,BN=ft.each;let VL=!1,PN,dd=[];const LN=e=>{const t=e.type;BN(Yy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},jL=e=>{if(e!==VL){const t=fr.DOM;e?(t.bind(window,"resize",LN),t.bind(window,"scroll",LN)):(t.unbind(window,"resize",LN),t.unbind(window,"scroll",LN)),VL=e}},UL=e=>{const t=dd;return dd=Xe(dd,o=>e!==o),Yy.activeEditor===e&&(Yy.activeEditor=dd.length>0?dd[0]:null),Yy.focusedEditor===e&&(Yy.focusedEditor=null),t.length!==dd.length},OZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(UL(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},AZ=document.compatMode!=="CSS1Compat",Yy={...q7,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Tc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=qd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const g=c[d].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(o=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new qd(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new qd(e.baseURL),e.suffix=o,nD(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Fo(r,(a,c)=>{Bi.PluginManager.urls[c]=a})},init(e){const t=this;let o;const r=ft.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(M,P)=>M.inline&&P.tagName.toLowerCase()in r,c=M=>{let P=M.id;return P||(P=Nn(M,"name").filter(I=>!w_.get(I)).getOrThunk(w_.uniqueId),M.setAttribute("id",P)),P},d=M=>{const P=e[M];if(P)return P.apply(t,[])},g=M=>Mo.browser.isIE()||Mo.browser.isEdge()?(sv("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):AZ?(sv("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Tt(M.selector)?w_.select(M.selector):Fe(M.target)?[M.target]:[];let v=M=>{o=M};const z=()=>{let M=0;const P=[];let I;const K=(oe,Y,re)=>{const ge=new MN(oe,Y,t);P.push(ge),ge.on("init",()=>{++M===I.length&&v(P)}),ge.targetElm=ge.targetElm||re,ge.render()};w_.unbind(window,"ready",z),d("onpageload"),I=fi(g(e)),ft.each(I,oe=>{OZ(t.get(oe.id))}),I=ft.grep(I,oe=>!t.get(oe.id)),I.length===0?v([]):BN(I,oe=>{a(e,oe)?sv("Could not initialize inline editor on invalid inline target element",oe):K(c(oe),e,oe)})};return w_.bind(window,"ready",z),new Promise(M=>{o?M(o):v=P=>{M(P)}})},get(e){return arguments.length===0?dd.slice(0):Tt(e)?En(dd,t=>t.id===e).getOr(null):O(e)&&dd[e]?dd[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&dd.push(e),jL(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),PN||(PN=r=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",PN))),e},createEditor(e,t){return this.add(new MN(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=dd.length-1;r>=0;r--)t.remove(dd[r]);return}if(Tt(e)){BN(w_.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ht(t.get(o.id))?null:(UL(o)&&t.dispatch("RemoveEditor",{editor:o}),dd.length===0&&window.removeEventListener("beforeunload",PN),o.remove(),jL(dd.length>0),o)},execCommand(e,t,o){var r;const a=this,c=ue(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new MN(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{BN(dd,e=>{e.save()})},addI18n:(e,t)=>{Tc.add(e,t)},translate:e=>Tc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new qd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new qd(this.baseURL)}};Yy.setup();const NZ=(()=>{const e=Us(),t=c=>({items:c,types:nt(c),getType:d=>Nn(c,d).getOrUndefined()}),o=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:a}})(),ZL=Math.min,C_=Math.max,IN=Math.round,WL=(e,t,o)=>{let r=t.x,a=t.y;const c=e.w,d=e.h,g=t.w,v=t.h,z=(o||"").split("");return z[0]==="b"&&(a+=v),z[1]==="r"&&(r+=g),z[0]==="c"&&(a+=IN(v/2)),z[1]==="c"&&(r+=IN(g/2)),z[3]==="b"&&(a-=d),z[4]==="r"&&(r-=c),z[3]==="c"&&(a-=IN(d/2)),z[4]==="c"&&(r-=IN(c/2)),S_(r,a,c,d)},RZ=(e,t,o,r)=>{for(let a=0;a<r.length;a++){const c=WL(e,t,r[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return r[a]}return null},DZ=(e,t,o)=>S_(e.x-t,e.y-o,e.w+t*2,e.h+o*2),MZ=(e,t)=>{const o=C_(e.x,t.x),r=C_(e.y,t.y),a=ZL(e.x+e.w,t.x+t.w),c=ZL(e.y+e.h,t.y+t.h);return a-o<0||c-r<0?null:S_(o,r,a-o,c-r)},BZ=(e,t,o)=>{let r=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,z=C_(0,t.x-r),M=C_(0,t.y-a),P=C_(0,c-g),I=C_(0,d-v);return r+=z,a+=M,o&&(c+=z,d+=M,r-=P,a-=I),c-=P,d-=I,S_(r,a,c-r,d-a)},S_=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),PZ={inflate:DZ,relativePosition:WL,findBestRelativePosition:RZ,intersect:MZ,clamp:BZ,create:S_,fromClientRect:e=>S_(e.left,e.top,e.width,e.height)},LZ=(e,t,o=1e3)=>{let r=!1,a=null;const c=z=>(...M)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),z.apply(null,M))},d=c(e),g=c(t);return{start:(...z)=>{!r&&a===null&&(a=setTimeout(()=>g.apply(null,z),o))},resolve:d,reject:g}},IZ=(()=>{const e={},t={},o={};return{load:(v,z)=>{const M=`Script at URL "${z}" failed to load`,P=`Script at URL "${z}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const I=new Promise((K,oe)=>{const Y=LZ(K,oe);t[v]=Y.resolve,Ki.ScriptLoader.loadScript(z).then(()=>Y.start(P),()=>Y.reject(M))});return e[v]=I,I}},add:(v,z)=>{t[v]!==void 0&&(t[v](z),delete t[v]),e[v]=Promise.resolve(z),o[v]=z},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v],delete o[v]}}})(),FZ=()=>(()=>{let e={},t=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{t.push(r),e[r]=String(a)},key:r=>t[r],removeItem:r=>{t=t.filter(a=>a===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let Z4;try{const e="__storage_test__";Z4=window.localStorage,Z4.setItem(e,e),Z4.removeItem(e)}catch{Z4=FZ()}var HZ=Z4;const $Z={geom:{Rect:PZ},util:{Delay:Pc,Tools:ft,VK:Ct,URI:qd,EventDispatcher:W7,Observable:q7,I18n:Tc,LocalStorage:HZ,ImageUploader:GM},dom:{EventUtils:Yu,TreeWalker:Oa,TextSeeker:yu,DOMUtils:fr,ScriptLoader:Ki,RangeUtils:fg,Serializer:eA,StyleSheetLoader:pu,ControlSelection:Qn,BookmarkManager:lr,Selection:OS,Event:Yu.Event},html:{Styles:c1,Entities:Wm,Node:ci,Schema:zc,DomParser:Ry,Writer:r2,Serializer:bp},Env:Mo,AddOnManager:Bi,Annotator:g3,Formatter:lv,UndoManager:DA,EditorCommands:NL,WindowManager:hA,NotificationManager:IS,EditorObservable:BL,Shortcuts:HL,Editor:MN,FocusManager:$d,EditorManager:Yy,DOM:fr.DOM,ScriptLoader:Ki.ScriptLoader,PluginManager:rb,ThemeManager:Ng,ModelManager:Ag,IconManager:nv,Resource:IZ,FakeClipboard:NZ,trim:ft.trim,isArray:ft.isArray,is:ft.is,toArray:ft.toArray,makeMap:ft.makeMap,each:ft.each,map:ft.map,grep:ft.grep,inArray:ft.inArray,extend:ft.extend,walk:ft.walk,resolve:ft.resolve,explode:ft.explode,_addCacheSuffix:ft._addCacheSuffix},qL=ft.extend(Yy,$Z),VZ=e=>{try{ia.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(qL),VZ(qL)})()})(tI);var qZ=tI.exports;const GZ=WZ(qZ);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const ia=Object.getPrototypeOf,Ls=(n,s,i)=>{var l;return!!i(n,s.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===s.name},ui=n=>s=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&Ls(i,String,(u,f)=>f.isPrototypeOf(u))?"string":l})(s)===n,Is=n=>s=>typeof s===n,Yn=n=>s=>n===s,ko=ui("string"),tr=ui("object"),nr=n=>((s,i)=>tr(s)&&Ls(s,i,(l,u)=>ia(l)===u))(n,Object),Kr=ui("array"),Xn=Yn(null),pn=Is("boolean"),Ur=Yn(void 0),Fs=n=>n==null,Bt=n=>!Fs(n),so=Is("function"),cn=Is("number"),cr=(n,s)=>{if(Kr(n)){for(let i=0,l=n.length;i<l;++i)if(!s(n[i]))return!1;return!0}return!1},st=()=>{},uo=n=>()=>n(),Tt=(n,s)=>(...i)=>n(s.apply(null,i)),ue=n=>()=>n,Dt=n=>n,ye=(n,s)=>n===s;function ht(n,...s){return(...i)=>{const l=s.concat(i);return n.apply(null,l)}}const ss=n=>s=>!n(s),gr=n=>()=>{throw new Error(n)},Lo=n=>n(),Fe=ue(!1),Pt=ue(!0);class O{constructor(s,i){this.tag=s,this.value=i}static some(s){return new O(!0,s)}static none(){return O.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?O.some(s(this.value)):O.none()}bind(s){return this.tag?s(this.value):O.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:O.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Bt(s)?O.some(s):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const ot=Array.prototype.slice,Qe=Array.prototype.indexOf,Ft=Array.prototype.push,Zo=(n,s)=>Qe.call(n,s),$e=(n,s)=>Zo(n,s)>-1,Oo=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return!0;return!1},la=(n,s)=>{const i=[];for(let l=0;l<n;l++)i.push(s(l));return i},wt=(n,s)=>{const i=[];for(let l=0;l<n.length;l+=s){const u=ot.call(n,l,l+s);i.push(u)}return i},et=(n,s)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const f=n[u];l[u]=s(f,u)}return l},St=(n,s)=>{for(let i=0,l=n.length;i<l;i++)s(n[i],i)},as=(n,s)=>{const i=[],l=[];for(let u=0,f=n.length;u<f;u++){const p=n[u];(s(p,u)?i:l).push(p)}return{pass:i,fail:l}},gn=(n,s)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const f=n[l];s(f,l)&&i.push(f)}return i},hn=(n,s,i)=>(((l,u)=>{for(let f=l.length-1;f>=0;f--)u(l[f],f)})(n,(l,u)=>{i=s(i,l,u)}),i),wo=(n,s,i)=>(St(n,(l,u)=>{i=s(i,l,u)}),i),H=(n,s)=>((i,l,u)=>{for(let f=0,p=i.length;f<p;f++){const b=i[f];if(l(b,f))return O.some(b);if(u(b,f))break}return O.none()})(n,s,Fe),wa=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return O.some(i);return O.none()},Cr=n=>{const s=[];for(let i=0,l=n.length;i<l;++i){if(!Kr(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Ft.apply(s,n[i])}return s},xn=(n,s)=>Cr(et(n,s)),$i=(n,s)=>{for(let i=0,l=n.length;i<l;++i)if(s(n[i],i)!==!0)return!1;return!0},Bl=n=>{const s=ot.call(n,0);return s.reverse(),s},tn=(n,s)=>gn(n,i=>!$e(s,i)),Sn=(n,s)=>{const i={};for(let l=0,u=n.length;l<u;l++){const f=n[l];i[String(f)]=s(f,l)}return i},Ko=n=>[n],Te=(n,s)=>{const i=ot.call(n,0);return i.sort(s),i},yt=(n,s)=>s>=0&&s<n.length?O.some(n[s]):O.none(),tt=n=>yt(n,0),Xe=n=>yt(n,n.length-1),Wt=so(Array.from)?Array.from:n=>ot.call(n),ao=(n,s)=>{for(let i=0;i<n.length;i++){const l=s(n[i],i);if(l.isSome())return l}return O.none()},jo=Object.keys,En=Object.hasOwnProperty,Jn=(n,s)=>{const i=jo(n);for(let l=0,u=i.length;l<u;l++){const f=i[l];s(n[f],f)}},In=(n,s)=>Tn(n,(i,l)=>({k:l,v:s(i,l)})),Tn=(n,s)=>{const i={};return Jn(n,(l,u)=>{const f=s(l,u);i[f.k]=f.v}),i},Yr=n=>(s,i)=>{n[i]=s},Ys=(n,s,i,l)=>{Jn(n,(u,f)=>{(s(u,f)?i:l)(u,f)})},Fn=(n,s)=>{const i={};return Ys(n,s,Yr(i),st),i},Sr=(n,s)=>{const i=[];return Jn(n,(l,u)=>{i.push(s(l,u))}),i},Yo=(n,s)=>{const i=jo(n);for(let l=0,u=i.length;l<u;l++){const f=i[l],p=n[f];if(s(p,f,n))return O.some(p)}return O.none()},Xs=n=>Sr(n,Dt),ct=(n,s)=>Co(n,s)?O.from(n[s]):O.none(),Co=(n,s)=>En.call(n,s),Vo=(n,s)=>Co(n,s)&&n[s]!==void 0&&n[s]!==null,Hs=(n,s,i=ye)=>n.exists(l=>i(l,s)),fi=n=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return s},nt=(n,s,i)=>n.isSome()&&s.isSome()?O.some(i(n.getOrDie(),s.getOrDie())):O.none(),Xa=(n,s)=>n!=null?O.some(s(n)):O.none(),Fo=(n,s)=>n?O.some(s):O.none(),Ti=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Vn=(n,s)=>ul(n,s)?((i,l)=>i.substring(l))(n,s.length):n,is=(n,s,i=0,l)=>{const u=n.indexOf(s,i);return u!==-1&&(!!Ur(l)||u+s.length<=l)},ul=(n,s)=>Ti(n,s,0),nl=(n,s)=>Ti(n,s,n.length-s.length),Oi=(jc=/^\s+|\s+$/g,n=>n.replace(jc,"")),mi=n=>n.length>0,fl=n=>!mi(n),Nn=n=>n.style!==void 0&&so(n.style.getPropertyValue),mo=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Ba=(n,s)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return mo(i.childNodes[0])},Os=(n,s)=>{const i=document.createElement(n);return mo(i)},ud=(n,s)=>{const i=document.createTextNode(n);return mo(i)},kt=mo,_s=typeof window<"u"?window:Function("return this;")(),Jd=(n,s)=>((i,l)=>{let u=l??_s;for(let f=0;f<i.length&&u!=null;++f)u=u[i[f]];return u})(n.split("."),s),hr=Object.getPrototypeOf,fd=n=>{const s=Jd("ownerDocument.defaultView",n);return tr(n)&&((i=>((l,u)=>{const f=((p,b)=>Jd(p,b))(l,u);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",i))(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(hr(n).constructor.name))},Ja=n=>n.dom.nodeName.toLowerCase(),Vi=n=>s=>(i=>i.dom.nodeType)(s)===n,pi=n=>rr(n)&&fd(n.dom),rr=Vi(1),ca=Vi(3),Qa=Vi(9),Qd=Vi(11),cc=n=>s=>rr(s)&&Ja(s)===n,gi=(n,s)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},eu=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Hc=(n,s)=>{const i=s===void 0?document:s.dom;return eu(i)?O.none():O.from(i.querySelector(n)).map(kt)},kn=(n,s)=>n.dom===s.dom,Xr=(n,s)=>{const i=n.dom,l=s.dom;return i!==l&&i.contains(l)},da=n=>kt(n.dom.ownerDocument),Bu=n=>Qa(n)?n:da(n),ji=n=>kt(Bu(n).dom.documentElement),md=n=>kt(Bu(n).dom.defaultView),As=n=>O.from(n.dom.parentNode).map(kt),ua=n=>O.from(n.dom.parentElement).map(kt),hi=n=>O.from(n.dom.offsetParent).map(kt),Rn=n=>et(n.dom.childNodes,kt),sr=(n,s)=>{const i=n.dom.childNodes;return O.from(i[s]).map(kt)},Ui=n=>sr(n,0),dc=(n,s)=>({element:n,offset:s}),ls=(n,s)=>{const i=Rn(n);return i.length>0&&s<i.length?dc(i[s],0):dc(n,s)},ml=n=>Qd(n)&&Bt(n.dom.host),Tr=n=>kt(n.dom.getRootNode()),bn=n=>ml(n)?n:kt(Bu(n).dom.body),bi=n=>{const s=Tr(n);return ml(s)?O.some(s):O.none()},Ca=n=>kt(n.dom.host),Ns=n=>{const s=ca(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return bi(kt(s)).fold(()=>i.body.contains(s),(l=Ns,u=Ca,f=>l(u(f))));var l,u},Sa=()=>Fr(kt(document)),Fr=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return kt(s)},pd=(n,s,i)=>{if(!(ko(i)||pn(i)||cn(i)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(s,i+"")},to=(n,s,i)=>{pd(n.dom,s,i)},pl=(n,s)=>{const i=n.dom;Jn(s,(l,u)=>{pd(i,u,l)})},cs=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},Er=(n,s)=>O.from(cs(n,s)),$c=(n,s)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(s)},Wo=(n,s)=>{n.dom.removeAttribute(s)},Pl=(n,s,i)=>{if(!ko(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Nn(n)&&n.style.setProperty(s,i)},fa=(n,s)=>{Nn(n)&&n.style.removeProperty(s)},po=(n,s,i)=>{const l=n.dom;Pl(l,s,i)},Ai=(n,s)=>{const i=n.dom;Jn(s,(l,u)=>{Pl(i,u,l)})},ei=(n,s)=>{const i=n.dom;Jn(s,(l,u)=>{l.fold(()=>{fa(i,u)},f=>{Pl(i,u,f)})})},br=(n,s)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(s);return l!==""||Ns(n)?l:Ll(i,s)},Ll=(n,s)=>Nn(n)?n.style.getPropertyValue(s):"",Hr=(n,s)=>{const i=n.dom,l=Ll(i,s);return O.from(l).filter(u=>u.length>0)},uc=n=>{const s={},i=n.dom;if(Nn(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);s[u]=i.style[u]}return s},$s=(n,s,i)=>{const l=Os(n);return po(l,s,i),Hr(l,s).isSome()},_n=(n,s)=>{const i=n.dom;fa(i,s),Hs(Er(n,"style").map(Oi),"")&&Wo(n,"style")},gl=n=>n.dom.offsetWidth,Vc=(n,s)=>{const i=u=>{const f=s(u);if(f<=0||f===null){const p=br(u,n);return parseFloat(p)||0}return f},l=(u,f)=>wo(f,(p,b)=>{const y=br(u,b),_=y===void 0?0:parseInt(y,10);return isNaN(_)?p:p+_},0);return{set:(u,f)=>{if(!cn(f)&&!f.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+f);const p=u.dom;Nn(p)&&(p.style[n]=f+"px")},get:i,getOuter:i,aggregate:l,max:(u,f,p)=>{const b=l(u,p);return f>b?f-b:0}}},gd=Vc("height",n=>{const s=n.dom;return Ns(n)?s.getBoundingClientRect().height:s.offsetHeight}),yr=n=>gd.get(n),Ea=n=>gd.getOuter(n),G=(n,s)=>({left:n,top:s,translate:(i,l)=>G(n+i,s+l)}),ae=G,xe=(n,s)=>n!==void 0?n:s!==void 0?s:0,Pe=n=>{const s=n.dom.ownerDocument,i=s.body,l=s.defaultView,u=s.documentElement;if(i===n.dom)return ae(i.offsetLeft,i.offsetTop);const f=xe(l==null?void 0:l.pageYOffset,u.scrollTop),p=xe(l==null?void 0:l.pageXOffset,u.scrollLeft),b=xe(u.clientTop,i.clientTop),y=xe(u.clientLeft,i.clientLeft);return rt(n).translate(p-y,f-b)},rt=n=>{const s=n.dom,i=s.ownerDocument.body;return i===s?ae(i.offsetLeft,i.offsetTop):Ns(n)?(l=>{const u=l.getBoundingClientRect();return ae(u.left,u.top)})(s):ae(0,0)},Lt=Vc("width",n=>n.dom.offsetWidth),No=n=>Lt.get(n),Dn=n=>Lt.getOuter(n),Ho=n=>{let s,i=!1;return(...l)=>(i||(i=!0,s=n.apply(null,l)),s)},jn=()=>$r(0,0),$r=(n,s)=>({major:n,minor:s}),Mo={nu:$r,detect:(n,s)=>{const i=String(s).toLowerCase();return n.length===0?jn():((l,u)=>{const f=((b,y)=>{for(let _=0;_<b.length;_++){const E=b[_];if(E.test(y))return E}})(l,u);if(!f)return{major:0,minor:0};const p=b=>Number(u.replace(f,"$"+b));return $r(p(1),p(2))})(n,i)},unknown:jn},rl=(n,s)=>{const i=String(s).toLowerCase();return H(n,l=>l.search(i))},Il=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fc=n=>s=>is(s,n),Mm=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>is(n,"edge/")&&is(n,"chrome")&&is(n,"safari")&&is(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Il],search:n=>is(n,"chrome")&&!is(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>is(n,"msie")||is(n,"trident")},{name:"Opera",versionRegexes:[Il,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fc("firefox")},{name:"Safari",versionRegexes:[Il,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(is(n,"safari")||is(n,"mobile/"))&&is(n,"applewebkit")}],Ig=[{name:"Windows",search:fc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>is(n,"iphone")||is(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fc("linux"),versionRegexes:[]},{name:"Solaris",search:fc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ni={browsers:ue(Mm),oses:ue(Ig)},Bm="Edge",Fg="Chromium",Sf="Opera",Mp="Firefox",ft="Safari",hd=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isEdge:l(Bm),isChromium:l(Fg),isIE:l("IE"),isOpera:l(Sf),isFirefox:l(Mp),isSafari:l(ft)}},bd=()=>hd({current:void 0,version:Mo.unknown()}),Ef=hd,ma="Windows",yd="Android",tu="Linux",Hg="macOS",Bp="Solaris",Pp="FreeBSD",bb="ChromeOS",$g=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isWindows:l(ma),isiOS:l("iOS"),isAndroid:l(yd),isMacOS:l(Hg),isLinux:l(tu),isSolaris:l(Bp),isFreeBSD:l(Pp),isChromeOS:l(bb)}},yb=()=>$g({current:void 0,version:Mo.unknown()}),zf=$g,Fl=n=>window.matchMedia(n).matches;var jc;let Hl=Ho(()=>((n,s,i)=>{const l=Ni.browsers(),u=Ni.oses(),f=s.bind(y=>((_,E)=>ao(E.brands,C=>{const A=C.brand.toLowerCase();return H(_,B=>{var L;return A===((L=B.brand)===null||L===void 0?void 0:L.toLowerCase())}).map(B=>({current:B.name,version:Mo.nu(parseInt(C.version,10),0)}))}))(l,y)).orThunk(()=>((y,_)=>rl(y,_).map(E=>{const C=Mo.detect(E.versionRegexes,_);return{current:E.name,version:C}}))(l,n)).fold(bd,Ef),p=((y,_)=>rl(y,_).map(E=>{const C=Mo.detect(E.versionRegexes,_);return{current:E.name,version:C}}))(u,n).fold(yb,zf),b=((y,_,E,C)=>{const A=y.isiOS()&&/ipad/i.test(E)===!0,B=y.isiOS()&&!A,L=y.isiOS()||y.isAndroid(),U=L||C("(pointer:coarse)"),q=A||!B&&L&&C("(min-device-width:768px)"),ee=B||L&&!q,W=_.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,Z=!ee&&!q&&!W;return{isiPad:ue(A),isiPhone:ue(B),isTablet:ue(q),isPhone:ue(ee),isTouch:ue(U),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ue(W),isDesktop:ue(Z)}})(p,f,n,i);return{browser:f,os:p,deviceType:b}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),Fl));const Vs=()=>Hl(),yi=n=>{const s=kt((f=>{if(Bt(f.target)){const p=kt(f.target);if(rr(p)&&(b=>Bt(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return tt(b)}}return O.from(f.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=Tt(l,i);return((f,p,b,y,_,E,C)=>({target:f,x:p,y:b,stop:y,prevent:_,kill:E,raw:C}))(s,n.clientX,n.clientY,i,l,u,n)},vd=(n,s,i,l,u)=>{const f=((p,b)=>y=>{p(y)&&b(yi(y))})(i,l);return n.dom.addEventListener(s,f,u),{unbind:ht(rn,n,s,f,u)}},rn=(n,s,i,l)=>{n.dom.removeEventListener(s,i,l)},hl=(n,s)=>{As(n).each(i=>{i.dom.insertBefore(s.dom,n.dom)})},Pu=(n,s)=>{(l=>O.from(l.dom.nextSibling).map(kt))(n).fold(()=>{As(n).each(l=>{ti(l,s)})},l=>{hl(l,s)})},Lu=(n,s)=>{Ui(n).fold(()=>{ti(n,s)},i=>{n.dom.insertBefore(s.dom,i.dom)})},ti=(n,s)=>{n.dom.appendChild(s.dom)},Jr=(n,s)=>{St(s,i=>{ti(n,i)})},vr=n=>{n.dom.textContent="",St(Rn(n),s=>{Js(s)})},Js=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ar=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return ae(i,l)},xd=(n,s,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,s)},kd=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),ws=n=>{const s=n===void 0?window:n,i=s.document,l=ar(kt(i));return(u=>{const f=u===void 0?window:u;return Vs().browser.isFirefox()?O.none():O.from(f.visualViewport)})(s).fold(()=>{const u=s.document.documentElement,f=u.clientWidth,p=u.clientHeight;return kd(l.left,l.top,f,p)},u=>kd(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},Pa=()=>kt(document),za=(n,s)=>n.view(s).fold(ue([]),i=>{const l=n.owner(i),u=za(n,l);return[i].concat(u)});var gs=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?O.none():O.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(kt)},owner:n=>da(n)});const Uc=n=>{const s=Pa(),i=ar(s);return((u,f)=>{const p=f.owner(u),b=za(f,p);return O.some(b)})(n,gs).fold(ht(Pe,n),u=>{const f=rt(n),p=hn(u,(b,y)=>{const _=rt(y);return{left:b.left+_.left,top:b.top+_.top}},{left:0,top:0});return ae(p.left+f.left+i.left,p.top+f.top+i.top)})},$o=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),ds=n=>{const s=Pe(n),i=Dn(n),l=Ea(n);return $o(s.left,s.top,i,l)},La=n=>{const s=Uc(n),i=Dn(n),l=Ea(n);return $o(s.left,s.top,i,l)},$l=(n,s)=>{const i=Math.max(n.x,s.x),l=Math.max(n.y,s.y),u=Math.min(n.right,s.right),f=Math.min(n.bottom,s.bottom);return $o(i,l,u-i,f-l)},Rs=()=>ws(window),Ht=n=>{let s=n;return{get:()=>s,set:i=>{s=i}}},bl=n=>{const s=Ht(O.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(O.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{i(),s.set(O.some(l))}}},yl=()=>bl(n=>n.unbind()),dn=()=>{const n=bl(st);return{...n,on:s=>n.get().each(s)}};var ou=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Pm=n=>{const s=f=>f(n),i=ue(n),l=()=>u,u={tag:!0,inner:n,fold:(f,p)=>p(n),isValue:Pt,isError:Fe,map:f=>Uo.value(f(n)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:f=>{f(n)},toOptional:()=>O.some(n)};return u},Vl=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:Fe,isError:Pt,map:s,mapError:l=>Uo.error(l(n)),bind:s,exists:Fe,forall:Pt,getOr:Dt,or:Dt,getOrThunk:Lo,orThunk:Lo,getOrDie:gr(String(n)),each:st,toOptional:O.none};return i},Uo={value:Pm,error:Vl,fromOption:(n,s)=>n.fold(()=>Vl(s),Pm)};var Ta;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Ta||(Ta={}));const Iu=(n,s,i)=>n.stype===Ta.Error?s(n.serror):i(n.svalue),mc=n=>({stype:Ta.Value,svalue:n}),Tf=n=>({stype:Ta.Error,serror:n}),vl=mc,Ia=Tf,jl=Iu,_d=(n,s,i,l)=>({tag:"field",key:n,newKey:s,presence:i,prop:l}),de=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},nu=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const u=s[l];for(const f in u)Co(u,f)&&(i[f]=n(i[f],u[f]))}return i},Un=nu((n,s)=>nr(n)&&nr(s)?Un(n,s):s),Lm=nu((n,s)=>s),Fu=n=>({tag:"defaultedThunk",process:n}),sl=n=>Fu(ue(n)),on=n=>({tag:"mergeWithThunk",process:n}),pa=n=>{const s=(l=>{const u=[],f=[];return St(l,p=>{Iu(p,b=>f.push(b),b=>u.push(b))}),{values:u,errors:f}})(n);return s.errors.length>0?(i=s.errors,Tt(Ia,Cr)(i)):vl(s.values);var i},Zi=n=>tr(n)&&jo(n).length>100?" removed due to size":JSON.stringify(n,null,2),al=(n,s)=>Ia([{path:n,getErrorInfo:s}]),Ul=n=>({extract:(s,i)=>((l,u)=>l.stype===Ta.Error?u(l.serror):l)(n(i),l=>((u,f)=>al(u,ue(f)))(s,l)),toString:ue("val")}),pc=Ul(vl),Qs=(n,s,i,l)=>l(ct(n,s).getOrThunk(()=>i(n))),wd=(n,s,i,l,u)=>{const f=b=>u.extract(s.concat([l]),b),p=b=>b.fold(()=>vl(O.none()),y=>((_,E)=>_.stype===Ta.Value?{stype:Ta.Value,svalue:E(_.svalue)}:_)(u.extract(s.concat([l]),y),O.some));switch(n.tag){case"required":return((b,y,_,E)=>ct(y,_).fold(()=>((C,A,B)=>al(C,()=>'Could not find valid *required* value for "'+A+'" in '+Zi(B)))(b,_,y),E))(s,i,l,f);case"defaultedThunk":return Qs(i,l,n.process,f);case"option":return((b,y,_)=>_(ct(b,y)))(i,l,p);case"defaultedOptionThunk":return((b,y,_,E)=>E(ct(b,y).map(C=>C===!0?_(b):C)))(i,l,n.process,p);case"mergeWithThunk":return Qs(i,l,ue({}),b=>{const y=Un(n.process(i),b);return f(y)})}},Hu=n=>({extract:(s,i)=>n().extract(s,i),toString:()=>n().toString()}),Of=n=>jo(Fn(n,Bt)),Ds=n=>{const s=Kt(n),i=hn(n,(l,u)=>de(u,f=>Un(l,{[f]:!0}),ue(l)),{});return{extract:(l,u)=>{const f=pn(u)?[]:Of(u),p=gn(f,b=>!Vo(i,b));return p.length===0?s.extract(l,u):((b,y)=>al(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},Kt=n=>({extract:(s,i)=>((l,u,f)=>{const p={},b=[];for(const y of f)de(y,(_,E,C,A)=>{const B=wd(C,l,u,_,A);jl(B,L=>{b.push(...L)},L=>{p[E]=L})},(_,E)=>{p[_]=E(u)});return b.length>0?Ia(b):vl(p)})(s,i,n),toString:()=>`obj{
`+et(n,i=>de(i,(l,u,f,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),gc=n=>({extract:(s,i)=>{const l=et(i,(u,f)=>n.extract(s.concat(["["+f+"]"]),u));return pa(l)},toString:()=>"array("+n.toString()+")"}),ru=(n,s)=>{const i=s!==void 0?s:Dt;return{extract:(l,u)=>{const f=[];for(const p of n){const b=p.extract(l,u);if(b.stype===Ta.Value)return{stype:Ta.Value,svalue:i(b.svalue)};f.push(b)}return pa(f)},toString:()=>"oneOf("+et(n,l=>l.toString()).join(", ")+")"}},ga=(n,s)=>({extract:(i,l)=>{const u=jo(l),f=((p,b)=>gc(Ul(n)).extract(p,b))(i,u);return((p,b)=>p.stype===Ta.Value?b(p.svalue):p)(f,p=>{const b=et(p,y=>_d(y,y,{tag:"required",process:{}},s));return Kt(b).extract(i,l)})},toString:()=>"setOf("+s.toString()+")"}),hc=Tt(gc,Kt),Ri=ue(pc),bc=(n,s)=>Ul(i=>{const l=typeof i;return n(i)?vl(i):Ia(`Expected type: ${s} but got: ${l}`)}),Zc=bc(cn,"number"),Ms=bc(ko,"string"),il=bc(pn,"boolean"),Zl=bc(so,"function"),su=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>su(n[s]));default:return!1}},Lp=Ul(n=>su(n)?vl(n):Ia("Expected value to be acceptable for sending via postMessage")),yc=(n,s)=>({extract:(i,l)=>ct(l,n).fold(()=>((u,f)=>al(u,()=>'Choice schema did not contain choice key: "'+f+'"'))(i,n),u=>((f,p,b,y)=>ct(b,y).fold(()=>((_,E,C)=>al(_,()=>'The chosen schema: "'+C+'" did not exist in branches: '+Zi(E)))(f,b,y),_=>_.extract(f.concat(["branch: "+y]),p)))(i,l,s,u)),toString:()=>"chooseOn("+n+"). Possible values: "+jo(s)}),Cd=n=>Ul(s=>n(s).fold(Ia,vl)),$u=(n,s)=>ga(i=>n(i).fold(Tf,mc),s),xr=(n,s,i)=>{return l=((u,f,p)=>((b,y)=>b.stype===Ta.Error?{stype:Ta.Error,serror:y(b.serror)}:b)(f.extract([u],p),b=>({input:p,errors:b})))(n,s,i),Iu(l,Uo.error,Uo.value);var l},Fa=n=>n.fold(s=>{throw new Error(oi(s))},Dt),ea=(n,s,i)=>Fa(xr(n,s,i)),oi=n=>`Errors: 
`+(s=>{const i=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):s;return et(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+Zi(n.input),us=(n,s)=>yc(n,In(s,Kt)),Af=(n,s)=>((i,l)=>{const u=Ho(l);return{extract:(f,p)=>u().extract(f,p),toString:()=>u().toString()}})(0,s),Qr=_d,ta=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),xl=n=>Cd(s=>$e(n,s)?Uo.value(s):Uo.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Ue=n=>Qr(n,n,{tag:"required",process:{}},Ri()),js=(n,s)=>Qr(n,n,{tag:"required",process:{}},s),au=n=>js(n,Zc),Or=n=>js(n,Ms),kl=(n,s)=>Qr(n,n,{tag:"required",process:{}},xl(s)),Ha=n=>js(n,Zl),_l=(n,s)=>Qr(n,n,{tag:"required",process:{}},Kt(s)),iu=(n,s)=>Qr(n,n,{tag:"required",process:{}},hc(s)),ni=(n,s)=>Qr(n,n,{tag:"required",process:{}},gc(s)),Xo=n=>Qr(n,n,{tag:"option",process:{}},Ri()),es=(n,s)=>Qr(n,n,{tag:"option",process:{}},s),vc=n=>es(n,Zc),Ar=n=>es(n,Ms),Vu=(n,s)=>es(n,xl(s)),Wl=n=>es(n,Zl),Im=(n,s)=>es(n,gc(s)),Nr=(n,s)=>es(n,Kt(s)),we=(n,s)=>Qr(n,n,sl(s),Ri()),$a=(n,s,i)=>Qr(n,n,sl(s),i),ts=(n,s)=>$a(n,s,Zc),vi=(n,s)=>$a(n,s,Ms),wl=(n,s,i)=>$a(n,s,xl(i)),fs=(n,s)=>$a(n,s,il),ir=(n,s)=>$a(n,s,Zl),Mn=(n,s,i)=>$a(n,s,gc(i)),ha=(n,s,i)=>$a(n,s,Kt(i)),xi=n=>{if(!Kr(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return St(n,(l,u)=>{const f=jo(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Kr(b))throw new Error("case arguments must be an array");s.push(p),i[p]=(...y)=>{const _=y.length;if(_!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+_);return{fold:(...E)=>{if(E.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+E.length);return E[u].apply(null,y)},match:E=>{const C=jo(E);if(s.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+C.join(","));if(!$i(s,A=>$e(C,A)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+`
Required: `+s.join(", "));return E[p].apply(null,y)},log:E=>{console.log(E,{constructors:s,constructor:p,params:y})}}}}),i};xi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ri=(n,s)=>((i,l)=>({[i]:l}))(n,s),Wi=n=>(s=>{const i={};return St(s,l=>{i[l.key]=l.value}),i})(n),ql=n=>so(n)?n:Fe,xc=(n,s,i)=>{let l=n.dom;const u=ql(i);for(;l.parentNode;){l=l.parentNode;const f=kt(l),p=s(f);if(p.isSome())return p;if(u(f))break}return O.none()},Wc=(n,s,i)=>{const l=s(n),u=ql(i);return l.orThunk(()=>u(n)?O.none():xc(n,s,u))},Nf=(n,s)=>kn(n.element,s.event.target),Rf={can:Pt,abort:Fe,run:st},kc=n=>{if(!Vo(n,"can")&&!Vo(n,"abort")&&!Vo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Rf,...n}},w=ue,D=w("touchstart"),V=w("touchmove"),ie=w("touchend"),me=w("touchcancel"),Ze=w("mousedown"),eo=w("mousemove"),Eo=w("mouseout"),go=w("mouseup"),Vt=w("mouseover"),zn=w("focusin"),Zr=w("focusout"),Rr=w("keydown"),Cl=w("keyup"),lu=w("input"),Sd=w("change"),Cs=w("click"),Vg=w("transitioncancel"),Fm=w("transitionend"),Ip=w("transitionstart"),Oa=w("selectstart"),Wr=n=>ue("alloy."+n),oa={tap:Wr("tap")},qc=Wr("focus"),Df=Wr("blur.post"),Mf=Wr("paste.post"),Di=Wr("receive"),si=Wr("execute"),Bf=Wr("focus.item"),_c=oa.tap,Jy=Wr("longpress"),Hm=Wr("sandbox.close"),Gc=Wr("typeahead.cancel"),Ed=Wr("system.init"),It=Wr("system.touchmove"),Gl=Wr("system.touchend"),Pf=Wr("system.scroll"),zd=Wr("system.resize"),ba=Wr("system.attached"),Sl=Wr("system.detached"),ju=Wr("system.dismissRequested"),Td=Wr("system.repositionRequested"),Fp=Wr("focusmanager.shifted"),Kl=Wr("slotcontainer.visibility"),Lf=Wr("system.external.element.scroll"),If=Wr("change.tab"),it=Wr("dismiss.tab"),Hp=Wr("highlight"),Od=Wr("dehighlight"),Bo=(n,s)=>{El(n,n.element,s,{})},jt=(n,s,i)=>{El(n,n.element,s,i)},Ad=n=>{Bo(n,si())},zr=(n,s,i)=>{El(n,s,i,{})},El=(n,s,i,l)=>{const u={target:s,...l};n.getSystem().triggerEvent(i,s,u)},zl=(n,s,i,l)=>{n.getSystem().triggerEvent(i,s,l.event)},_o=n=>Wi(n),Uu=(n,s)=>({key:n,value:kc({abort:s})}),vb=n=>({key:n,value:kc({run:(s,i)=>{i.event.prevent()}})}),Le=(n,s)=>({key:n,value:kc({run:s})}),$p=(n,s,i)=>({key:n,value:kc({run:(l,u)=>{s.apply(void 0,[l,u].concat(i))}})}),Ff=n=>s=>({key:n,value:kc({run:(i,l)=>{Nf(i,l)&&s(i,l)}})}),Hf=(n,s,i)=>((l,u)=>Le(l,(f,p)=>{f.getSystem().getByUid(u).each(b=>{zl(b,b.element,l,p)})}))(n,s.partUids[i]),Zu=(n,s)=>Le(n,(i,l)=>{const u=l.event,f=i.getSystem().getByDom(u.target).getOrThunk(()=>Wc(u.target,p=>i.getSystem().getByDom(p).toOptional(),Fe).getOr(i));s(i,f,l)}),cu=n=>Le(n,(s,i)=>{i.cut()}),xb=n=>Le(n,(s,i)=>{i.stop()}),Nd=(n,s)=>Ff(n)(s),dr=Ff(ba()),wc=Ff(Sl()),Vp=Ff(Ed()),Tl=(Uf=si(),n=>Le(Uf,n)),du=n=>et(n,s=>nl(s,"/*")?s.substring(0,s.length-2):s),ll=(n,s)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),f=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:du(f)}),n},qr=n=>({classes:Ur(n.classes)?[]:n.classes,attributes:Ur(n.attributes)?{}:n.attributes,styles:Ur(n.styles)?{}:n.styles}),uu=(n,s,i)=>Vp((l,u)=>{i(l,n,s)}),hs=n=>({key:n,value:void 0}),$m=(n,s,i,l,u,f,p)=>{const b=E=>Vo(E,i)?E[i]():O.none(),y=In(u,(E,C)=>((A,B,L)=>((U,q,ee)=>{const W=ee.toString(),Z=W.indexOf(")")+1,X=W.indexOf("("),te=W.substring(X+1,Z-1).split(/,\s*/);return U.toFunctionAnnotation=()=>({name:q,parameters:du(te.slice(0,1).concat(te.slice(3)))}),U})((U,...q)=>{const ee=[U].concat(q);return U.config({name:ue(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+L)},W=>{const Z=Array.prototype.slice.call(ee,1);return B.apply(void 0,[U,W.config,W.state].concat(Z))})},L,B))(i,E,C)),_={...In(f,(E,C)=>ll(E,C)),...y,revoke:ht(hs,i),config:E=>{const C=ea(i+"-config",n,E);return{key:i,value:{config:C,me:_,configAsRaw:Ho(()=>ea(i+"-config",n,E)),initialConfig:E,state:p}}},schema:ue(s),exhibit:(E,C)=>nt(b(E),ct(l,"exhibit"),(A,B)=>B(C,A.config,A.state)).getOrThunk(()=>qr({})),name:ue(i),handlers:E=>b(E).map(C=>ct(l,"events").getOr(()=>({}))(C.config,C.state)).getOr({})};return _},Ol={init:()=>Us({readState:ue("No State required")})},Us=n=>n,at=n=>Wi(n),fu=Ds([Ue("fields"),Ue("name"),we("active",{}),we("apis",{}),we("state",Ol),we("extra",{})]),Zs=n=>{const s=ea("Creating behaviour: "+n.name,fu,n);return((i,l,u,f,p,b)=>{const y=Ds(i),_=Nr(l,[(E=i,es("config",Ds(E)))]);var E;return $m(y,_,l,u,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},kb=Ds([Ue("branchKey"),Ue("branches"),Ue("name"),we("active",{}),we("apis",{}),we("state",Ol),we("extra",{})]),k=n=>{const s=ea("Creating behaviour: "+n.name,kb,n);return((i,l,u,f,p,b)=>{const y=i,_=Nr(l,[es("config",i)]);return $m(y,_,l,u,f,p,b)})(us(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},T=ue(void 0),$=(n,s)=>{const i=cs(n,s);return i===void 0||i===""?[]:i.split(" ")},J=n=>n.dom.classList!==void 0,he=n=>$(n,"class"),Ve=(n,s)=>((i,l,u)=>{const f=$(i,l).concat([u]);return to(i,l,f.join(" ")),!0})(n,"class",s),dt=(n,s)=>((i,l,u)=>{const f=gn($(i,l),p=>p!==u);return f.length>0?to(i,l,f.join(" ")):Wo(i,l),!1})(n,"class",s),ut=(n,s)=>{J(n)?n.dom.classList.add(s):Ve(n,s)},ho=n=>{(J(n)?n.dom.classList:he(n)).length===0&&Wo(n,"class")},Ut=(n,s)=>{J(n)?n.dom.classList.remove(s):dt(n,s),ho(n)},Jo=(n,s)=>J(n)&&n.dom.classList.contains(s),Ao=(n,s)=>{St(s,i=>{ut(n,i)})},Bn=(n,s)=>{St(s,i=>{Ut(n,i)})},Ws=n=>J(n)?(s=>{const i=s.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const f=i.item(u);f!==null&&(l[u]=f)}return l})(n):he(n),Dr=(n,s,i,l,u)=>{const f=p=>p+"px";return{position:n,left:s.map(f),top:i.map(f),right:l.map(f),bottom:u.map(f)}},Yl=(n,s)=>{ei(n,(i=>({...i,position:O.some(i.position)}))(s))},Xl=n=>(Hs(Hr(n,"position"),"fixed")?O.none():hi(n)).orThunk(()=>{const s=Os("span");return As(n).bind(i=>{ti(i,s);const l=hi(s);return Js(s),l})}),Cc=n=>Xl(n).map(Pe).getOrThunk(()=>ae(0,0)),Vm=(n,s)=>{const i=n.element;ut(i,s.transitionClass),Ut(i,s.fadeOutClass),ut(i,s.fadeInClass),s.onShow(n)},Kc=(n,s)=>{const i=n.element;ut(i,s.transitionClass),Ut(i,s.fadeInClass),ut(i,s.fadeOutClass),s.onHide(n)},Wu=(n,s)=>n.y>=s.y,$f=(n,s)=>n.bottom<=s.bottom,mu=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),qu=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),jg=n=>n.box.x-n.win.x,pu=(n,s,i)=>i.getInitialPos().map(l=>{const u=((f,p)=>{const b=p.optScrollEnv.fold(ue(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return ae(f.bounds.x,b)})(l,s);return{box:$o(u.left,u.top,No(n),yr(n)),location:l.location}}),Pn=(n,s,i,l,u)=>{const f=((b,y)=>{const _=y.optScrollEnv.fold(ue(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return ae(b.x,_)})(s,i),p=$o(f.left,f.top,s.width,s.height);l.setInitialPos({style:uc(n),position:br(n,"position")||"static",bounds:p,location:u.location})},Mr=(n,s,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return O.some({morph:"static"});case"absolute":const f=Xl(n).getOr(Sa()),p=ds(f),b=(u=f.dom.scrollTop)!==null&&u!==void 0?u:0;return O.some({morph:"absolute",positionCss:Dr("absolute",ct(l.style,"left").map(y=>s.x-p.x),ct(l.style,"top").map(y=>s.y-p.y+b),ct(l.style,"right").map(y=>p.right-s.right),ct(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return O.none()}}),Va=n=>{switch(n.location){case"top":return O.some({morph:"fixed",positionCss:Dr("fixed",O.some(n.leftX),O.some(n.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:Dr("fixed",O.some(n.leftX),O.none(),O.none(),O.some(n.bottomY))});default:return O.none()}},qi=(n,s,i)=>{const l=n.element;return Hs(Hr(l,"position"),"fixed")?((u,f,p)=>((b,y,_)=>pu(b,y,_).filter(({box:E})=>((C,A,B)=>$i(C,L=>{switch(L){case"bottom":return $f(A,B.bounds);case"top":return Wu(A,B.bounds)}}))(_.getModes(),E,y)).bind(({box:E})=>Mr(b,E,_)))(u,f,p).orThunk(()=>f.optScrollEnv.bind(b=>pu(u,f,p)).bind(({box:b,location:y})=>{const _=Rs(),E=jg({win:_,box:b}),C=y==="top"?mu(_,E,f):qu(_,E,f);return Va(C)})))(l,s,i):((u,f,p)=>{const b=ds(u),y=Rs(),_=((E,C,A)=>{const B=C.win,L=C.box,U=jg(C);return ao(E,q=>{switch(q){case"bottom":return $f(L,A.bounds)?O.none():O.some(qu(B,U,A));case"top":return Wu(L,A.bounds)?O.none():O.some(mu(B,U,A));default:return O.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return _.location==="top"||_.location==="bottom"?(Pn(u,b,f,p,_),Va(_)):O.none()})(l,s,i)},Ug=(n,s,i)=>{i.setDocked(!1),St(["left","right","top","bottom","position"],l=>_n(n.element,l)),s.onUndocked(n)},jm=(n,s,i,l)=>{const u=l.position==="fixed";i.setDocked(u),Yl(n.element,l),(u?s.onDocked:s.onUndocked)(n)},Vf=(n,s,i,l,u=!1)=>{s.contextual.each(f=>{f.lazyContext(n).each(p=>{const b=((y,_)=>y.y<_.bottom&&y.bottom>_.y)(p,l.bounds);b!==i.isVisible()&&(i.setVisible(b),u&&!b?(Ao(n.element,[f.fadeOutClass]),f.onHide(n)):(b?Vm:Kc)(n,f))})})},jf=(n,s,i,l,u)=>{Vf(n,s,i,l,!0),jm(n,s,i,u.positionCss)},Zg=(n,s,i)=>{n.getSystem().isConnected()&&((l,u,f)=>{const p=u.lazyViewport(l);Vf(l,u,f,p),qi(l,p,f).each(b=>{((y,_,E,C,A)=>{switch(A.morph){case"static":return Ug(y,_,E);case"absolute":return jm(y,_,E,A.positionCss);case"fixed":jf(y,_,E,C,A)}})(l,u,f,p,b)})})(n,s,i)},jp=(n,s,i)=>{i.isDocked()&&((l,u,f)=>{const p=l.element;f.setDocked(!1);const b=u.lazyViewport(l);((y,_,E)=>{const C=y.element;return pu(C,_,E).bind(({box:A})=>Mr(C,A,E))})(l,b,f).each(y=>{switch(y.morph){case"static":Ug(l,u,f);break;case"absolute":jm(l,u,f,y.positionCss)}}),f.setVisible(!0),u.contextual.each(y=>{Bn(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),Zg(l,u,f)})(n,s,i)},Qy=n=>(s,i,l)=>{const u=i.lazyViewport(s);((f,p,b,y)=>{const _=ds(f),E=Rs(),C=y(E,jg({win:E,box:_}),p);return C.location==="bottom"||C.location==="top"?(((A,B,L,U,q)=>{U.getInitialPos().fold(()=>Pn(A,B,L,U,q),()=>st)})(f,_,p,b,C),Va(C)):O.none()})(s.element,u,l,n).each(f=>{jf(s,i,l,u,f)})},Wg=Qy(mu),qg=Qy(qu);var Uf,Up=Object.freeze({__proto__:null,refresh:Zg,reset:jp,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,l)=>i.setModes(l),forceDockToTop:Wg,forceDockToBottom:qg}),e1=Object.freeze({__proto__:null,events:(n,s)=>_o([Nd(Fm(),(i,l)=>{n.contextual.each(u=>{Jo(i.element,u.transitionClass)&&(Bn(i.element,[u.transitionClass,u.fadeInClass]),(s.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),Le(Pf(),(i,l)=>{Zg(i,n,s)}),Le(Lf(),(i,l)=>{Zg(i,n,s)}),Le(zd(),(i,l)=>{jp(i,n,s)})])});const gu=n=>n.dom.innerHTML,Um=(n,s)=>{const i=da(n).dom,l=kt(i.createDocumentFragment()),u=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,Rn(kt(b))})(s,i);Jr(l,u),vr(n),ti(n,l)},Zm=(n,s)=>kt(n.dom.cloneNode(s)),hu=n=>(s=>{if(ml(s))return"#shadow-root";{const i=(l=>Zm(l,!1))(s);return(l=>{const u=Os("div"),f=kt(l.dom.cloneNode(!0));return ti(u,f),gu(u)})(i)}})(n);var Gu;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Gu||(Gu={}));const Gg=Ht({}),T_=["alloy/data/Fields","alloy/debugging/Debugging"],Kg=(n,s,i)=>((l,u,f)=>{switch(ct(Gg.get(),l).orThunk(()=>{const p=jo(Gg.get());return ao(p,b=>l.indexOf(b)>-1?O.some(Gg.get()[b]):O.none())}).getOr(Gu.NORMAL)){case Gu.NORMAL:return f(Sc());case Gu.LOGGING:{const p=((y,_)=>{const E=[],C=new Date().getTime();return{logEventCut:(A,B,L)=>{E.push({outcome:"cut",target:B,purpose:L})},logEventStopped:(A,B,L)=>{E.push({outcome:"stopped",target:B,purpose:L})},logNoParent:(A,B,L)=>{E.push({outcome:"no-parent",target:B,purpose:L})},logEventNoHandlers:(A,B)=>{E.push({outcome:"no-handlers-left",target:B})},logEventResponse:(A,B,L)=>{E.push({outcome:"response",purpose:L,target:B})},write:()=>{const A=new Date().getTime();$e(["mousemove","mouseover","mouseout",Ed()],y)||console.log(y,{event:y,time:A-C,target:_.dom,sequence:et(E,B=>$e(["cut","stopped","response"],B.outcome)?"{"+B.purpose+"} "+B.outcome+" at ("+hu(B.target)+")":B.outcome)})}}})(l,u),b=f(p);return p.write(),b}case Gu.STOP:return!0}})(n,s,i),Sc=ue({logEventCut:st,logEventStopped:st,logNoParent:st,logEventNoHandlers:st,logEventResponse:st,write:st}),Av=ue([Ue("menu"),Ue("selectedMenu")]),t1=ue([Ue("item"),Ue("selectedItem")]);ue(Kt(t1().concat(Av())));const Wm=ue(Kt(t1())),ja=_l("initSize",[Ue("numColumns"),Ue("numRows")]),qm=()=>_l("markers",[Ue("backgroundMenu")].concat(Av()).concat(t1())),Gm=n=>_l("markers",et(n,Ue)),_b=(n,s,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);H(u,f=>f.indexOf("alloy")>0&&!Oo(T_,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),Qr(s,s,i,Cd(l=>Uo.value((...u)=>l.apply(void 0,u))))),un=n=>_b(0,n,sl(st)),Gi=n=>_b(0,n,sl(O.none)),Rd=n=>_b(0,n,{tag:"required",process:{}}),ai=n=>_b(0,n,{tag:"required",process:{}}),ur=(n,s)=>ta(n,ue(s)),Yg=n=>ta(n,Dt),Nv=ue(ja);var O_=[Nr("contextual",[Or("fadeInClass"),Or("fadeOutClass"),Or("transitionClass"),Ha("lazyContext"),un("onShow"),un("onShown"),un("onHide"),un("onHidden")]),ir("lazyViewport",()=>({bounds:Rs(),optScrollEnv:O.none()})),Mn("modes",["top","bottom"],Ms),un("onDocked"),un("onUndocked")];const Br=Zs({fields:O_,name:"docking",active:e1,apis:Up,state:Object.freeze({__proto__:null,init:n=>{const s=Ht(!1),i=Ht(!0),l=dn(),u=Ht(n.modes);return Us({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),wb=_o([((n,s)=>({key:n,value:kc({can:(i,l)=>{const u=l.event,f=u.originator,p=u.target;return!((b,y,_)=>kn(y,b.element)&&!kn(y,_))(i,f,p)||(console.warn(qc()+` did not get interpreted by the desired target. 
Originator: `+hu(f)+`
Target: `+hu(p)+`
Check the `+qc()+" event handlers"),!1)}})}))(qc())]);var o1=Object.freeze({__proto__:null,events:wb});const Zf=(n,s,i,l)=>{const u=n+s;return u>l?i:u<i?l:u},Ec=(n,s,i)=>Math.min(Math.max(n,s),i);let Zp=0;const At=n=>{const s=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Zp++,n+"_"+i+Zp+String(s)},Yc=ue("alloy-id-"),n1=ue("data-alloy-id"),Cb=Yc(),Wp=n1(),Sb=(n,s)=>{Object.defineProperty(n.dom,Wp,{value:s,writable:!0})},Km=n=>{const s=rr(n)?n.dom[Wp]:null;return O.from(s)},zc=n=>At(n),A_=Dt,Eb=n=>{const s=u=>`The component must be in a context to execute: ${u}`+(n?`
`+hu(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(s(u))},l=u=>()=>{console.warn(s(u))};return{debugInfo:ue("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Fe}},r1=Eb(),zb=At("alloy-premade"),s1=n=>(Object.defineProperty(n.element.dom,zb,{value:n.uid,writable:!0}),ri(zb,n)),a1=n=>ct(n,zb),Tb=n=>((s,i)=>{const l=i.toString(),u=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,u-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:du(p.slice(1))}),s})((s,...i)=>n(s.getApis(),s,...i),n),i1=(n,s)=>{const i={};return Jn(n,(l,u)=>{Jn(l,(f,p)=>{const b=ct(i,p).getOr([]);i[p]=b.concat([s(u,f)])})}),i},l1=n=>n.cHandler,Rv=(n,s)=>({name:n,handler:s}),N_=(n,s)=>{const i={};return St(n,l=>{i[l.name()]=l.handlers(s)}),i},Xg=(n,s,i)=>{const l=s[i];return l?((u,f,p,b)=>{try{const y=Te(p,(_,E)=>{const C=_[f],A=E[f],B=b.indexOf(C),L=b.indexOf(A);if(B===-1)throw new Error("The ordering for "+u+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(b,null,2));if(L===-1)throw new Error("The ordering for "+u+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(b,null,2));return B<L?-1:L<B?1:0});return Uo.value(y)}catch(y){return Uo.error([y])}})("Event: "+i,"name",n,l).map(u=>(f=>({can:((y,_)=>(...E)=>wo(y,(C,A)=>C&&(B=>B.can)(A).apply(void 0,E),!0))(f),abort:((y,_)=>(...E)=>wo(y,(C,A)=>C||(B=>B.abort)(A).apply(void 0,E),!1))(f),run:(...y)=>{St(f,_=>{_.run.apply(void 0,y)})}}))(et(u,f=>f.handler))):((u,f)=>Uo.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(et(f,p=>p.name),null,2)]))(i,n)},c1=(n,s)=>((i,l)=>{const u=(p=>{const b=[],y=[];return St(p,_=>{_.fold(E=>{b.push(E)},E=>{y.push(E)})}),{errors:b,values:y}})(i);return u.errors.length>0?(f=u.errors,Uo.error(Cr(f))):((p,b)=>p.length===0?Uo.value(b):Uo.value(Un(b,Lm.apply(void 0,p))))(u.values,l);var f})(Sr(n,(i,l)=>(i.length===1?Uo.value(i[0].handler):Xg(i,s,l)).map(u=>{const f=(b=>{const y=(_=>so(_)?{can:Pt,abort:Fe,run:_}:_)(b);return(_,E,...C)=>{const A=[_,E].concat(C);y.abort.apply(void 0,A)?E.stop():y.can.apply(void 0,A)&&y.run.apply(void 0,A)}})(u),p=i.length>1?gn(s[l],b=>Oo(i,y=>y.name===b)).join(" > "):i[0].name;return ri(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),Ym="alloy.base.behaviour",R_=Kt([Qr("dom","dom",{tag:"required",process:{}},Kt([Ue("tag"),we("styles",{}),we("classes",[]),we("attributes",{}),Xo("value"),Xo("innerHtml")])),Ue("components"),Ue("uid"),we("events",{}),we("apis",{}),Qr("eventOrder","eventOrder",(Xm={[si()]:["disabling",Ym,"toggling","typeaheadevents"],[qc()]:[Ym,"focusing","keying"],[Ed()]:[Ym,"disabling","toggling","representing","tooltipping"],[lu()]:[Ym,"representing","streaming","invalidating"],[Sl()]:[Ym,"representing","item-events","toolbar-button-events","tooltipping"],[Ze()]:["focusing",Ym,"item-type-events"],[D()]:["focusing",Ym,"item-type-events"],[Vt()]:["item-type-events","tooltipping"],[Di()]:["receiving","reflecting","tooltipping"]},on(ue(Xm))),Ri()),Xo("domModification")]),D_=n=>n.events,Ku=n=>n.dom.value,Wf=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},Ob=(n,s,i)=>{i.fold(()=>ti(n,s),l=>{kn(l,s)||(hl(l,s),Js(l))})},Dv=(n,s,i)=>{const l=et(s,i),u=Rn(n);return St(u.slice(l.length),Js),l},d1=(n,s,i,l)=>{const u=sr(n,s),f=l(i,u),p=((b,y,_)=>sr(b,y).map(E=>{if(_.exists(C=>!kn(C,E))){const C=_.map(Ja).getOr("span"),A=Os(C);return hl(E,A),A}return E}))(n,s,u);return Ob(n,f.element,p),f},Jg=(n,s)=>{const i=jo(n),l=jo(s),u=tn(l,i),f=((p,b)=>{const y={},_={};return Ys(p,(E,C)=>!Co(s,C)||E!==s[C],Yr(y),Yr(_)),{t:y,f:_}})(n).t;return{toRemove:u,toSet:f}},bu=(n,s)=>{const i=s.filter(l=>Ja(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>Co(u.dom,zb))(l)).bind(l=>((u,f)=>{try{const p=((b,y)=>{const{class:_,style:E,...C}=(X=>wo(X.dom.attributes,(te,ne)=>(te[ne.name]=ne.value,te),{}))(y),{toSet:A,toRemove:B}=Jg(b.attributes,C),L=uc(y),{toSet:U,toRemove:q}=Jg(b.styles,L),ee=Ws(y),W=tn(ee,b.classes),Z=tn(b.classes,ee);return St(B,X=>Wo(y,X)),pl(y,A),Ao(y,Z),Bn(y,W),St(q,X=>_n(y,X)),Ai(y,U),b.innerHtml.fold(()=>{const X=b.domChildren;((te,ne)=>{Dv(te,ne,(pe,_e)=>{const je=sr(te,_e);return Ob(te,pe,je),pe})})(y,X)},X=>{Um(y,X)}),(()=>{const X=y,te=b.value.getOrUndefined();te!==Ku(X)&&Wf(X,te??"")})(),y})(u,f);return O.some(p)}catch{return O.none()}})(n,l)).getOrThunk(()=>(l=>{const u=Os(l.tag);pl(u,l.attributes),Ao(u,l.classes),Ai(u,l.styles),l.innerHtml.each(p=>Um(u,p));const f=l.domChildren;return Jr(u,f),l.value.each(p=>{Wf(u,p)}),u})(n));return Sb(i,n.uid),i},Ab=n=>{const s=(i=>{const l=ct(i,"behaviours").getOr({});return xn(jo(l),u=>{const f=l[u];return Bt(f)?[f.me]:[]})})(n);return((i,l)=>((u,f)=>{const p=et(f,y=>Nr(y.name(),[Ue("config"),we("state",Ol)])),b=xr("component.behaviours",Kt(p),u.behaviours).fold(y=>{throw new Error(oi(y)+`
Complete spec:
`+JSON.stringify(u,null,2))},Dt);return{list:f,data:In(b,y=>{const _=y.map(E=>({config:E.config,state:E.state.init(E.config)}));return ue(_)})}})(i,l))(n,s)},qs=(n,s)=>{const i=()=>A,l=Ht(r1),u=Fa((B=>xr("custom.definition",R_,B))(n)),f=Ab(n),p=(B=>B.list)(f),b=(B=>B.data)(f),y=((B,L,U)=>{const q={...(ee=B).dom,uid:ee.uid,domChildren:et(ee.components,pe=>pe.element)};var ee;const W=(pe=>pe.domModification.fold(()=>qr({}),qr))(B),Z={"alloy.base.modification":W},X=L.length>0?((pe,_e,je,Ie)=>{const Me={..._e};St(je,Qo=>{Me[Qo.name()]=Qo.exhibit(pe,Ie)});const lt=i1(Me,(Qo,_r)=>({name:Qo,modification:_r})),Et=Qo=>hn(Qo,(_r,Lr)=>({...Lr.modification,..._r}),{}),$t=hn(lt.classes,(Qo,_r)=>_r.modification.concat(Qo),[]),Xt=Et(lt.attributes),xo=Et(lt.styles);return qr({classes:$t,attributes:Xt,styles:xo})})(U,Z,L,q):W;return te=q,ne=X,{...te,attributes:{...te.attributes,...ne.attributes},styles:{...te.styles,...ne.styles},classes:te.classes.concat(ne.classes)};var te,ne})(u,p,b),_=bu(y,s),E=((B,L,U)=>{const q={"alloy.base.behaviour":D_(B)};return((ee,W,Z,X)=>{const te=((ne,pe,_e)=>{const je={..._e,...N_(pe,ne)};return i1(je,Rv)})(ee,Z,X);return c1(te,W)})(U,B.eventOrder,L,q).getOrDie()})(u,p,b),C=Ht(u.components),A={uid:n.uid,getSystem:l.get,config:B=>{const L=b;return(so(L[B.name()])?L[B.name()]:()=>{throw new Error("Could not find "+B.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:B=>so(b[B.name()]),spec:n,readState:B=>b[B]().map(L=>L.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:B=>{l.set(B)},disconnect:()=>{l.set(Eb(i))},element:_,syncComponents:()=>{const B=Rn(_),L=xn(B,U=>l.get().getByDom(U).fold(()=>[],Ko));C.set(L)},components:C.get,events:E};return A},ms=n=>{const s=ud(n);return Yu({element:s})},Yu=n=>{const s=ea("external.component",Ds([Ue("element"),Xo("uid")]),n),i=Ht(Eb()),l=s.uid.getOrThunk(()=>zc("external"));Sb(s.element,l);const u={uid:l,getSystem:i.get,config:O.none,hasConfigured:Fe,connect:f=>{i.set(f)},disconnect:()=>{i.set(Eb(()=>u))},getApis:()=>({}),element:s.element,spec:n,readState:ue("No state"),syncComponents:st,components:ue([]),events:{}};return s1(u)},u1=zc,Nb=(n,s)=>a1(n).getOrThunk(()=>((i,l)=>{const{events:u,...f}=A_(i),p=((y,_)=>{const E=ct(y,"components").getOr([]);return _.fold(()=>et(E,Aa),C=>et(E,(A,B)=>Nb(A,sr(C,B))))})(f,l),b={...f,events:{...o1,...u},components:p};return Uo.value(qs(b,l))})((i=>Co(i,"uid"))(n)?n:{uid:u1(""),...n},s).getOrDie()),Aa=n=>Nb(n,O.none()),Mi=s1;var Xm,Xu=(n,s,i,l,u)=>n(i,l)?O.some(i):so(u)&&u(i)?O.none():s(i,l,u);const qf=(n,s,i)=>{let l=n.dom;const u=so(i)?i:Fe;for(;l.parentNode;){l=l.parentNode;const f=kt(l);if(s(f))return O.some(f);if(u(f))break}return O.none()},Rb=(n,s,i)=>Xu((l,u)=>u(l),qf,n,s,i),Mv=(n,s)=>H(n.dom.childNodes,i=>s(kt(i))).map(kt),f1=(n,s,i)=>Rb(n,s,i).isSome(),Gf=(n,s,i)=>qf(n,l=>gi(l,s),i),fr=(n,s)=>((i,l)=>{const u=i.dom;return u.parentNode?Mv(kt(u.parentNode),f=>!kn(i,f)&&gi(f,s)):O.none()})(n),Db=(n,s)=>Mv(n,i=>gi(i,s)),Pr=(n,s)=>Hc(s,n),Dd=(n,s,i)=>Xu((l,u)=>gi(l,u),Gf,n,s,i),Xc="aria-controls",Jm=()=>{const n=At(Xc);return{id:n,link:s=>{to(s,Xc,n)},unlink:s=>{Wo(s,Xc)}}},Ki=(n,s)=>f1(s,i=>kn(i,n.element),Fe)||((i,l)=>(u=>Rb(u,f=>{if(!rr(f))return!1;const p=cs(f,"id");return p!==void 0&&p.indexOf(Xc)>-1}).bind(f=>{const p=cs(f,"id"),b=Tr(f);return Pr(b,`[${Xc}="${p}"]`)}))(l).exists(u=>Ki(i,u)))(n,s),Ua=(n,s,i,l,u,f,p,b=!1)=>({x:n,y:s,bubble:i,direction:l,placement:u,restriction:f,label:`${p}-${u}`,alwaysFit:b}),Kf=xi([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Qg=Kf.southeast,Qm=Kf.southwest,eh=Kf.northeast,ep=Kf.northwest,Bv=Kf.south,m1=Kf.north,p1=Kf.east,Pv=Kf.west,Za=(n,s)=>Sn(["left","right","top","bottom"],i=>ct(s,i).map(l=>((u,f)=>{switch(f){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),Yf="layout",Lv=n=>n.x,Tc=(n,s)=>n.x+n.width/2-s.width/2,Bi=(n,s)=>n.x+n.width-s.width,tp=(n,s)=>n.y-s.height,qp=n=>n.y+n.height,Iv=(n,s)=>n.y+n.height/2-s.height/2,os=(n,s,i)=>Ua(Lv(n),qp(n),i.southeast(),Qg(),"southeast",Za(n,{left:1,top:3}),Yf),ns=(n,s,i)=>Ua(Bi(n,s),qp(n),i.southwest(),Qm(),"southwest",Za(n,{right:0,top:3}),Yf),Ss=(n,s,i)=>Ua(Lv(n),tp(n,s),i.northeast(),eh(),"northeast",Za(n,{left:1,bottom:2}),Yf),qn=(n,s,i)=>Ua(Bi(n,s),tp(n,s),i.northwest(),ep(),"northwest",Za(n,{right:0,bottom:2}),Yf),Gr=(n,s,i)=>Ua(Tc(n,s),tp(n,s),i.north(),m1(),"north",Za(n,{bottom:2}),Yf),bs=(n,s,i)=>Ua(Tc(n,s),qp(n),i.south(),Bv(),"south",Za(n,{top:3}),Yf),Mb=(n,s,i)=>Ua((l=>l.x+l.width)(n),Iv(n,s),i.east(),p1(),"east",Za(n,{left:0}),Yf),Bb=(n,s,i)=>Ua(((l,u)=>l.x-u.width)(n,s),Iv(n,s),i.west(),Pv(),"west",Za(n,{right:1}),Yf),g1=()=>[os,ns,Ss,qn,bs,Gr,Mb,Bb],th=()=>[ns,os,qn,Ss,bs,Gr,Mb,Bb],h1=()=>[Ss,qn,os,ns,Gr,bs],op=()=>[qn,Ss,ns,os,Gr,bs],Pb=()=>[os,ns,Ss,qn,bs,Gr],Lb=()=>[ns,os,qn,Ss,bs,Gr];var b1=Object.freeze({__proto__:null,events:n=>_o([Le(Di(),(s,i)=>{const l=n.channels,u=jo(l),f=i,p=((b,y)=>y.universal?b:gn(b,_=>$e(y.channels,_)))(u,f);St(p,b=>{const y=l[b],_=y.schema,E=ea("channel["+b+`] data
Receiver: `+hu(s.element),_,f.data);y.onReceive(s,E)})})])}),oh=[js("channels",$u(Uo.value,Ds([Rd("onReceive"),we("schema",Ri())])))];const Yi=Zs({fields:oh,name:"receiving",active:b1});var y1=Object.freeze({__proto__:null,exhibit:(n,s)=>qr({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const ki=(n,s=!1)=>n.dom.focus({preventScroll:s}),nh=n=>n.dom.blur(),np=n=>{const s=Tr(n).dom;return n.dom===s.activeElement},Jc=(n=Pa())=>O.from(n.dom.activeElement).map(kt),ys=n=>Jc(Tr(n)).filter(s=>n.dom.contains(s.dom)),Xf=(n,s)=>{const i=Tr(s),l=Jc(i).bind(f=>{const p=b=>kn(f,b);return p(s)?O.some(s):((b,y)=>{const _=E=>{for(let C=0;C<E.childNodes.length;C++){const A=kt(E.childNodes[C]);if(y(A))return O.some(A);const B=_(E.childNodes[C]);if(B.isSome())return B}return O.none()};return _(b.dom)})(s,p)}),u=n(s);return l.each(f=>{Jc(i).filter(p=>kn(p,f)).fold(()=>{ki(f)},st)}),u},v1=xi([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),x1=(n,s,i,l,u,f)=>{const p=s.rect,b=p.x-i,y=p.y-l,_=u-(b+p.width),E=f-(y+p.height),C=O.some(b),A=O.some(y),B=O.some(_),L=O.some(E),U=O.none();return s.direction.fold(()=>Dr(n,C,A,U,U),()=>Dr(n,U,A,B,U),()=>Dr(n,C,U,U,L),()=>Dr(n,U,U,B,L),()=>Dr(n,C,A,U,U),()=>Dr(n,C,U,U,L),()=>Dr(n,C,A,U,U),()=>Dr(n,U,A,B,U))},rh=(n,s)=>n.fold(()=>{const i=s.rect;return Dr("absolute",O.some(i.x),O.some(i.y),O.none(),O.none())},(i,l,u,f)=>x1("absolute",s,i,l,u,f),(i,l,u,f)=>x1("fixed",s,i,l,u,f)),yu=(n,s)=>{const i=ht(Uc,s),l=n.fold(i,i,()=>{const p=ar();return Uc(s).translate(-p.left,-p.top)}),u=Dn(s),f=Ea(s);return $o(l.left,l.top,u,f)},M_=(n,s)=>s.fold(()=>n.fold(Rs,Rs,$o),i=>n.fold(ue(i),ue(i),()=>{const l=sh(n,i.x,i.y);return $o(l.left,l.top,i.width,i.height)})),sh=(n,s,i)=>{const l=ae(s,i);return n.fold(ue(l),ue(l),()=>{const u=ar();return l.translate(-u.left,-u.top)})};v1.none;const Jf=v1.relative,Fv=v1.fixed,ah="data-alloy-placement",ih=n=>Er(n,ah),Ib=xi([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Gp=(n,s,i,l)=>{const u=n.bubble,f=u.offset,p=((X,te,ne)=>{const pe=(lt,Et)=>te[lt].map($t=>{const Xt=lt==="top"||lt==="bottom",xo=Xt?ne.top:ne.left,Qo=(lt==="left"||lt==="top"?Math.max:Math.min)($t,Et)+xo;return Xt?Ec(Qo,X.y,X.bottom):Ec(Qo,X.x,X.right)}).getOr(Et),_e=pe("left",X.x),je=pe("top",X.y),Ie=pe("right",X.right),Me=pe("bottom",X.bottom);return $o(_e,je,Ie-_e,Me-je)})(l,n.restriction,f),b=n.x+f.left,y=n.y+f.top,_=$o(b,y,s,i),{originInBounds:E,sizeInBounds:C,visibleW:A,visibleH:B}=((X,te)=>{const{x:ne,y:pe,right:_e,bottom:je}=te,{x:Ie,y:Me,right:lt,bottom:Et,width:$t,height:Xt}=X;return{originInBounds:Ie>=ne&&Ie<=_e&&Me>=pe&&Me<=je,sizeInBounds:lt<=_e&&lt>=ne&&Et<=je&&Et>=pe,visibleW:Math.min($t,Ie>=ne?_e-Ie:lt-ne),visibleH:Math.min(Xt,Me>=pe?je-Me:Et-pe)}})(_,p),L=E&&C,U=L?_:((X,te)=>{const{x:ne,y:pe,right:_e,bottom:je}=te,{x:Ie,y:Me,width:lt,height:Et}=X,$t=Math.max(ne,_e-lt),Xt=Math.max(pe,je-Et),xo=Ec(Ie,ne,$t),Qo=Ec(Me,pe,Xt),_r=Math.min(xo+lt,_e)-xo,Lr=Math.min(Qo+Et,je)-Qo;return $o(xo,Qo,_r,Lr)})(_,p),q=U.width>0&&U.height>0,{maxWidth:ee,maxHeight:W}=((X,te,ne)=>{const pe=ue(te.bottom-ne.y),_e=ue(ne.bottom-te.y),je=((Et,$t,Xt,xo)=>Et.fold($t,$t,xo,xo,$t,xo,Xt,Xt))(X,_e,_e,pe),Ie=ue(te.right-ne.x),Me=ue(ne.right-te.x);return{maxWidth:((Et,$t,Xt,xo)=>Et.fold($t,xo,$t,xo,Xt,Xt,$t,xo))(X,Me,Me,Ie),maxHeight:je}})(n.direction,U,l),Z={rect:U,maxHeight:W,maxWidth:ee,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:y};return L||n.alwaysFit?Ib.fit(Z):Ib.nofit(Z,A,B,q)},Fb=Pt,_i=(n,s,i)=>((l,u,f,p)=>vd(l,u,f,p,!1))(n,s,Fb,i),k1=(n,s,i)=>((l,u,f,p)=>vd(l,u,f,p,!0))(n,s,Fb,i),vu=yi,lh=["top","bottom","right","left"],Md="data-alloy-transition-timer",ch=(n,s,i,l,u,f)=>{const p=((b,y,_)=>_.exists(E=>{const C=b.mode;return C==="all"||E[C]!==y[C]}))(l,u,f);if(p||((b,y)=>((_,E)=>$i(E,C=>Jo(_,C)))(b,y.classes))(n,l)){po(n,"position",i.position);const b=yu(s,n),y=rh(s,{...u,rect:b}),_=Sn(lh,E=>y[E]);((E,C)=>{const A=B=>parseFloat(B).toFixed(3);return Yo(C,(B,L)=>!((U,q,ee=ye)=>nt(U,q,ee).getOr(U.isNone()&&q.isNone()))(E[L].map(A),B.map(A))).isSome()})(i,_)&&(ei(n,_),p&&((E,C)=>{Ao(E,C.classes),Er(E,Md).each(A=>{clearTimeout(parseInt(A,10)),Wo(E,Md)}),((A,B)=>{const L=yl(),U=yl();let q;const ee=te=>{var ne;const pe=(ne=te.raw.pseudoElement)!==null&&ne!==void 0?ne:"";return kn(te.target,A)&&fl(pe)&&$e(lh,te.raw.propertyName)},W=te=>{if(Fs(te)||ee(te)){L.clear(),U.clear();const ne=te==null?void 0:te.raw.type;(Fs(ne)||ne===Fm())&&(clearTimeout(q),Wo(A,Md),Bn(A,B.classes))}},Z=_i(A,Ip(),te=>{ee(te)&&(Z.unbind(),L.set(_i(A,Fm(),W)),U.set(_i(A,Vg(),W)))}),X=(te=>{const ne=Ie=>{const Me=br(te,Ie).split(/\s*,\s*/);return gn(Me,mi)},pe=Ie=>{if(ko(Ie)&&/^[\d.]+/.test(Ie)){const Me=parseFloat(Ie);return nl(Ie,"ms")?Me:1e3*Me}return 0},_e=ne("transition-delay"),je=ne("transition-duration");return wo(je,(Ie,Me,lt)=>{const Et=pe(_e[lt])+pe(Me);return Math.max(Ie,Et)},0)})(A);requestAnimationFrame(()=>{q=setTimeout(W,X+17),to(A,Md,q)})})(E,C)})(n,l),gl(n))}else Bn(n,l.classes)},dh=(n,s)=>{((i,l)=>{const u=gd.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);po(i,"max-height",u+"px")})(n,Math.floor(s))},Qf=ue((n,s)=>{dh(n,s),Ai(n,{"overflow-x":"hidden","overflow-y":"auto"})}),rp=ue((n,s)=>{dh(n,s)}),Oc=(n,s,i)=>n[s]===void 0?i:n[s],uh=(n,s,i,l)=>{const u=((f,p,b,y)=>{_n(p,"max-height"),_n(p,"max-width");const _={width:Dn(E=p),height:Ea(E)};var E;return((C,A,B,L,U,q)=>{const ee=L.width,W=L.height,Z=(X,te,ne,pe,_e)=>{const je=X(B,L,U,C,q),Ie=Gp(je,ee,W,q);return Ie.fold(ue(Ie),(Me,lt,Et,$t)=>(_e===$t?Et>pe||lt>ne:!_e&&$t)?Ie:Ib.nofit(te,ne,pe,_e))};return wo(A,(X,te)=>{const ne=ht(Z,te);return X.fold(ue(X),ne)},Ib.nofit({rect:B,maxHeight:L.height,maxWidth:L.width,direction:Qg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:B.y},-1,-1,!1)).fold(Dt,Dt)})(p,y.preference,f,_,b,y.bounds)})(n,s,i,l);return((f,p,b)=>{const y=rh(b.origin,p);b.transition.each(_=>{ch(f,b.origin,y,_,p,b.lastPlacement)}),Yl(f,y)})(s,u,l),((f,p)=>{((b,y)=>{to(b,ah,y)})(f,p.placement)})(s,u),((f,p)=>{const b=p.classes;Bn(f,b.off),Ao(f,b.on)})(s,u),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,u,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,u,l),{layout:u.layout,placement:u.placement}},B_=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Jl=(n,s,i,l=1)=>{const u=n*l,f=s*l,p=y=>ct(i,y).getOr([]),b=(y,_,E)=>{const C=tn(B_,E);return{offset:ae(y,_),classesOn:xn(E,p),classesOff:xn(C,p)}};return{southeast:()=>b(-n,s,["top","alignLeft"]),southwest:()=>b(n,s,["top","alignRight"]),south:()=>b(-n/2,s,["top","alignCentre"]),northeast:()=>b(-n,-s,["bottom","alignLeft"]),northwest:()=>b(n,-s,["bottom","alignRight"]),north:()=>b(-n/2,-s,["bottom","alignCentre"]),east:()=>b(n,-s/2,["valignCentre","left"]),west:()=>b(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>b(u,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-u,f,["top","alignRight","inset"]),insetNorth:()=>b(-u/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(u,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-u,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-u/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-u,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(u,-f/2,["valignCentre","left","inset"])}},xu=()=>Jl(0,0,{}),Ac=Dt,_1=(n,s)=>i=>na(i)==="rtl"?s:n,na=n=>br(n,"direction")==="rtl"?"rtl":"ltr";var Nc;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Nc||(Nc={}));const Xi="data-alloy-vertical-dir",P_=n=>f1(n,s=>rr(s)&&cs(s,"data-alloy-vertical-dir")===Nc.BottomToTop),Ju=()=>Nr("layouts",[Ue("onLtr"),Ue("onRtl"),Xo("onBottomLtr"),Xo("onBottomRtl")]),ku=(n,s,i,l,u,f,p)=>{const b=p.map(P_).getOr(!1),y=s.layouts.map(A=>A.onLtr(n)),_=s.layouts.map(A=>A.onRtl(n)),E=b?s.layouts.bind(A=>A.onBottomLtr.map(B=>B(n))).or(y).getOr(u):y.getOr(i),C=b?s.layouts.bind(A=>A.onBottomRtl.map(B=>B(n))).or(_).getOr(f):_.getOr(l);return _1(E,C)(n)};var Kp=[Ue("hotspot"),Xo("bubble"),we("overrides",{}),Ju(),ur("placement",(n,s,i)=>{const l=s.hotspot,u=yu(i,l.element),f=ku(n.element,s,Pb(),Lb(),h1(),op(),O.some(s.hotspot.element));return O.some(Ac({anchorBox:u,bubble:s.bubble.getOr(xu()),overrides:s.overrides,layouts:f}))})],em=[Ue("x"),Ue("y"),we("height",0),we("width",0),we("bubble",xu()),we("overrides",{}),Ju(),ur("placement",(n,s,i)=>{const l=sh(i,s.x,s.y),u=$o(l.left,l.top,s.width,s.height),f=ku(n.element,s,g1(),th(),g1(),th(),O.none());return O.some(Ac({anchorBox:u,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const Al=xi([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Hb=n=>n.fold(Dt,(s,i,l)=>s.translate(-i,-l)),$b=n=>n.fold(Dt,Dt),fh=n=>wo(n,(s,i)=>s.translate(i.left,i.top),ae(0,0)),Vb=n=>{const s=et(n,$b);return fh(s)},Hv=Al.screen,mh=Al.absolute,_u=(n,s,i)=>{const l=da(n.element),u=ar(l),f=((p,b,y)=>{const _=md(y.root).dom;return O.from(_.frameElement).map(kt).filter(E=>{const C=da(E),A=da(p.element);return kn(C,A)}).map(Pe)})(n,0,i).getOr(u);return mh(f,u.left,u.top)},ph=(n,s,i,l)=>{const u=Hv(ae(n,s));return O.some(((f,p,b)=>({point:f,width:p,height:b}))(u,i,l))},sp=(n,s,i,l,u)=>n.map(f=>{const p=[s,f.point],b=(y=()=>Vb(p),_=()=>Vb(p),E=()=>(Z=>{const X=et(Z,Hb);return fh(X)})(p),l.fold(y,_,E));var y,_,E;const C=(U=b.left,q=b.top,ee=f.width,W=f.height,{x:U,y:q,width:ee,height:W}),A=i.showAbove?h1():Pb(),B=i.showAbove?op():Lb(),L=ku(u,i,A,B,A,B,O.none());var U,q,ee,W;return Ac({anchorBox:C,bubble:i.bubble.getOr(xu()),overrides:i.overrides,layouts:L})});var ap=[Ue("node"),Ue("root"),Xo("bubble"),Ju(),we("overrides",{}),we("showAbove",!1),ur("placement",(n,s,i)=>{const l=_u(n,0,s);return s.node.filter(Ns).bind(u=>{const f=u.dom.getBoundingClientRect(),p=ph(f.left,f.top,f.width,f.height),b=s.node.getOr(n.element);return sp(p,l,s,i,b)})})];const Qu=(n,s,i,l)=>({start:n,soffset:s,finish:i,foffset:l}),ef=xi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gh=(ef.before,ef.on,ef.after,n=>n.fold(Dt,Dt,Dt)),tf=xi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),of={domRange:tf.domRange,relative:tf.relative,exact:tf.exact,exactFromRange:n=>tf.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const s=(i=>i.match({domRange:l=>kt(l.startContainer),relative:(l,u)=>gh(l),exact:(l,u,f,p)=>l}))(n);return md(s)},range:Qu},nf=(n,s,i)=>{const l=n.document.createRange();var u;return u=l,s.fold(f=>{u.setStartBefore(f.dom)},(f,p)=>{u.setStart(f.dom,p)},f=>{u.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,i),l},ip=(n,s,i,l,u)=>{const f=n.document.createRange();return f.setStart(s.dom,i),f.setEnd(l.dom,u),f},jb=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Yp=xi([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ub=(n,s,i)=>s(kt(i.startContainer),i.startOffset,kt(i.endContainer),i.endOffset),w1=(n,s)=>((i,l)=>{const u=((f,p)=>p.match({domRange:b=>({ltr:ue(b),rtl:O.none}),relative:(b,y)=>({ltr:Ho(()=>nf(f,b,y)),rtl:Ho(()=>O.some(nf(f,y,b)))}),exact:(b,y,_,E)=>({ltr:Ho(()=>ip(f,b,y,_,E)),rtl:Ho(()=>O.some(ip(f,_,E,b,y)))})}))(i,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>Yp.rtl(kt(y.endContainer),y.endOffset,kt(y.startContainer),y.startOffset)).getOrThunk(()=>Ub(0,Yp.ltr,b)):Ub(0,Yp.ltr,b)})(0,u)})(n,s).match({ltr:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,f),p},rtl:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(u.dom,f),p.setEnd(i.dom,l),p}});Yp.ltr,Yp.rtl;const Xp=(n,s,i)=>gn(((l,u)=>{const f=so(u)?u:Fe;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,_=kt(y);if(b.push(_),f(_)===!0)break;p=y}return b})(n,i),s),ra=(n,s)=>((i,l)=>{const u=l===void 0?document:l.dom;return eu(u)?[]:et(u.querySelectorAll(i),kt)})(s,n),C1=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return O.some(Qu(kt(s.startContainer),s.startOffset,kt(i.endContainer),i.endOffset))}return O.none()},$v=n=>{if(n.anchorNode===null||n.focusNode===null)return C1(n);{const s=kt(n.anchorNode),i=kt(n.focusNode);return((l,u,f,p)=>{const b=((_,E,C,A)=>{const B=da(_).dom.createRange();return B.setStart(_.dom,E),B.setEnd(C.dom,A),B})(l,u,f,p),y=kn(l,f)&&u===p;return b.collapsed&&!y})(s,n.anchorOffset,i,n.focusOffset)?O.some(Qu(s,n.anchorOffset,i,n.focusOffset)):C1(n)}},S1=(n,s)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?O.some(u).map(jb):O.none()})(w1(n,s)),E1=((n,s)=>{const i=l=>n(l)?O.from(l.dom.nodeValue):O.none();return{get:l=>{if(!n(l))throw new Error("Can only get text value of a text node");return i(l).getOr("")},getOption:i,set:(l,u)=>{if(!n(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=u}}})(ca),rf=(n,s)=>({element:n,offset:s}),Zb=(n,s)=>ca(n)?rf(n,s):((i,l)=>{const u=Rn(i);if(u.length===0)return rf(i,l);if(l<u.length)return rf(u[l],0);{const f=u[u.length-1],p=ca(f)?(b=>E1.get(b))(f).length:Rn(f).length;return rf(f,p)}})(n,s),hh=n=>n.foffset!==void 0,z1=(n,s)=>s.getSelection.getOrThunk(()=>()=>(i=>(l=>O.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind($v))(n))().map(i=>{if(hh(i)){const l=Zb(i.start,i.soffset),u=Zb(i.finish,i.foffset);return of.range(l.element,l.offset,u.element,u.offset)}return i});var L_=[Xo("getSelection"),Ue("root"),Xo("bubble"),Ju(),we("overrides",{}),we("showAbove",!1),ur("placement",(n,s,i)=>{const l=md(s.root).dom,u=_u(n,0,s),f=z1(l,s).bind(b=>{if(hh(b))return((_,E)=>(C=>{const A=C.getBoundingClientRect();return A.width>0||A.height>0?O.some(A).map(jb):O.none()})(w1(_,E)))(l,of.exactFromRange(b)).orThunk(()=>{const _=ud("\uFEFF");hl(b.start,_);const E=S1(l,of.exact(_,0,_,1));return Js(_),E}).bind(_=>ph(_.left,_.top,_.width,_.height));{const y=In(b,E=>E.dom.getBoundingClientRect()),_={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return ph(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=z1(l,s).bind(b=>hh(b)?rr(b.start)?O.some(b.start):ua(b.start):O.some(b.firstCell)).getOr(n.element);return sp(f,u,s,i,p)})];const sf="link-layout",bh=n=>n.x+n.width,Vv=(n,s)=>n.x-s.width,jv=(n,s)=>n.y-s.height+n.height,Qc=n=>n.y,T1=(n,s,i)=>Ua(bh(n),Qc(n),i.southeast(),Qg(),"southeast",Za(n,{left:0,top:2}),sf),Wb=(n,s,i)=>Ua(Vv(n,s),Qc(n),i.southwest(),Qm(),"southwest",Za(n,{right:1,top:2}),sf),Uv=(n,s,i)=>Ua(bh(n),jv(n,s),i.northeast(),eh(),"northeast",Za(n,{left:0,bottom:3}),sf),lp=(n,s,i)=>Ua(Vv(n,s),jv(n,s),i.northwest(),ep(),"northwest",Za(n,{right:1,bottom:3}),sf),Jp=()=>[T1,Wb,Uv,lp],yh=()=>[Wb,T1,lp,Uv];var Zv=[Ue("item"),Ju(),we("overrides",{}),ur("placement",(n,s,i)=>{const l=yu(i,s.item.element),u=ku(n.element,s,Jp(),yh(),Jp(),yh(),O.none());return O.some(Ac({anchorBox:l,bubble:xu(),overrides:s.overrides,layouts:u}))})],ed=us("type",{selection:L_,node:ap,hotspot:Kp,submenu:Zv,makeshift:em});const tm=[ni("classes",Ms),wl("mode","all",["all","layout","placement"])],vh=[we("useFixed",Fe),Xo("getBounds")],xh=[js("anchor",ed),Nr("transition",tm)],qb=(n,s,i,l,u,f)=>{const p=ea("placement.info",Kt(xh),u),b=p.anchor,y=l.element,_=i.get(l.uid);Xf(()=>{po(y,"position","fixed");const E=Hr(y,"visibility");po(y,"visibility","hidden");const C=s.useFixed()?(()=>{const A=document.documentElement;return Fv(0,0,A.clientWidth,A.clientHeight)})():(A=>{const B=Pe(A.element),L=A.element.dom.getBoundingClientRect();return Jf(B.left,B.top,L.width,L.height)})(n);b.placement(n,b,C).each(A=>{const B=f.orThunk(()=>s.getBounds.map(Lo)),L=((U,q,ee,W,Z,X)=>((te,ne,pe,_e,je,Ie,Me,lt)=>{const Et=Oc(Me,"maxHeightFunction",Qf()),$t=Oc(Me,"maxWidthFunction",st),Xt=te.anchorBox,xo=te.origin,Qo={bounds:M_(xo,Ie),origin:xo,preference:_e,maxHeightFunction:Et,maxWidthFunction:$t,lastPlacement:je,transition:lt};return uh(Xt,ne,pe,Qo)})(((te,ne)=>((pe,_e)=>({anchorBox:pe,origin:_e}))(te,ne))(q.anchorBox,U),W.element,q.bubble,q.layouts,Z,ee,q.overrides,X))(C,A,B,l,_,p.transition);i.set(l.uid,L)}),E.fold(()=>{_n(y,"visibility")},A=>{po(y,"visibility",A)}),Hr(y,"left").isNone()&&Hr(y,"top").isNone()&&Hr(y,"right").isNone()&&Hr(y,"bottom").isNone()&&Hs(Hr(y,"position"),"fixed")&&_n(y,"position")},y)};var kh=Object.freeze({__proto__:null,position:(n,s,i,l,u)=>{const f=O.none();qb(n,s,i,l,u,f)},positionWithinBounds:qb,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,l)=>{const u=l.element;St(["position","left","right","top","bottom"],f=>_n(u,f)),(f=>{Wo(f,ah)})(u),i.clear(l.uid)}});const Wa=Zs({fields:vh,name:"positioning",active:y1,apis:kh,state:Object.freeze({__proto__:null,init:()=>{let n={};return Us({readState:()=>n,clear:s=>{Bt(s)?delete n[s]:n={}},set:(s,i)=>{n[s]=i},get:s=>ct(n,s)})}})}),Gb=n=>n.getSystem().isConnected(),om=n=>{Bo(n,Sl());const s=n.components();St(s,om)},nm=n=>{const s=n.components();St(s,nm),Bo(n,ba())},_h=(n,s)=>{n.getSystem().addToWorld(s),Ns(n.element)&&nm(s)},Kb=n=>{om(n),n.getSystem().removeFromWorld(n)},cp=(n,s)=>{ti(n.element,s.element)},af=(n,s)=>{O1(n,s,ti)},O1=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Ns(n.element)&&nm(s),n.syncComponents()},Yb=n=>{om(n),Js(n.element),n.getSystem().removeFromWorld(n)},Pi=n=>{const s=As(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());Yb(n),s.each(i=>{i.syncComponents()})},lf=n=>{const s=n.components();St(s,Yb),vr(n.element),n.syncComponents()},A1=(n,s)=>{Qp(n,s,ti)},De=(n,s)=>{Qp(n,s,Pu)},Qp=(n,s,i)=>{i(n,s.element);const l=Rn(s.element);St(l,u=>{s.getByDom(u).each(nm)})},I_=n=>{const s=Rn(n.element);St(s,i=>{n.getByDom(i).each(om)}),Js(n.element)},Wv=(n,s,i,l)=>{i.get().each(p=>{lf(n)});const u=s.getAttachPoint(n);af(u,n);const f=n.getSystem().build(l);return af(n,f),i.set(f),f},Xb=(n,s,i,l)=>{const u=Wv(n,s,i,l);return s.onOpen(n,u),u},td=(n,s,i)=>{i.get().each(l=>{lf(n),Pi(n),s.onClose(n,l),i.clear()})},Jb=(n,s,i)=>i.isOpen(),wh=(n,s,i)=>{const l=s.getAttachPoint(n);po(n.element,"position",Wa.getMode(l)),((u,f,p,b)=>{Hr(u.element,f).fold(()=>{Wo(u.element,p)},y=>{to(u.element,p,y)}),po(u.element,f,"hidden")})(n,"visibility",s.cloakVisibilityAttr)},N1=(n,s,i)=>{(l=>Oo(["top","left","right","bottom"],u=>Hr(l,u).isSome()))(n.element)||_n(n.element,"position"),((l,u,f)=>{Er(l.element,f).fold(()=>_n(l.element,u),p=>po(l.element,u,p))})(n,"visibility",s.cloakVisibilityAttr)};var R1=Object.freeze({__proto__:null,cloak:wh,decloak:N1,open:Xb,openWhileCloaked:(n,s,i,l,u)=>{wh(n,s),Xb(n,s,i,l),u(),N1(n,s)},close:td,isOpen:Jb,isPartOf:(n,s,i,l)=>Jb(0,0,i)&&i.get().exists(u=>s.isPartOf(n,u,l)),getState:(n,s,i)=>i.get(),setContent:(n,s,i,l)=>i.get().map(()=>Wv(n,s,i,l))}),F_=Object.freeze({__proto__:null,events:(n,s)=>_o([Le(Hm(),(i,l)=>{td(i,n,s)})])}),m=[un("onOpen"),un("onClose"),Ue("isPartOf"),Ue("getAttachPoint"),we("cloakVisibilityAttr","data-precloak-visibility")],h=Object.freeze({__proto__:null,init:()=>{const n=dn(),s=ue("not-implemented");return Us({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const x=Zs({fields:m,name:"sandboxing",active:F_,apis:R1,state:h}),S=ue("dismiss.popups"),N=ue("reposition.popups"),R=ue("mouse.released"),F=Ds([we("isExtraPart",Fe),Nr("fireEventInstead",[we("event",ju())])]),j=n=>{const s=ea("Dismissal",F,n);return{[S()]:{schema:Ds([Ue("target")]),onReceive:(i,l)=>{x.isOpen(i)&&(x.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>x.close(i),u=>Bo(i,u.event)))}}}},Q=Ds([Nr("fireEventInstead",[we("event",Td())]),Ha("doReposition")]),le=n=>{const s=ea("Reposition",Q,n);return{[N()]:{onReceive:i=>{x.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>Bo(i,l.event))}}}},be=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},se=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var ce=Object.freeze({__proto__:null,onLoad:be,onUnload:se,setValue:(n,s,i,l)=>{s.store.manager.setValue(n,s,i,l)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),fe=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[dr((l,u)=>{be(l,n,s)}),wc((l,u)=>{se(l,n,s)})]:[uu(n,s,be)];return _o(i)}});const Ce=()=>{const n=Ht(null);return Us({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},Se=()=>{const n=Ht({}),s=Ht({});return Us({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:i=>ct(n.get(),i).orThunk(()=>ct(s.get(),i)),update:i=>{const l=n.get(),u=s.get(),f={},p={};St(i,b=>{f[b.value]=b,ct(b,"meta").each(y=>{ct(y,"text").each(_=>{p[_]=b})})}),n.set({...l,...f}),s.set({...u,...p})},clear:()=>{n.set({}),s.set({})}})};var qe=Object.freeze({__proto__:null,memory:Ce,dataset:Se,manual:()=>Us({readState:st}),init:n=>n.store.manager.state(n)});const Ge=(n,s,i,l)=>{const u=s.store;i.update([l]),u.setValue(n,l),s.onSetValue(n,l)};var We=[Xo("initialValue"),Ue("getFallbackEntry"),Ue("getDataKey"),Ue("setValue"),ur("manager",{setValue:Ge,getValue:(n,s,i)=>{const l=s.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{Ge(n,s,i,l)})},onUnload:(n,s,i)=>{i.clear()},state:Se})],Ye=[Ue("getValue"),we("setValue",st),Xo("initialValue"),ur("manager",{setValue:(n,s,i,l)=>{s.store.setValue(n,l),s.onSetValue(n,l)},getValue:(n,s,i)=>s.store.getValue(n),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(n,l)})},onUnload:st,state:Ol.init})],mt=[Xo("initialValue"),ur("manager",{setValue:(n,s,i,l)=>{i.set(l),s.onSetValue(n,l)},getValue:(n,s,i)=>i.get(),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,s,i)=>{i.clear()},state:Ce})],bt=[$a("store",{mode:"memory"},us("mode",{memory:mt,manual:Ye,dataset:We})),un("onSetValue"),we("resetOnDom",!1)];const Ee=Zs({fields:bt,name:"representing",active:fe,apis:ce,extra:{setValueFrom:(n,s)=>{const i=Ee.getValue(s);Ee.setValue(n,i)}},state:qe}),Nt=(n,s)=>ha(n,{},et(s,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,Qr(l,l,{tag:"option",process:{}},Ul(f=>Ia("The field: "+l+" is forbidden. "+u)));var l,u}).concat([ta("dump",Dt)])),io=n=>n.dump,Do=(n,s)=>({...at(s),...n.dump}),yo=Nt,lo=Do,Ro="placeholder",ln=xi([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Es=n=>Co(n,"uiType"),ii=(n,s,i,l)=>((u,f,p,b)=>Es(p)&&p.uiType===Ro?((y,_,E,C)=>y.exists(A=>A!==E.owner)?ln.single(!0,ue(E)):ct(C,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+jo(C)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},A=>A.replace()))(u,0,p,b):ln.single(!1,ue(p)))(n,0,i,l).fold((u,f)=>{const p=Es(i)?f(s,i.config,i.validated):f(s),b=ct(p,"components").getOr([]),y=xn(b,_=>ii(n,s,_,l));return[{...p,components:y}]},(u,f)=>{if(Es(i)){const p=f(s,i.config,i.validated);return i.validated.preprocess.getOr(Dt)(p)}return f(s)}),Na=ln.single,Ql=ln.multiple,rm=ue(Ro),li=xi([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Bd=we("factory",{sketch:Dt}),eg=we("schema",[]),cf=Ue("name"),tg=Qr("pname","pname",Fu(n=>"<alloy."+At(n.name)+">"),Ri()),Qb=ta("schema",()=>[Xo("preprocess")]),df=we("defaults",ue({})),qv=we("overrides",ue({})),VN=Kt([Bd,eg,cf,tg,df,qv]),jN=Kt([Bd,eg,cf,df,qv]),q4=Kt([Bd,eg,cf,tg,df,qv]),Rt=Kt([Bd,Qb,cf,Ue("unit"),tg,df,qv]),D1=n=>n.fold(O.some,O.none,O.some,O.some),H_=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},Gv=(n,s)=>i=>{const l=ea("Converting part type",s,i);return n(l)},Ji=Gv(li.required,VN),wu=Gv(li.external,jN),od=Gv(li.optional,q4),Kv=Gv(li.group,Rt),$_=ue("entirety");var G4=Object.freeze({__proto__:null,required:Ji,external:wu,optional:od,group:Kv,asNamedPart:D1,name:H_,asCommon:n=>n.fold(Dt,Dt,Dt,Dt),original:$_});const V_=(n,s,i,l)=>Un(s.defaults(n,i,l),i,{uid:n.partUids[s.name]},s.overrides(n,i,l)),Li=(n,s)=>{const i={};return St(s,l=>{D1(l).each(u=>{const f=M1(n,u.pname);i[u.name]=p=>{const b=ea("Part: "+u.name+" in "+n,Kt(u.schema),p);return{...f,config:p,validated:b}}})}),i},M1=(n,s)=>({uiType:rm(),owner:n,name:s}),j_=(n,s,i)=>({uiType:rm(),owner:n,name:s,config:i,validated:{}}),K4=n=>xn(n,s=>s.fold(O.none,O.some,O.none,O.none).map(i=>_l(i.name,i.schema.concat([Yg($_())]))).toArray()),Y4=n=>et(n,H_),U_=(n,s,i)=>((l,u,f)=>{const p={},b={};return St(f,y=>{y.fold(_=>{p[_.pname]=Na(!0,(E,C,A)=>_.factory.sketch(V_(E,_,C,A)))},_=>{const E=u.parts[_.name];b[_.name]=ue(_.factory.sketch(V_(u,_,E[$_()]),E))},_=>{p[_.pname]=Na(!1,(E,C,A)=>_.factory.sketch(V_(E,_,C,A)))},_=>{p[_.pname]=Ql(!0,(E,C,A)=>{const B=E[_.name];return et(B,L=>_.factory.sketch(Un(_.defaults(E,L,A),L,_.overrides(E,L))))})})}),{internals:ue(p),externals:ue(b)}})(0,s,i),Z_=(n,s,i)=>((l,u,f,p)=>{const b=In(p,(_,E)=>((C,A)=>{let B=!1;return{name:ue(C),required:()=>A.fold((L,U)=>L,(L,U)=>L),used:()=>B,replace:()=>{if(B)throw new Error("Trying to use the same placeholder more than once: "+C);return B=!0,A}}})(E,_)),y=((_,E,C,A)=>xn(C,B=>ii(_,E,B,A)))(l,u,f,b);return Jn(b,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),y})(O.some(n),s,s.components,i),mr=(n,s,i)=>{const l=s.partUids[i];return n.getSystem().getByUid(l).toOptional()},dp=(n,s,i)=>mr(n,s,i).getOrDie("Could not find part: "+i),X4=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return St(i,p=>{l[p]=ue(f.getByUid(u[p]))}),l},W_=(n,s)=>{const i=n.getSystem();return In(s.partUids,(l,u)=>ue(i.getByUid(l)))},J4=n=>jo(n.partUids),q_=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return St(i,p=>{l[p]=ue(f.getByUid(u[p]).getOrDie())}),l},Q4=(n,s)=>{const i=Y4(s);return Wi(et(i,l=>({key:l,value:n+"-"+l})))},G_=n=>Qr("partUids","partUids",on(s=>Q4(s.uid,n)),Ri());var UN=Object.freeze({__proto__:null,generate:Li,generateOne:j_,schemas:K4,names:Y4,substitutes:U_,components:Z_,defaultUids:Q4,defaultUidsSchema:G_,getAllParts:W_,getAllPartNames:J4,getPart:mr,getPartOrDie:dp,getParts:X4,getPartsOrDie:q_});const eE=(n,s,i,l,u)=>{const f=((p,b)=>(p.length>0?[_l("parts",p)]:[]).concat([Ue("uid"),we("dom",{}),we("components",[]),Yg("originalSpec"),we("debug.sketcher",{})]).concat(b))(l,u);return ea(n+" [SpecSchema]",Ds(f.concat(s)),i)},B1=(n,s,i,l,u)=>{const f=K_(u),p=K4(i),b=G_(i),y=eE(n,s,f,p,[b]),_=U_(0,y,i);return l(y,Z_(n,y,_.internals()),f,_.externals())},K_=n=>(s=>Co(s,"uid"))(n)?n:{...n,uid:zc("uid")},ZN=Ds([Ue("name"),Ue("factory"),Ue("configFields"),we("apis",{}),we("extraApis",{})]),tE=Ds([Ue("name"),Ue("factory"),Ue("configFields"),Ue("partFields"),we("apis",{}),we("extraApis",{})]),nd=n=>{const s=ea("Sketcher for "+n.name,ZN,n),i=In(s.apis,Tb),l=In(s.extraApis,(u,f)=>ll(u,f));return{name:s.name,configFields:s.configFields,sketch:u=>((f,p,b,y)=>{const _=K_(y);return b(eE(f,p,_,[],[]),_)})(s.name,s.configFields,s.factory,u),...i,...l}},cl=n=>{const s=ea("Sketcher for "+n.name,tE,n),i=Li(s.name,s.partFields),l=In(s.apis,Tb),u=In(s.extraApis,(f,p)=>ll(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>B1(s.name,s.configFields,s.partFields,s.factory,f),parts:i,...l,...u}},ey=n=>cc("input")(n)&&cs(n,"type")!=="radio"||cc("textarea")(n);var oE=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const WN=[Ue("find")],yn=Zs({fields:WN,name:"composing",apis:oE}),nE=["input","button","textarea","select"],rE=(n,s,i)=>{(s.disabled()?P1:X_)(n,s)},Y_=(n,s)=>s.useNative===!0&&$e(nE,Ja(n.element)),sE=n=>{to(n.element,"disabled","disabled")},qN=n=>{Wo(n.element,"disabled")},ty=n=>{to(n.element,"aria-disabled","true")},GN=n=>{to(n.element,"aria-disabled","false")},P1=(n,s,i)=>{s.disableClass.each(l=>{ut(n.element,l)}),(Y_(n,s)?sE:ty)(n),s.onDisabled(n)},X_=(n,s,i)=>{s.disableClass.each(l=>{Ut(n.element,l)}),(Y_(n,s)?qN:GN)(n),s.onEnabled(n)},oy=(n,s)=>Y_(n,s)?(i=>$c(i.element,"disabled"))(n):(i=>cs(i.element,"aria-disabled")==="true")(n);var KN=Object.freeze({__proto__:null,enable:X_,disable:P1,isDisabled:oy,onLoad:rE,set:(n,s,i,l)=>{(l?P1:X_)(n,s)}}),YN=Object.freeze({__proto__:null,exhibit:(n,s)=>qr({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>_o([Uu(si(),(i,l)=>oy(i,n)),uu(n,s,rE)])}),XN=[ir("disabled",Fe),we("useNative",!0),Xo("disableClass"),un("onDisabled"),un("onEnabled")];const vo=Zs({fields:XN,name:"disabling",active:YN,apis:KN}),aE=(n,s,i,l)=>{const u=ra(n.element,"."+s.highlightClass);St(u,f=>{Oo(l,p=>kn(p.element,f))||(Ut(f,s.highlightClass),n.getSystem().getByDom(f).each(p=>{s.onDehighlight(n,p),Bo(p,Od())}))})},Ch=(n,s,i,l)=>{aE(n,s,0,[l]),J_(n,s,i,l)||(ut(l.element,s.highlightClass),s.onHighlight(n,l),Bo(l,Hp()))},J_=(n,s,i,l)=>Jo(l.element,s.highlightClass),iE=(n,s,i)=>Pr(n.element,"."+s.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),lE=(n,s,i)=>{const l=ra(n.element,"."+s.itemClass);return(l.length>0?O.some(l[l.length-1]):O.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},cE=(n,s,i,l)=>{const u=ra(n.element,"."+s.itemClass);return wa(u,f=>Jo(f,s.highlightClass)).bind(f=>{const p=Zf(f,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},dE=(n,s,i)=>{const l=ra(n.element,"."+s.itemClass);return fi(et(l,u=>n.getSystem().getByDom(u).toOptional()))};var JN=Object.freeze({__proto__:null,dehighlightAll:(n,s,i)=>aE(n,s,0,[]),dehighlight:(n,s,i,l)=>{J_(n,s,i,l)&&(Ut(l.element,s.highlightClass),s.onDehighlight(n,l),Bo(l,Od()))},highlight:Ch,highlightFirst:(n,s,i)=>{iE(n,s).each(l=>{Ch(n,s,i,l)})},highlightLast:(n,s,i)=>{lE(n,s).each(l=>{Ch(n,s,i,l)})},highlightAt:(n,s,i,l)=>{((u,f,p,b)=>{const y=ra(u.element,"."+f.itemClass);return O.from(y[b]).fold(()=>Uo.error(new Error("No element found with index "+b)),u.getSystem().getByDom)})(n,s,0,l).fold(u=>{throw u},u=>{Ch(n,s,i,u)})},highlightBy:(n,s,i,l)=>{const u=dE(n,s);H(u,l).each(f=>{Ch(n,s,i,f)})},isHighlighted:J_,getHighlighted:(n,s,i)=>Pr(n.element,"."+s.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:iE,getLast:lE,getPrevious:(n,s,i)=>cE(n,s,0,-1),getNext:(n,s,i)=>cE(n,s,0,1),getCandidates:dE}),uE=[Ue("highlightClass"),Ue("itemClass"),un("onHighlight"),un("onDehighlight")];const $n=Zs({fields:uE,name:"highlighting",apis:JN}),fE=[8],Cu=[9],sm=[13],Yv=[27],Rc=[32],Xv=[37],ny=[38],L1=[39],ry=[40],QN=(n,s,i)=>{const l=Bl(n.slice(0,s)),u=Bl(n.slice(s+1));return H(l.concat(u),i)},eR=(n,s,i)=>{const l=Bl(n.slice(0,s));return H(l,i)},tR=(n,s,i)=>{const l=n.slice(0,s),u=n.slice(s+1);return H(u.concat(l),i)},oR=(n,s,i)=>{const l=n.slice(s+1);return H(l,i)},wn=n=>s=>{const i=s.raw;return $e(n,i.which)},uf=n=>s=>$i(n,i=>i(s)),am=n=>n.raw.shiftKey===!0,nR=n=>n.raw.ctrlKey===!0,I1=ss(am),On=(n,s)=>({matches:n,classification:s}),mE=(n,s,i)=>{s.exists(l=>i.exists(u=>kn(u,l)))||jt(n,Fp(),{prevFocus:s,newFocus:i})},Q_=()=>{const n=s=>ys(s.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().triggerFocus(i,s.element);const u=n(s);mE(s,l,u)}}},rR=()=>{const n=s=>$n.getHighlighted(s).map(i=>i.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().getByDom(i).fold(st,f=>{$n.highlight(s,f)});const u=n(s);mE(s,l,u)}}};var Sh;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Sh||(Sh={}));const Eh=(n,s,i,l,u)=>{const f=(b,y,_,E,C)=>{return(A=_(b,y,E,C),B=y.event,H(A,L=>L.matches(B)).map(L=>L.classification)).bind(L=>L(b,y,E,C));var A,B},p={schema:()=>n.concat([we("focusManager",Q_()),$a("focusInside","onFocus",Cd(b=>$e(["onFocus","onEnterOrSpace","onApi"],b)?Uo.value(b):Uo.error("Invalid value for focusInside"))),ur("handler",p),ur("state",s),ur("sendFocusIn",u)]),processKey:f,toEvents:(b,y)=>{const _=b.focusInside!==Sh.OnFocusMode?O.none():u(b).map(C=>Le(qc(),(A,B)=>{C(A,b,y),B.stop()})),E=[Le(Rr(),(C,A)=>{f(C,A,i,b,y).fold(()=>{((B,L)=>{const U=wn(Rc.concat(sm))(L.event);b.focusInside===Sh.OnEnterOrSpaceMode&&U&&Nf(B,L)&&u(b).each(q=>{q(B,b,y),L.stop()})})(C,A)},B=>{A.stop()})}),Le(Cl(),(C,A)=>{f(C,A,l,b,y).each(B=>{A.stop()})})];return _o(_.toArray().concat(E))}};return p},pE=n=>{const s=[Xo("onEscape"),Xo("onEnter"),we("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),we("firstTabstop",0),we("useTabstopAt",Pt),Xo("visibilitySelector")].concat([n]),i=(E,C)=>{const A=E.visibilitySelector.bind(B=>Dd(C,B)).getOr(C);return yr(A)>0},l=(E,C)=>C.focusManager.get(E).bind(A=>Dd(A,C.selector)),u=(E,C,A)=>{((B,L)=>{const U=ra(B.element,L.selector),q=gn(U,ee=>i(L,ee));return O.from(q[L.firstTabstop])})(E,C).each(B=>{C.focusManager.set(E,B)})},f=(E,C,A,B)=>{const L=ra(E.element,A.selector);return l(E,A).bind(U=>wa(L,ht(kn,U)).bind(q=>((ee,W,Z,X,te)=>te(W,Z,ne=>((pe,_e)=>i(pe,_e)&&pe.useTabstopAt(_e))(X,ne)).fold(()=>X.cyclic?O.some(!0):O.none(),ne=>(X.focusManager.set(ee,ne),O.some(!0))))(E,L,q,A,B)))},p=(E,C,A)=>{const B=A.cyclic?QN:eR;return f(E,0,A,B)},b=(E,C,A)=>{const B=A.cyclic?tR:oR;return f(E,0,A,B)},y=ue([On(uf([am,wn(Cu)]),p),On(wn(Cu),b),On(uf([I1,wn(sm)]),(E,C,A)=>A.onEnter.bind(B=>B(E,C)))]),_=ue([On(wn(Yv),(E,C,A)=>A.onEscape.bind(B=>B(E,C))),On(wn(Cu),(E,C,A)=>l(E,A).filter(B=>!A.useTabstopAt(B)).bind(B=>((L=>(U=>As(U))(L).bind(Ui).exists(U=>kn(U,L)))(B)?p:b)(E,C,A)))]);return Eh(s,Ol.init,y,_,()=>O.some(u))};var sR=pE(ta("cyclic",Fe)),aR=pE(ta("cyclic",Pt));const F1=(n,s,i)=>ey(i)&&wn(Rc)(s.event)?O.none():((l,u,f)=>(zr(l,f,si()),O.some(!0)))(n,0,i),zh=(n,s)=>O.some(!0),iR=[we("execute",F1),we("useSpace",!1),we("useEnter",!0),we("useControlEnter",!1),we("useDown",!1)],gE=(n,s,i)=>i.execute(n,s,n.element);var lR=Eh(iR,Ol.init,(n,s,i,l)=>{const u=i.useSpace&&!ey(n.element)?Rc:[],f=i.useEnter?sm:[],p=i.useDown?ry:[],b=u.concat(f).concat(p);return[On(wn(b),gE)].concat(i.useControlEnter?[On(uf([nR,wn(sm)]),gE)]:[])},(n,s,i,l)=>i.useSpace&&!ey(n.element)?[On(wn(Rc),zh)]:[],()=>O.none());const hE=()=>{const n=dn();return Us({readState:()=>n.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,i)=>{n.set({numRows:s,numColumns:i})},getNumRows:()=>n.get().map(s=>s.numRows),getNumColumns:()=>n.get().map(s=>s.numColumns)})};var bE=Object.freeze({__proto__:null,flatgrid:hE,init:n=>n.state(n)});const yE=n=>(s,i,l,u)=>{const f=n(s.element);return vE(f,s,i,l,u)},ew=(n,s)=>{const i=_1(n,s);return yE(i)},tw=(n,s)=>{const i=_1(s,n);return yE(i)},ow=n=>(s,i,l,u)=>vE(n,s,i,l,u),vE=(n,s,i,l,u)=>l.focusManager.get(s).bind(f=>n(s.element,f,l,u)).map(f=>(l.focusManager.set(s,f),!0)),nw=ow,xE=ow,Jv=ow,kE=n=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(n.dom),rw=(n,s,i)=>{const l=ra(n,i);return((u,f)=>wa(u,p=>kn(p,s)).map(p=>({index:p,candidates:u})))(gn(l,kE))},Qv=(n,s)=>wa(n,i=>kn(s,i)),_E=(n,s,i,l)=>l(Math.floor(s/i),s%i).bind(u=>{const f=u.row*i+u.column;return f>=0&&f<n.length?O.some(n[f]):O.none()}),wE=(n,s,i,l,u)=>_E(n,s,l,(f,p)=>{const b=f===i-1?n.length-f*l:l,y=Zf(p,u,0,b-1);return O.some({row:f,column:y})}),CE=(n,s,i,l,u)=>_E(n,s,l,(f,p)=>{const b=Zf(f,u,0,i-1),y=b===i-1?n.length-b*l:l,_=Ec(p,0,y-1);return O.some({row:b,column:_})}),cR=[Ue("selector"),we("execute",F1),Gi("onEscape"),we("captureTab",!1),Nv()],SE=(n,s,i)=>{Pr(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},H1=n=>(s,i,l,u)=>rw(s,i,l.selector).bind(f=>n(f.candidates,f.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),sw=(n,s,i)=>i.captureTab?O.some(!0):O.none(),aw=H1((n,s,i,l)=>wE(n,s,i,l,-1)),iw=H1((n,s,i,l)=>wE(n,s,i,l,1)),dR=H1((n,s,i,l)=>CE(n,s,i,l,-1)),uR=H1((n,s,i,l)=>CE(n,s,i,l,1)),fR=ue([On(wn(Xv),ew(aw,iw)),On(wn(L1),tw(aw,iw)),On(wn(ny),nw(dR)),On(wn(ry),xE(uR)),On(uf([am,wn(Cu)]),sw),On(uf([I1,wn(Cu)]),sw),On(wn(Rc.concat(sm)),(n,s,i,l)=>((u,f)=>f.focusManager.get(u).bind(p=>Dd(p,f.selector)))(n,i).bind(u=>i.execute(n,s,u)))]),mR=ue([On(wn(Yv),(n,s,i)=>i.onEscape(n,s)),On(wn(Rc),zh)]);var pR=Eh(cR,hE,fR,mR,()=>O.some(SE));const og=(n,s,i,l,u)=>{const f=(p,b,y)=>u(p,b,l,0,y.length-1,y[b],_=>{return E=y[_],Ja(E)==="button"&&cs(E,"disabled")==="disabled"?f(p,_,y):O.from(y[_]);var E});return rw(n,i,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},EE=(n,s,i,l)=>og(n,s,i,l,(u,f,p,b,y,_,E)=>{const C=Ec(f+p,b,y);return C===u?O.from(_):E(C)}),ex=(n,s,i,l)=>og(n,s,i,l,(u,f,p,b,y,_,E)=>{const C=Zf(f,p,b,y);return C===u?O.none():E(C)}),gR=[Ue("selector"),we("getInitial",O.none),we("execute",F1),Gi("onEscape"),we("executeOnMove",!1),we("allowVertical",!0),we("allowHorizontal",!0),we("cycles",!0)],lw=(n,s,i)=>((l,u)=>u.focusManager.get(l).bind(f=>Dd(f,u.selector)))(n,i).bind(l=>i.execute(n,s,l)),zE=(n,s,i)=>{s.getInitial(n).orThunk(()=>Pr(n.element,s.selector)).each(l=>{s.focusManager.set(n,l)})},TE=(n,s,i)=>(i.cycles?ex:EE)(n,i.selector,s,-1),OE=(n,s,i)=>(i.cycles?ex:EE)(n,i.selector,s,1),cw=n=>(s,i,l,u)=>n(s,i,l,u).bind(()=>l.executeOnMove?lw(s,i,l):O.some(!0)),$1=ue([On(wn(Rc),zh),On(wn(Yv),(n,s,i)=>i.onEscape(n,s))]);var V1=Eh(gR,Ol.init,(n,s,i,l)=>{const u=[...i.allowHorizontal?Xv:[]].concat(i.allowVertical?ny:[]),f=[...i.allowHorizontal?L1:[]].concat(i.allowVertical?ry:[]);return[On(wn(u),cw(ew(TE,OE))),On(wn(f),cw(tw(TE,OE))),On(wn(sm),lw),On(wn(Rc),lw)]},$1,()=>O.some(zE));const tx=(n,s,i)=>O.from(n[s]).bind(l=>O.from(l[i]).map(u=>({rowIndex:s,columnIndex:i,cell:u}))),ox=(n,s,i,l)=>{const u=n[s].length,f=Zf(i,l,0,u-1);return tx(n,s,f)},AE=(n,s,i,l)=>{const u=Zf(i,l,0,n.length-1),f=n[u].length,p=Ec(s,0,f-1);return tx(n,u,p)},dw=(n,s,i,l)=>{const u=n[s].length,f=Ec(i+l,0,u-1);return tx(n,s,f)},uw=(n,s,i,l)=>{const u=Ec(i+l,0,n.length-1),f=n[u].length,p=Ec(s,0,f-1);return tx(n,u,p)},NE=[_l("selectors",[Ue("row"),Ue("cell")]),we("cycles",!0),we("previousSelector",O.none),we("execute",F1)],hR=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const l=s.selectors;return Pr(n.element,l.cell)}).each(l=>{s.focusManager.set(n,l)})},nx=(n,s)=>(i,l,u)=>{const f=u.cycles?n:s;return Dd(l,u.selectors.row).bind(p=>{const b=ra(p,u.selectors.cell);return Qv(b,l).bind(y=>{const _=ra(i,u.selectors.row);return Qv(_,p).bind(E=>{const C=((A,B)=>et(A,L=>ra(L,B.selectors.cell)))(_,u);return f(C,E,y).map(A=>A.cell)})})})},RE=nx((n,s,i)=>ox(n,s,i,-1),(n,s,i)=>dw(n,s,i,-1)),Th=nx((n,s,i)=>ox(n,s,i,1),(n,s,i)=>dw(n,s,i,1)),Oh=nx((n,s,i)=>AE(n,i,s,-1),(n,s,i)=>uw(n,i,s,-1)),rx=nx((n,s,i)=>AE(n,i,s,1),(n,s,i)=>uw(n,i,s,1)),j1=ue([On(wn(Xv),ew(RE,Th)),On(wn(L1),tw(RE,Th)),On(wn(ny),nw(Oh)),On(wn(ry),xE(rx)),On(wn(Rc.concat(sm)),(n,s,i)=>ys(n.element).bind(l=>i.execute(n,s,l)))]),bR=ue([On(wn(Rc),zh)]);var ng=Eh(NE,Ol.init,j1,bR,()=>O.some(hR));const im=[Ue("selector"),we("execute",F1),we("moveOnTab",!1)],sx=(n,s,i)=>i.focusManager.get(n).bind(l=>i.execute(n,s,l)),DE=(n,s,i)=>{Pr(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},ME=(n,s,i)=>ex(n,i.selector,s,-1),fw=(n,s,i)=>ex(n,i.selector,s,1),U1=ue([On(wn(ny),Jv(ME)),On(wn(ry),Jv(fw)),On(uf([am,wn(Cu)]),(n,s,i,l)=>i.moveOnTab?Jv(ME)(n,s,i,l):O.none()),On(uf([I1,wn(Cu)]),(n,s,i,l)=>i.moveOnTab?Jv(fw)(n,s,i,l):O.none()),On(wn(sm),sx),On(wn(Rc),sx)]),Z1=ue([On(wn(Rc),zh)]);var mw=Eh(im,Ol.init,U1,Z1,()=>O.some(DE));const BE=[Gi("onSpace"),Gi("onEnter"),Gi("onShiftEnter"),Gi("onLeft"),Gi("onRight"),Gi("onTab"),Gi("onShiftTab"),Gi("onUp"),Gi("onDown"),Gi("onEscape"),we("stopSpaceKeyup",!1),Xo("focusIn")];var W1=Eh(BE,Ol.init,(n,s,i)=>[On(wn(Rc),i.onSpace),On(uf([I1,wn(sm)]),i.onEnter),On(uf([am,wn(sm)]),i.onShiftEnter),On(uf([am,wn(Cu)]),i.onShiftTab),On(uf([I1,wn(Cu)]),i.onTab),On(wn(ny),i.onUp),On(wn(ry),i.onDown),On(wn(Xv),i.onLeft),On(wn(L1),i.onRight),On(wn(Rc),i.onSpace)],(n,s,i)=>[...i.stopSpaceKeyup?[On(wn(Rc),zh)]:[],On(wn(Yv),i.onEscape)],n=>n.focusIn);const ax=sR.schema(),yR=aR.schema(),pw=V1.schema(),ix=pR.schema(),wi=ng.schema(),vR=lR.schema(),lm=mw.schema(),PE=W1.schema(),qt=k({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:ax,cyclic:yR,flow:pw,flatgrid:ix,matrix:wi,execution:vR,menu:lm,special:PE}),name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,s,i)})},setGridSize:(n,s,i,l,u)=>{(f=>Vo(f,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:bE}),Ah=(n,s)=>{Xf(()=>{((i,l,u)=>{const f=i.components();(y=>{St(y.components(),_=>Js(_.element)),vr(y.element),y.syncComponents()})(i);const p=u(l),b=tn(f,p);St(b,y=>{om(y),i.getSystem().removeFromWorld(y)}),St(p,y=>{Gb(y)?cp(i,y):(i.getSystem().addToWorld(y),cp(i,y),Ns(i.element)&&nm(y))}),i.syncComponents()})(n,s,()=>et(s,n.getSystem().build))},n.element)},gw=(n,s)=>{Xf(()=>{((i,l,u)=>{const f=i.components(),p=xn(l,_=>a1(_).toArray());St(f,_=>{$e(p,_)||Kb(_)});const b=((_,E,C)=>Dv(_,E,(A,B)=>d1(_,B,A,C)))(n.element,s,n.getSystem().buildOrPatch),y=tn(f,b);St(y,_=>{Gb(_)&&Kb(_)}),St(b,_=>{Gb(_)||_h(i,_)}),i.syncComponents()})(n,s)},n.element)},lx=(n,s,i,l)=>{Kb(s);const u=d1(n.element,i,l,n.getSystem().buildOrPatch);_h(n,u),n.syncComponents()},hw=(n,s,i)=>{const l=n.getSystem().build(i);O1(n,l,s)},LE=(n,s,i,l)=>{Pi(s),hw(n,(u,f)=>((p,b,y)=>{sr(p,y).fold(()=>{ti(p,b)},_=>{hl(_,b)})})(u,f,i),l)},q1=(n,s)=>n.components(),IE=(n,s,i,l,u)=>{const f=q1(n);return O.from(f[l]).map(p=>(u.fold(()=>Pi(p),b=>{(s.reuseDom?lx:LE)(n,p,l,b)}),p))};var bw=Object.freeze({__proto__:null,append:(n,s,i,l)=>{hw(n,ti,l)},prepend:(n,s,i,l)=>{hw(n,Lu,l)},remove:(n,s,i,l)=>{const u=q1(n);H(u,p=>kn(l.element,p.element)).each(Pi)},replaceAt:IE,replaceBy:(n,s,i,l,u)=>{const f=q1(n);return wa(f,l).bind(p=>IE(n,s,0,p,u))},set:(n,s,i,l)=>(s.reuseDom?gw:Ah)(n,l),contents:q1});const no=Zs({fields:[fs("reuseDom",!0)],name:"replacing",apis:bw}),Po=(n,s)=>{const i=((l,u)=>{const f=_o(u);return Zs({fields:[Ue("enabled")],name:l,active:{events:ue(f)}})})(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ue({}),initialConfig:{},state:Ol}}},FE=(n,s)=>{s.ignore||(ki(n.element),s.onFocus(n))};var HE=Object.freeze({__proto__:null,focus:FE,blur:(n,s)=>{s.ignore||nh(n.element)},isFocused:n=>np(n.element)}),$E=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return qr(i)},events:n=>_o([Le(qc(),(s,i)=>{FE(s,n),i.stop()})].concat(n.stopMousedown?[Le(Ze(),(s,i)=>{i.event.prevent()})]:[]))}),VE=[un("onFocus"),we("stopMousedown",!1),we("ignore",!1)];const bo=Zs({fields:VE,name:"focusing",active:$E,apis:HE}),G1=(n,s,i,l)=>{const u=i.get();i.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?ut(f.element,y):Ut(f.element,y)})})(n,s,i),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(n,s,i),u!==l&&s.onToggled(n,l)},rd=(n,s,i)=>{G1(n,s,i,!i.get())},Nh=(n,s,i)=>{G1(n,s,i,s.selected)};var jE=Object.freeze({__proto__:null,onLoad:Nh,toggle:rd,isOn:(n,s,i)=>i.get(),on:(n,s,i)=>{G1(n,s,i,!0)},off:(n,s,i)=>{G1(n,s,i,!1)},set:G1}),sy=Object.freeze({__proto__:null,exhibit:()=>qr({}),events:(n,s)=>{const i=(l=n,u=s,f=rd,Tl(b=>{f(b,l,u)}));var l,u,f;const p=uu(n,s,Nh);return _o(Cr([n.toggleOnExecute?[i]:[],[p]]))}});const Nl=(n,s,i)=>{to(n.element,"aria-expanded",i)};var Dc=[we("selected",!1),Xo("toggleClass"),we("toggleOnExecute",!0),un("onToggled"),$a("aria",{mode:"none"},us("mode",{pressed:[we("syncWithExpanded",!1),ur("update",(n,s,i)=>{to(n.element,"aria-pressed",i),s.syncWithExpanded&&Nl(n,0,i)})],checked:[ur("update",(n,s,i)=>{to(n.element,"aria-checked",i)})],expanded:[ur("update",Nl)],selected:[ur("update",(n,s,i)=>{to(n.element,"aria-selected",i)})],none:[ur("update",st)]}))];const co=Zs({fields:Dc,name:"toggling",active:sy,apis:jE,state:{init:()=>{const n=Ht(!1);return{get:()=>n.get(),set:s=>n.set(s),clear:()=>n.set(!1),readState:()=>n.get()}}}}),Pd=()=>{const n=(s,i)=>{i.stop(),Ad(s)};return[Le(Cs(),n),Le(_c(),n),cu(D()),cu(Ze())]},ay=n=>_o(Cr([n.map(s=>Tl((i,l)=>{s(i),l.stop()})).toArray(),Pd()])),sd="alloy.item-hover",rg="alloy.item-focus",UE="alloy.item-toggled",ZE=n=>{(ys(n.element).isNone()||bo.isFocused(n))&&(bo.isFocused(n)||bo.focus(n),jt(n,sd,{item:n}))},WE=n=>{jt(n,rg,{item:n})},yw=ue(sd),qE=ue(rg),cx=ue(UE),GE=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Dt),xR=[Ue("data"),Ue("components"),Ue("dom"),we("hasSubmenu",!1),Xo("toggling"),Xo("role"),yo("itemBehaviours",[co,bo,qt,Ee]),we("ignoreFocus",!1),we("domModification",{}),ur("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:GE(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:lo(n.itemBehaviours,[n.toggling.fold(co.revoke,s=>co.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Fn(i,(u,f)=>f!=="exclusive"),onToggled:(u,f)=>{so(i.onToggled)&&i.onToggled(u,f),((p,b)=>{jt(p,UE,{item:p,state:b})})(u,f)}}))(s,n.role.exists(i=>i==="option")))),bo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{WE(s)}}),qt.config({mode:"execution"}),Ee.config({store:{mode:"memory",initialValue:n.data}}),Po("item-type-events",[...Pd(),Le(Vt(),ZE),Le(Bf(),bo.focus)])]),components:n.components,eventOrder:n.eventOrder})),we("eventOrder",{})],kR=[Ue("dom"),Ue("components"),ur("builder",n=>({dom:n.dom,components:n.components,events:_o([xb(Bf())])}))],vw=ue("item-widget"),xw=ue([Ji({name:"widget",overrides:n=>({behaviours:at([Ee.config({store:{mode:"manual",getValue:s=>n.data,setValue:st}})])})})]),KE=[Ue("uid"),Ue("data"),Ue("components"),Ue("dom"),we("autofocus",!1),we("ignoreFocus",!1),yo("widgetBehaviours",[Ee,bo,qt]),we("domModification",{}),G_(xw()),ur("builder",n=>{const s=U_(vw(),n,xw()),i=Z_(vw(),n,s.internals()),l=f=>mr(f,n,"widget").map(p=>(qt.focusIn(p),p)),u=(f,p)=>(ey(p.event.target)||n.autofocus&&p.setSource(f.element),O.none());return{dom:n.dom,components:i,domModification:n.domModification,events:_o([Tl((f,p)=>{l(f).each(b=>{p.stop()})}),Le(Vt(),ZE),Le(Bf(),(f,p)=>{n.autofocus?l(f):bo.focus(f)})]),behaviours:lo(n.widgetBehaviours,[Ee.config({store:{mode:"memory",initialValue:n.data}}),bo.config({ignore:n.ignoreFocus,onFocus:f=>{WE(f)}}),qt.config({mode:"special",focusIn:n.autofocus?f=>{l(f)}:T(),onLeft:u,onRight:u,onEscape:(f,p)=>bo.isFocused(f)||n.autofocus?(n.autofocus&&p.setSource(f.element),O.none()):(bo.focus(f),O.some(!0))})])}})],YE=us("type",{widget:KE,item:xR,separator:kR}),kw=ue([Kv({factory:{sketch:n=>{const s=ea("menu.spec item",YE,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>Co(s,"uid")?s:{...s,uid:zc("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),XE=ue([Ar("role"),Ue("value"),Ue("items"),Ue("dom"),Ue("components"),we("eventOrder",{}),Nt("menuBehaviours",[$n,Ee,yn,qt]),$a("movement",{mode:"menu",moveOnTab:!0},us("mode",{grid:[Nv(),ur("config",(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}))],matrix:[ur("config",(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager})),Ue("rowSelector"),we("previousSelector",O.none)],menu:[we("moveOnTab",!0),ur("config",(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}))]})),js("markers",Wm()),we("fakeFocus",!1),we("focusManager",Q_()),un("onHighlight"),un("onDehighlight"),we("showMenuRole",!0)]),JE=ue("alloy.menu-focus"),Rh=cl({name:"Menu",configFields:XE(),partFields:kw(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Do(n.menuBehaviours,[$n.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Ee.config({store:{mode:"memory",initialValue:n.value}}),yn.config({find:O.some}),qt.config(n.movement.config(n,n.movement))]),events:_o([Le(qE(),(u,f)=>{const p=f.event;u.getSystem().getByDom(p.target).each(b=>{$n.highlight(u,b),f.stop(),jt(u,JE(),{menu:u,item:b})})}),Le(yw(),(u,f)=>{const p=f.event.item;$n.highlight(u,p)}),Le(cx(),(u,f)=>{const{item:p,state:b}=f.event;b&&cs(p.element,"role")==="menuitemradio"&&((y,_)=>{const E=ra(y.element,'[role="menuitemradio"][aria-checked="true"]');St(E,C=>{kn(C,_.element)||y.getSystem().getByDom(C).each(A=>{co.off(A)})})})(u,p)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),QE=(n,s,i,l)=>ct(i,l).bind(u=>ct(n,u).bind(f=>{const p=QE(n,s,i,f);return O.some([f].concat(p))})).getOr([]),e3=n=>n.type==="prepared"?O.some(n.menu):O.none(),_R=()=>{const n=Ht({}),s=Ht({}),i=Ht({}),l=dn(),u=Ht({}),f=y=>p(y).bind(e3),p=y=>ct(s.get(),y),b=y=>ct(n.get(),y);return{setMenuBuilt:(y,_)=>{s.set({...s.get(),[y]:{type:"prepared",menu:_}})},setContents:(y,_,E,C)=>{l.set(y),n.set(E),s.set(_),u.set(C);const A=((B,L)=>{const U={};Jn(B,(Z,X)=>{St(Z,te=>{U[te]=X})});const q=L,ee=Tn(L,(Z,X)=>({k:Z,v:X})),W=In(ee,(Z,X)=>[X].concat(QE(U,q,ee,X)));return In(U,Z=>ct(W,Z).getOr([Z]))})(C,E);i.set(A)},expand:y=>ct(n.get(),y).map(_=>{const E=ct(i.get(),y).getOr([]);return[_].concat(E)}),refresh:y=>ct(i.get(),y),collapse:y=>ct(i.get(),y).bind(_=>_.length>1?O.some(_.slice(1)):O.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const _=u.get();return tn(jo(_),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{n.set({}),s.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,_)=>{const E=gn(b(y).toArray(),C=>f(C).isSome());return ct(i.get(),y).bind(C=>{const A=Bl(E.concat(C));return(B=>{const L=[];for(let U=0;U<B.length;U++){const q=B[U];if(!q.isSome())return O.none();L.push(q.getOrDie())}return O.some(L)})(xn(A,(B,L)=>((U,q,ee)=>f(U).bind(W=>(Z=>Yo(n.get(),(X,te)=>X===Z))(U).bind(Z=>q(Z).map(X=>({triggeredMenu:W,triggeringItem:X,triggeringPath:ee})))))(B,_,A.slice(0,L+1)).fold(()=>Hs(l.get(),B)?[]:[O.none()],U=>[O.some(U)])))})}}},wR=e3,ad=At("tiered-menu-item-highlight"),CR=At("tiered-menu-item-dehighlight");var Ii;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ii||(Ii={}));const Dh=ue("collapse-item"),up=nd({name:"TieredMenu",configFields:[ai("onExecute"),ai("onEscape"),Rd("onOpenMenu"),Rd("onOpenSubmenu"),un("onRepositionMenu"),un("onCollapseMenu"),we("highlightOnOpen",Ii.HighlightMenuAndItem),_l("data",[Ue("primary"),Ue("menus"),Ue("expansions")]),we("fakeFocus",!1),un("onHighlightItem"),un("onDehighlightItem"),un("onHover"),qm(),Ue("dom"),we("navigateOnHover",!0),we("stayInDom",!1),Nt("tmenuBehaviours",[qt,$n,yn,no]),we("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:(n,s)=>{const i=dn(),l=_R(),u=Z=>Ee.getValue(Z).value,f=Z=>In(n.data.menus,(X,te)=>xn(X.items,ne=>ne.type==="separator"?[]:[ne.data.value])),p=$n.highlight,b=(Z,X)=>{p(Z,X),$n.getHighlighted(X).orThunk(()=>$n.getFirst(X)).each(te=>{n.fakeFocus?$n.highlight(X,te):zr(Z,te.element,Bf())})},y=(Z,X)=>fi(et(X,te=>Z.lookupMenu(te).bind(ne=>ne.type==="prepared"?O.some(ne.menu):O.none()))),_=(Z,X,te)=>{const ne=y(X,X.otherMenus(te));St(ne,pe=>{Bn(pe.element,[n.markers.backgroundMenu]),n.stayInDom||no.remove(Z,pe)})},E=(Z,X)=>{const te=(ne=>i.get().getOrThunk(()=>{const pe={},_e=ra(ne.element,`.${n.markers.item}`),je=gn(_e,Ie=>cs(Ie,"aria-haspopup")==="true");return St(je,Ie=>{ne.getSystem().getByDom(Ie).each(Me=>{const lt=u(Me);pe[lt]=Me})}),i.set(pe),pe}))(Z);Jn(te,(ne,pe)=>{const _e=$e(X,pe);to(ne.element,"aria-expanded",_e)})},C=(Z,X,te)=>O.from(te[0]).bind(ne=>X.lookupMenu(ne).bind(pe=>{if(pe.type==="notbuilt")return O.none();{const _e=pe.menu,je=y(X,te.slice(1));return St(je,Ie=>{ut(Ie.element,n.markers.backgroundMenu)}),Ns(_e.element)||no.append(Z,Mi(_e)),Bn(_e.element,[n.markers.backgroundMenu]),b(Z,_e),_(Z,X,te),O.some(_e)}}));let A;(function(Z){Z[Z.HighlightSubmenu=0]="HighlightSubmenu",Z[Z.HighlightParent=1]="HighlightParent"})(A||(A={}));const B=(Z,X,te=A.HighlightSubmenu)=>{if(X.hasConfigured(vo)&&vo.isDisabled(X))return O.some(X);{const ne=u(X);return l.expand(ne).bind(pe=>(E(Z,pe),O.from(pe[0]).bind(_e=>l.lookupMenu(_e).bind(je=>{const Ie=((Me,lt,Et)=>{if(Et.type==="notbuilt"){const $t=Me.getSystem().build(Et.nbMenu());return l.setMenuBuilt(lt,$t),$t}return Et.menu})(Z,_e,je);return Ns(Ie.element)||no.append(Z,Mi(Ie)),n.onOpenSubmenu(Z,X,Ie,Bl(pe)),te===A.HighlightSubmenu?($n.highlightFirst(Ie),C(Z,l,pe)):($n.dehighlightAll(Ie),O.some(X))}))))}},L=(Z,X)=>{const te=u(X);return l.collapse(te).bind(ne=>(E(Z,ne),C(Z,l,ne).map(pe=>(n.onCollapseMenu(Z,X,pe),pe))))},U=Z=>(X,te)=>Dd(te.getSource(),`.${n.markers.item}`).bind(ne=>X.getSystem().getByDom(ne).toOptional().bind(pe=>Z(X,pe).map(Pt))),q=_o([Le(JE(),(Z,X)=>{const te=X.event.item;l.lookupItem(u(te)).each(()=>{const ne=X.event.menu;$n.highlight(Z,ne);const pe=u(X.event.item);l.refresh(pe).each(_e=>_(Z,l,_e))})}),Tl((Z,X)=>{const te=X.event.target;Z.getSystem().getByDom(te).each(ne=>{u(ne).indexOf("collapse-item")===0&&L(Z,ne),B(Z,ne,A.HighlightSubmenu).fold(()=>{n.onExecute(Z,ne)},st)})}),dr((Z,X)=>{(te=>{const ne=((_e,je,Ie)=>In(Ie,(Me,lt)=>{const Et=()=>Rh.sketch({...Me,value:lt,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:($t,Xt)=>{jt($t,ad,{menuComp:$t,itemComp:Xt})},onDehighlight:($t,Xt)=>{jt($t,CR,{menuComp:$t,itemComp:Xt})},focusManager:n.fakeFocus?rR():Q_()});return lt===je?{type:"prepared",menu:_e.getSystem().build(Et())}:{type:"notbuilt",nbMenu:Et}}))(te,n.data.primary,n.data.menus),pe=f();return l.setContents(n.data.primary,ne,n.data.expansions,pe),l.getPrimary()})(Z).each(te=>{no.append(Z,Mi(te)),n.onOpenMenu(Z,te),n.highlightOnOpen===Ii.HighlightMenuAndItem?b(Z,te):n.highlightOnOpen===Ii.HighlightJustMenu&&p(Z,te)})}),Le(ad,(Z,X)=>{n.onHighlightItem(Z,X.event.menuComp,X.event.itemComp)}),Le(CR,(Z,X)=>{n.onDehighlightItem(Z,X.event.menuComp,X.event.itemComp)}),...n.navigateOnHover?[Le(yw(),(Z,X)=>{const te=X.event.item;((ne,pe)=>{const _e=u(pe);l.refresh(_e).bind(je=>(E(ne,je),C(ne,l,je)))})(Z,te),B(Z,te,A.HighlightParent),n.onHover(Z,te)})]:[]]),ee=Z=>$n.getHighlighted(Z).bind($n.getHighlighted),W={collapseMenu:Z=>{ee(Z).each(X=>{L(Z,X)})},highlightPrimary:Z=>{l.getPrimary().each(X=>{b(Z,X)})},repositionMenus:Z=>{l.getPrimary().bind(te=>ee(Z).bind(ne=>{const pe=u(ne),_e=Xs(l.getMenus()),je=fi(et(_e,wR));return l.getTriggeringPath(pe,Ie=>((Me,lt,Et)=>ao(lt,$t=>{if(!$t.getSystem().isConnected())return O.none();const Xt=$n.getCandidates($t);return H(Xt,xo=>u(xo)===Et)}))(0,je,Ie))}).map(ne=>({primary:te,triggeringPath:ne}))).fold(()=>{(te=>O.from(te.components()[0]).filter(ne=>cs(ne.element,"role")==="menu"))(Z).each(te=>{n.onRepositionMenu(Z,te,[])})},({primary:te,triggeringPath:ne})=>{n.onRepositionMenu(Z,te,ne)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Do(n.tmenuBehaviours,[qt.config({mode:"special",onRight:U((Z,X)=>ey(X.element)?O.none():B(Z,X,A.HighlightSubmenu)),onLeft:U((Z,X)=>ey(X.element)?O.none():L(Z,X)),onEscape:U((Z,X)=>L(Z,X).orThunk(()=>n.onEscape(Z,X).map(()=>Z))),focusIn:(Z,X)=>{l.getPrimary().each(te=>{zr(Z,te.element,Bf())})}}),$n.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),yn.config({find:Z=>$n.getHighlighted(Z)}),no.config({})]),eventOrder:n.eventOrder,apis:W,events:q}},extraApis:{tieredData:(n,s,i)=>({primary:n,menus:s,expansions:i}),singleData:(n,s)=>({primary:n,menus:ri(n,s),expansions:{}}),collapseItem:n=>({value:At(Dh()),meta:{text:n}})}}),Vr=nd({name:"InlineView",configFields:[Ue("lazySink"),un("onShow"),un("onHide"),Wl("onEscape"),Nt("inlineBehaviours",[x,Ee,Yi]),Nr("fireDismissalEventInstead",[we("event",ju())]),Nr("fireRepositionEventInstead",[we("event",Td())]),we("getRelated",O.none),we("isExtraPart",Fe),we("eventOrder",O.none)],factory:(n,s)=>{const i=(p,b,y,_)=>{const E=n.lazySink(p).getOrDie();x.openWhileCloaked(p,b,()=>Wa.positionWithinBounds(E,p,y,_())),Ee.setValue(p,O.some({mode:"position",config:y,getBounds:_}))},l=(p,b,y,_)=>{const E=((C,A,B,L,U)=>{const q=()=>C.lazySink(A),ee=L.type==="horizontal"?{layouts:{onLtr:()=>Pb(),onRtl:()=>Lb()}}:{},W=Z=>(X=>X.length===2)(Z)?ee:{};return up.sketch({dom:{tag:"div"},data:L.data,markers:L.menu.markers,highlightOnOpen:L.menu.highlightOnOpen,fakeFocus:L.menu.fakeFocus,onEscape:()=>(x.close(A),C.onEscape.map(Z=>Z(A)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(Z,X)=>{Wa.positionWithinBounds(q().getOrDie(),X,B,U())},onOpenSubmenu:(Z,X,te,ne)=>{const pe=q().getOrDie();Wa.position(pe,te,{anchor:{type:"submenu",item:X,...W(ne)}})},onRepositionMenu:(Z,X,te)=>{const ne=q().getOrDie();Wa.positionWithinBounds(ne,X,B,U()),St(te,pe=>{const _e=W(pe.triggeringPath);Wa.position(ne,pe.triggeredMenu,{anchor:{type:"submenu",item:pe.triggeringItem,..._e}})})}})})(n,p,b,y,_);x.open(p,E),Ee.setValue(p,O.some({mode:"menu",menu:E}))},u=p=>{x.isOpen(p)&&Ee.getValue(p).each(b=>{switch(b.mode){case"menu":x.getState(p).each(up.repositionMenus);break;case"position":const y=n.lazySink(p).getOrDie();Wa.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{x.setContent(p,b)},showAt:(p,b,y)=>{const _=O.none;i(p,b,y,_)},showWithinBounds:i,showMenuAt:(p,b,y)=>{l(p,b,y,O.none)},showMenuWithinBounds:l,hide:p=>{x.isOpen(p)&&(Ee.setValue(p,O.none()),x.close(p))},getContent:p=>x.getState(p),reposition:u,isOpen:x.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Do(n.inlineBehaviours,[x.config({isPartOf:(p,b,y)=>Ki(b,y)||((_,E)=>n.getRelated(_).exists(C=>Ki(C,E)))(p,y),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Ee.config({store:{mode:"memory",initialValue:O.none()}}),Yi.config({channels:{...j({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...le({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:f}},apis:{showAt:(n,s,i,l)=>{n.showAt(s,i,l)},showWithinBounds:(n,s,i,l,u)=>{n.showWithinBounds(s,i,l,u)},showMenuAt:(n,s,i,l)=>{n.showMenuAt(s,i,l)},showMenuWithinBounds:(n,s,i,l,u)=>{n.showMenuWithinBounds(s,i,l,u)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}});var Ld,K1,dx=tinymce.util.Tools.resolve("tinymce.util.Delay"),iy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t3=tinymce.util.Tools.resolve("tinymce.EditorManager"),ff=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Ld||(Ld={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(K1||(K1={}));const Gn=n=>s=>s.options.get(n),Y1=n=>s=>O.from(n(s)),o3=n=>{const s=ff.deviceType.isPhone(),i=ff.deviceType.isTablet()||s,l=n.options.register,u=p=>ko(p)||p===!1,f=p=>ko(p)||cn(p);l("skin",{processor:p=>ko(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:f,default:iy.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>ko(p)||pn(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>pn(p)||ko(p)||Kr(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),la(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:K1.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||pn(p),default:!ff.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},_w=Gn("readonly"),X1=Gn("height"),J1=Gn("width"),Q1=Y1(Gn("min_width")),ly=Y1(Gn("min_height")),cy=Y1(Gn("max_width")),ux=Y1(Gn("max_height")),dy=Y1(Gn("style_formats")),fx=Gn("style_formats_merge"),n3=Gn("style_formats_autohide"),ww=Gn("content_langs"),r3=Gn("removed_menuitems"),Mh=Gn("toolbar_mode"),mx=Gn("toolbar_groups"),sg=Gn("toolbar_location"),Cw=Gn("fixed_toolbar_container"),SR=Gn("fixed_toolbar_container_target"),s3=Gn("toolbar_persist"),Sw=Gn("toolbar_sticky_offset"),fp=Gn("menubar"),uy=Gn("toolbar"),px=Gn("file_picker_callback"),e0=Gn("file_picker_validator_handler"),Ew=Gn("font_size_input_default_unit"),t0=Gn("file_picker_types"),gx=Gn("typeahead_urls"),a3=Gn("anchor_top"),i3=Gn("anchor_bottom"),mf=Gn("draggable_modal"),l3=Gn("statusbar"),c3=Gn("elementpath"),Mc=Gn("branding"),qa=Gn("resize"),d3=Gn("paste_as_text"),hx=Gn("sidebar_show"),u3=Gn("promotion"),zw=Gn("help_accessibility"),bx=Gn("default_font_stack"),ag=n=>n.options.get("skin")===!1,o0=n=>n.options.get("menubar")!==!1,yx=n=>{const s=n.options.get("skin_url");if(ag(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return t3.baseURL+"/skins/ui/"+i}},vx=n=>O.from(n.options.get("skin_url")),f3=n=>n.options.get("line_height_formats").split(" "),n0=n=>{const s=uy(n),i=ko(s),l=Kr(s)&&s.length>0;return!r0(n)&&(l||i||s===!0)},xx=n=>{const s=la(9,l=>n.options.get("toolbar"+(l+1))),i=gn(s,ko);return Fo(i.length>0,i)},r0=n=>xx(n).fold(()=>{const s=uy(n);return cr(s,ko)&&s.length>0},Pt),Tw=n=>sg(n)===K1.bottom,Ow=n=>{var s;if(!n.inline)return O.none();const i=(s=Cw(n))!==null&&s!==void 0?s:"";if(i.length>0)return Pr(Sa(),i);const l=SR(n);return Bt(l)?O.some(kt(l)):O.none()},Bh=n=>n.inline&&Ow(n).isSome(),kx=n=>Ow(n).getOrThunk(()=>bn(Tr(kt(n.getElement())))),_x=n=>n.inline&&!o0(n)&&!n0(n)&&!r0(n),mp=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Bh(n)&&!_x(n),pp=n=>!Bh(n)&&n.options.get("ui_mode")==="split",ig=n=>{const s=n.options.get("menu");return In(s,i=>({...i,items:i.items}))};var s0=Object.freeze({__proto__:null,get ToolbarMode(){return Ld},get ToolbarLocation(){return K1},register:o3,getSkinUrl:yx,getSkinUrlOption:vx,isReadOnly:_w,isSkinDisabled:ag,getHeightOption:X1,getWidthOption:J1,getMinWidthOption:Q1,getMinHeightOption:ly,getMaxWidthOption:cy,getMaxHeightOption:ux,getUserStyleFormats:dy,shouldMergeStyleFormats:fx,shouldAutoHideStyleFormats:n3,getLineHeightFormats:f3,getContentLanguages:ww,getRemovedMenuItems:r3,isMenubarEnabled:o0,isMultipleToolbars:r0,isToolbarEnabled:n0,isToolbarPersist:s3,getMultipleToolbarsOption:xx,getUiContainer:kx,useFixedContainer:Bh,isSplitUiMode:pp,getToolbarMode:Mh,isDraggableModal:mf,isDistractionFree:_x,isStickyToolbar:mp,getStickyToolbarOffset:Sw,getToolbarLocation:sg,isToolbarLocationBottom:Tw,getToolbarGroups:mx,getMenus:ig,getMenubar:fp,getToolbar:uy,getFilePickerCallback:px,getFilePickerTypes:t0,useTypeaheadUrls:gx,getAnchorTop:a3,getAnchorBottom:i3,getFilePickerValidatorHandler:e0,getFontSizeInputDefaultUnit:Ew,useStatusBar:l3,useElementPath:c3,promotionEnabled:u3,useBranding:Mc,getResize:qa,getPasteAsText:d3,getSidebarShow:hx,useHelpAccessibility:zw,getDefaultFontStack:bx});const ER=["visible","hidden","clip"],m3=n=>Oi(n).length>0&&!$e(ER,n),p3=n=>{if(pi(n)){const s=br(n,"overflow-x"),i=br(n,"overflow-y");return m3(s)||m3(i)}return!1},lg=(n,s)=>pp(n)?((i,l)=>{const u=Xp(l,p3),f=u.length===0?bi(l).map(Ca).map(p=>Xp(p,p3)).getOr([]):u;return tt(f).map(p=>({element:p,others:f.slice(1),isFullscreen:()=>(b=>b.plugins.fullscreen&&b.plugins.fullscreen.isFullscreen())(i)}))})(n,s):O.none(),cg=n=>{const s=[...et(n.others,ds),Rs()];return n.isFullscreen()?Rs():((i,l)=>wo(l,(u,f)=>$l(u,f),i))(ds(n.element),s)},Ci=nd({name:"Button",factory:n=>{const s=ay(n.action),i=n.dom.tag,l=u=>ct(n.dom,"attributes").bind(f=>ct(f,u));return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:lo(n.buttonBehaviours,[bo.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[we("uid",void 0),Ue("dom"),we("components",[]),yo("buttonBehaviours",[bo,qt]),Xo("action"),Xo("role"),we("eventOrder",{})]}),cm=n=>{const s=Ba(n),i=Rn(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return wo(b,(y,_)=>_.name==="class"?y:{...y,[_.name]:_.value},{})})(s),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=i.length===0?{}:{innerHtml:gu(s)};return{tag:Ja(s),classes:u,attributes:l,...f}},Hn=n=>{const s=(i=>i.uid!==void 0)(n)&&Vo(n,"uid")?n.uid:zc("memento");return{get:i=>i.getSystem().getByUid(s).getOrDie(),getOpt:i=>i.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}};var zR=Object.freeze({__proto__:null,exhibit:(n,s)=>qr({attributes:Wi([{key:s.tabAttr,value:"true"}])})}),g3=[we("tabAttr","data-alloy-tabstop")];const lr=Zs({fields:g3,name:"tabstopping",active:zR}),Aw=At("tooltip.exclusive"),a0=At("tooltip.show"),i0=At("tooltip.hide"),l0=At("tooltip.immediateHide"),c0=At("tooltip.immediateShow"),h3=(n,s,i)=>{n.getSystem().broadcastOn([Aw],{})};var TR=Object.freeze({__proto__:null,hideAllExclusive:h3,immediateOpenClose:(n,s,i,l)=>Bo(n,l?c0:l0),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&no.set(u,l)})},setEnabled:(n,s,i,l)=>i.setEnabled(l)}),OR=Object.freeze({__proto__:null,events:(n,s)=>{const i=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(Pi(p),n.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()&&s.isEnabled()){h3(f);const p=n.lazySink(f).getOrDie(),b=f.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:_o(n.mode==="normal"?[Le(Vt(),y=>{Bo(f,a0)}),Le(Eo(),y=>{Bo(f,i0)})]:[]),behaviours:at([no.config({})])});s.setTooltip(b),af(p,b),n.onShow(f,b),Wa.position(p,b,{anchor:n.anchor(f)})}},u=f=>{s.getTooltip().each(p=>{const b=n.lazySink(f).getOrDie();Wa.position(b,p,{anchor:n.anchor(f)})})};return _o(Cr([[Vp(f=>{n.onSetup(f)}),Le(a0,f=>{s.resetTimer(()=>{l(f)},n.delayForShow())}),Le(i0,f=>{s.resetTimer(()=>{i(f)},n.delayForHide())}),Le(c0,f=>{s.resetTimer(()=>{l(f)},0)}),Le(l0,f=>{s.resetTimer(()=>{i(f)},0)}),Le(Di(),(f,p)=>{const b=p;b.universal||$e(b.channels,Aw)&&i(f)}),wc(f=>{i(f)})],(()=>{switch(n.mode){case"normal":return[Le(zn(),f=>{Bo(f,c0)}),Le(Df(),f=>{Bo(f,l0)}),Le(Vt(),f=>{Bo(f,a0)}),Le(Eo(),f=>{Bo(f,i0)})];case"follow-highlight":return[Le(Hp(),(f,p)=>{Bo(f,a0)}),Le(Od(),f=>{Bo(f,i0)})];case"children-normal":return[Le(zn(),(f,p)=>{ys(f.element).each(b=>{gi(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Bo(f,c0)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),Le(Df(),f=>{ys(f.element).fold(()=>{Bo(f,l0)},st)}),Le(Vt(),f=>{Pr(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{Bo(f,a0)},b=>{s.isShowing()&&(n.onShow(f,b),u(f))})})}),Le(Eo(),f=>{Pr(f.element,"[data-mce-tooltip]:hover").fold(()=>{Bo(f,i0)},st)})];default:return[Le(zn(),(f,p)=>{ys(f.element).each(b=>{gi(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Bo(f,c0)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),Le(Df(),f=>{ys(f.element).fold(()=>{Bo(f,l0)},st)})]}})()]))}}),AR=[Ue("lazySink"),Ue("tooltipDom"),we("exclusive",!0),we("tooltipComponents",[]),ir("delayForShow",ue(300)),ir("delayForHide",ue(300)),ir("onSetup",st),wl("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),we("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ue([bs,Gr,os,Ss,ns,qn]),onRtl:ue([bs,Gr,os,Ss,ns,qn])},bubble:Jl(0,-2,{})})),un("onHide"),un("onShow")],NR=Object.freeze({__proto__:null,init:()=>{const n=Ht(!0),s=dn(),i=dn(),l=()=>{s.on(clearTimeout)},u=ue("not-implemented");return Us({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(f,p)=>{l(),s.set(setTimeout(f,p))},readState:u,isEnabled:()=>n.get(),setEnabled:f=>n.set(f)})}});const zs=Zs({fields:AR,name:"tooltipping",active:OR,state:NR,apis:TR}),{entries:b3,setPrototypeOf:Nw,isFrozen:y3,getPrototypeOf:v3,getOwnPropertyDescriptor:RR}=Object;let{freeze:ec,seal:pf,create:x3}=Object,{apply:Rw,construct:Dw}=typeof Reflect<"u"&&Reflect;Rw||(Rw=function(n,s,i){return n.apply(s,i)}),ec||(ec=function(n){return n}),pf||(pf=function(n){return n}),Dw||(Dw=function(n,s){return new n(...s)});const Mw=Su(Array.prototype.forEach),DR=Su(Array.prototype.pop),d0=Su(Array.prototype.push),wx=Su(String.prototype.toLowerCase),Cx=Su(String.prototype.toString),MR=Su(String.prototype.match),Ct=Su(String.prototype.replace),Ph=Su(String.prototype.indexOf),BR=Su(String.prototype.trim),id=Su(RegExp.prototype.test),dg=(Sx=TypeError,function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return Dw(Sx,s)});var Sx;function Su(n){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return Rw(n,s,l)}}function Qn(n,s,i){var l;i=(l=i)!==null&&l!==void 0?l:wx,Nw&&Nw(n,null);let u=s.length;for(;u--;){let f=s[u];if(typeof f=="string"){const p=i(f);p!==f&&(y3(s)||(s[u]=p),f=p)}n[f]=!0}return n}function fy(n){const s=x3(null);for(const[i,l]of b3(n))s[i]=l;return s}function Ex(n,s){for(;n!==null;){const i=RR(n,s);if(i){if(i.get)return Su(i.get);if(typeof i.value=="function")return Su(i.value)}n=v3(n)}return function(i){return console.warn("fallback value for",i),null}}const Bw=ec(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u0=ec(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lh=ec(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k3=ec(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pw=ec(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),PR=ec(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_3=ec(["#text"]),LR=ec(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),zx=ec(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w3=ec(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tx=ec(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),IR=pf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FR=pf(/<%[\w\W]*|[\w\W]*%>/gm),Lw=pf(/\${[\w\W]*}/gm),HR=pf(/^data-[\-\w.\u00B7-\uFFFF]/),$R=pf(/^aria-[\-\w]+$/),C3=pf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VR=pf(/^(?:\w+script|data):/i),jR=pf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dm=pf(/^html$/i);var f0=Object.freeze({__proto__:null,MUSTACHE_EXPR:IR,ERB_EXPR:FR,TMPLIT_EXPR:Lw,DATA_ATTR:HR,ARIA_ATTR:$R,IS_ALLOWED_URI:C3,IS_SCRIPT_OR_DATA:VR,ATTR_WHITESPACE:jR,DOCTYPE_NAME:dm});const UR=()=>typeof window>"u"?null:window;var ZR=function n(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UR();const i=Oe=>n(Oe);if(i.version="3.0.5",i.removed=[],!s||!s.document||s.document.nodeType!==9)return i.isSupported=!1,i;const l=s.document,u=l.currentScript;let{document:f}=s;const{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:_,NodeFilter:E,NamedNodeMap:C=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:A,DOMParser:B,trustedTypes:L}=s,U=_.prototype,q=Ex(U,"cloneNode"),ee=Ex(U,"nextSibling"),W=Ex(U,"childNodes"),Z=Ex(U,"parentNode");if(typeof b=="function"){const Oe=f.createElement("template");Oe.content&&Oe.content.ownerDocument&&(f=Oe.content.ownerDocument)}let X,te="";const{implementation:ne,createNodeIterator:pe,createDocumentFragment:_e,getElementsByTagName:je}=f,{importNode:Ie}=l;let Me={};i.isSupported=typeof b3=="function"&&typeof Z=="function"&&ne&&ne.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:lt,ERB_EXPR:Et,TMPLIT_EXPR:$t,DATA_ATTR:Xt,ARIA_ATTR:xo,IS_SCRIPT_OR_DATA:Qo,ATTR_WHITESPACE:_r}=f0;let{IS_ALLOWED_URI:Lr}=f0,Io=null;const fn=Qn({},[...Bw,...u0,...Lh,...Pw,..._3]);let oo=null;const Ir=Qn({},[...LR,...zx,...w3,...Tx]);let Kn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Si=null,Ei=null,Da=!0,xa=!0,zp=!1,jy=!0,Rg=!1,Tp=!1,vv=!1,Dg=!1,Sm=!1,ub=!1,fb=!1,Uy=!0,m_=!1,xv=!0,Mg=!1,Em={},Op=null;const kv=Qn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _v=null;const An=Qn({},["audio","video","img","source","image","track"]);let zm=null;const Du=Qn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mb="http://www.w3.org/1998/Math/MathML",p_="http://www.w3.org/2000/svg",Ap="http://www.w3.org/1999/xhtml";let Zy=Ap,A4=!1,g_=null;const XB=Qn({},[mb,p_,Ap],Cx);let Wy;const JB=["application/xhtml+xml","text/html"];let tl,pb=null;const QB=f.createElement("form"),X5=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},h_=function(Oe){if(!pb||pb!==Oe){if(Oe&&typeof Oe=="object"||(Oe={}),Oe=fy(Oe),Wy=Wy=JB.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?"text/html":Oe.PARSER_MEDIA_TYPE,tl=Wy==="application/xhtml+xml"?Cx:wx,Io="ALLOWED_TAGS"in Oe?Qn({},Oe.ALLOWED_TAGS,tl):fn,oo="ALLOWED_ATTR"in Oe?Qn({},Oe.ALLOWED_ATTR,tl):Ir,g_="ALLOWED_NAMESPACES"in Oe?Qn({},Oe.ALLOWED_NAMESPACES,Cx):XB,zm="ADD_URI_SAFE_ATTR"in Oe?Qn(fy(Du),Oe.ADD_URI_SAFE_ATTR,tl):Du,_v="ADD_DATA_URI_TAGS"in Oe?Qn(fy(An),Oe.ADD_DATA_URI_TAGS,tl):An,Op="FORBID_CONTENTS"in Oe?Qn({},Oe.FORBID_CONTENTS,tl):kv,Si="FORBID_TAGS"in Oe?Qn({},Oe.FORBID_TAGS,tl):{},Ei="FORBID_ATTR"in Oe?Qn({},Oe.FORBID_ATTR,tl):{},Em="USE_PROFILES"in Oe&&Oe.USE_PROFILES,Da=Oe.ALLOW_ARIA_ATTR!==!1,xa=Oe.ALLOW_DATA_ATTR!==!1,zp=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,jy=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Rg=Oe.SAFE_FOR_TEMPLATES||!1,Tp=Oe.WHOLE_DOCUMENT||!1,Sm=Oe.RETURN_DOM||!1,ub=Oe.RETURN_DOM_FRAGMENT||!1,fb=Oe.RETURN_TRUSTED_TYPE||!1,Dg=Oe.FORCE_BODY||!1,Uy=Oe.SANITIZE_DOM!==!1,m_=Oe.SANITIZE_NAMED_PROPS||!1,xv=Oe.KEEP_CONTENT!==!1,Mg=Oe.IN_PLACE||!1,Lr=Oe.ALLOWED_URI_REGEXP||C3,Zy=Oe.NAMESPACE||Ap,Kn=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&X5(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Kn.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&X5(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Kn.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Kn.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rg&&(xa=!1),ub&&(Sm=!0),Em&&(Io=Qn({},[..._3]),oo=[],Em.html===!0&&(Qn(Io,Bw),Qn(oo,LR)),Em.svg===!0&&(Qn(Io,u0),Qn(oo,zx),Qn(oo,Tx)),Em.svgFilters===!0&&(Qn(Io,Lh),Qn(oo,zx),Qn(oo,Tx)),Em.mathMl===!0&&(Qn(Io,Pw),Qn(oo,w3),Qn(oo,Tx))),Oe.ADD_TAGS&&(Io===fn&&(Io=fy(Io)),Qn(Io,Oe.ADD_TAGS,tl)),Oe.ADD_ATTR&&(oo===Ir&&(oo=fy(oo)),Qn(oo,Oe.ADD_ATTR,tl)),Oe.ADD_URI_SAFE_ATTR&&Qn(zm,Oe.ADD_URI_SAFE_ATTR,tl),Oe.FORBID_CONTENTS&&(Op===kv&&(Op=fy(Op)),Qn(Op,Oe.FORBID_CONTENTS,tl)),xv&&(Io["#text"]=!0),Tp&&Qn(Io,["html","head","body"]),Io.table&&(Qn(Io,["tbody"]),delete Si.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw dg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');X=Oe.TRUSTED_TYPES_POLICY,te=X.createHTML("")}else X===void 0&&(X=function(Jt,zo){if(typeof Jt!="object"||typeof Jt.createPolicy!="function")return null;let wr=null;const vs="data-tt-policy-suffix";zo&&zo.hasAttribute(vs)&&(wr=zo.getAttribute(vs));const Bs="dompurify"+(wr?"#"+wr:"");try{return Jt.createPolicy(Bs,{createHTML:Ts=>Ts,createScriptURL:Ts=>Ts})}catch{return console.warn("TrustedTypes policy "+Bs+" could not be created."),null}}(L,u)),X!==null&&typeof te=="string"&&(te=X.createHTML(""));ec&&ec(Oe),pb=Oe}},J5=Qn({},["mi","mo","mn","ms","mtext"]),Q5=Qn({},["foreignobject","desc","title","annotation-xml"]),So=Qn({},["title","style","font","a","script"]),Bg=Qn({},u0);Qn(Bg,Lh),Qn(Bg,k3);const b_=Qn({},Pw);Qn(b_,PR);const Pg=function(Oe){d0(i.removed,{element:Oe});try{Oe.parentNode.removeChild(Oe)}catch{Oe.remove()}},qy=function(Oe,Jt){try{d0(i.removed,{attribute:Jt.getAttributeNode(Oe),from:Jt})}catch{d0(i.removed,{attribute:null,from:Jt})}if(Jt.removeAttribute(Oe),Oe==="is"&&!oo[Oe])if(Sm||ub)try{Pg(Jt)}catch{}else try{Jt.setAttribute(Oe,"")}catch{}},N4=function(Oe){let Jt,zo;if(Dg)Oe="<remove></remove>"+Oe;else{const Bs=MR(Oe,/^[\r\n\t ]+/);zo=Bs&&Bs[0]}Wy==="application/xhtml+xml"&&Zy===Ap&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const wr=X?X.createHTML(Oe):Oe;if(Zy===Ap)try{Jt=new B().parseFromString(wr,Wy)}catch{}if(!Jt||!Jt.documentElement){Jt=ne.createDocument(Zy,"template",null);try{Jt.documentElement.innerHTML=A4?te:wr}catch{}}const vs=Jt.body||Jt.documentElement;return Oe&&zo&&vs.insertBefore(f.createTextNode(zo),vs.childNodes[0]||null),Zy===Ap?je.call(Jt,Tp?"html":"body")[0]:Tp?Jt.documentElement:vs},R4=function(Oe){return pe.call(Oe.ownerDocument||Oe,Oe,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},D4=function(Oe){return typeof y=="object"?Oe instanceof y:Oe&&typeof Oe=="object"&&typeof Oe.nodeType=="number"&&typeof Oe.nodeName=="string"},Kd=function(Oe,Jt,zo){Me[Oe]&&Mw(Me[Oe],wr=>{wr.call(i,Jt,zo,pb)})},eN=function(Oe){let Jt;if(Kd("beforeSanitizeElements",Oe,null),(zo=Oe)instanceof A&&(typeof zo.nodeName!="string"||typeof zo.textContent!="string"||typeof zo.removeChild!="function"||!(zo.attributes instanceof C)||typeof zo.removeAttribute!="function"||typeof zo.setAttribute!="function"||typeof zo.namespaceURI!="string"||typeof zo.insertBefore!="function"||typeof zo.hasChildNodes!="function"))return Pg(Oe),!0;var zo;const wr=tl(Oe.nodeName);if(Kd("uponSanitizeElement",Oe,{tagName:wr,allowedTags:Io}),Oe.hasChildNodes()&&!D4(Oe.firstElementChild)&&(!D4(Oe.content)||!D4(Oe.content.firstElementChild))&&id(/<[/\w]/g,Oe.innerHTML)&&id(/<[/\w]/g,Oe.textContent))return Pg(Oe),!0;if(!Io[wr]||Si[wr]){if(!Si[wr]&&tN(wr)&&(Kn.tagNameCheck instanceof RegExp&&id(Kn.tagNameCheck,wr)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(wr)))return!1;if(xv&&!Op[wr]){const vs=Z(Oe)||Oe.parentNode,Bs=W(Oe)||Oe.childNodes;if(Bs&&vs)for(let Ts=Bs.length-1;Ts>=0;--Ts)vs.insertBefore(q(Bs[Ts],!0),ee(Oe))}return Pg(Oe),!0}return Oe instanceof _&&!function(vs){let Bs=Z(vs);Bs&&Bs.tagName||(Bs={namespaceURI:Zy,tagName:"template"});const Ts=wx(vs.tagName),sa=wx(Bs.tagName);return!!g_[vs.namespaceURI]&&(vs.namespaceURI===p_?Bs.namespaceURI===Ap?Ts==="svg":Bs.namespaceURI===mb?Ts==="svg"&&(sa==="annotation-xml"||J5[sa]):!!Bg[Ts]:vs.namespaceURI===mb?Bs.namespaceURI===Ap?Ts==="math":Bs.namespaceURI===p_?Ts==="math"&&Q5[sa]:!!b_[Ts]:vs.namespaceURI===Ap?!(Bs.namespaceURI===p_&&!Q5[sa])&&!(Bs.namespaceURI===mb&&!J5[sa])&&!b_[Ts]&&(So[Ts]||!Bg[Ts]):!(Wy!=="application/xhtml+xml"||!g_[vs.namespaceURI]))}(Oe)?(Pg(Oe),!0):wr!=="noscript"&&wr!=="noembed"&&wr!=="noframes"||!id(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(Rg&&Oe.nodeType===3&&(Jt=Oe.textContent,Jt=Ct(Jt,lt," "),Jt=Ct(Jt,Et," "),Jt=Ct(Jt,$t," "),Oe.textContent!==Jt&&(d0(i.removed,{element:Oe.cloneNode()}),Oe.textContent=Jt)),Kd("afterSanitizeElements",Oe,null),!1):(Pg(Oe),!0)},M4=function(Oe,Jt,zo){if(Uy&&(Jt==="id"||Jt==="name")&&(zo in f||zo in QB))return!1;if(!(xa&&!Ei[Jt]&&id(Xt,Jt))){if(!(Da&&id(xo,Jt))){if(!oo[Jt]||Ei[Jt]){if(!(tN(Oe)&&(Kn.tagNameCheck instanceof RegExp&&id(Kn.tagNameCheck,Oe)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(Oe))&&(Kn.attributeNameCheck instanceof RegExp&&id(Kn.attributeNameCheck,Jt)||Kn.attributeNameCheck instanceof Function&&Kn.attributeNameCheck(Jt))||Jt==="is"&&Kn.allowCustomizedBuiltInElements&&(Kn.tagNameCheck instanceof RegExp&&id(Kn.tagNameCheck,zo)||Kn.tagNameCheck instanceof Function&&Kn.tagNameCheck(zo))))return!1}else if(!zm[Jt]){if(!id(Lr,Ct(zo,_r,""))){if((Jt!=="src"&&Jt!=="xlink:href"&&Jt!=="href"||Oe==="script"||Ph(zo,"data:")!==0||!_v[Oe])&&!(zp&&!id(Qo,Ct(zo,_r,"")))){if(zo)return!1}}}}}return!0},tN=function(Oe){return Oe.indexOf("-")>0},oN=function(Oe){let Jt,zo,wr,vs;Kd("beforeSanitizeAttributes",Oe,null);const{attributes:Bs}=Oe;if(!Bs)return;const Ts={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oo};for(vs=Bs.length;vs--;){Jt=Bs[vs];const{name:sa,namespaceURI:Gy}=Jt;zo=sa==="value"?Jt.value:BR(Jt.value);const t7=zo;if(wr=tl(sa),Ts.attrName=wr,Ts.attrValue=zo,Ts.keepAttr=!0,Ts.forceKeepAttr=void 0,Kd("uponSanitizeAttribute",Oe,Ts),zo=Ts.attrValue,Ts.forceKeepAttr)continue;if(!Ts.keepAttr){qy(sa,Oe);continue}if(!jy&&id(/\/>/i,zo)){qy(sa,Oe);continue}Rg&&(zo=Ct(zo,lt," "),zo=Ct(zo,Et," "),zo=Ct(zo,$t," "));const nN=tl(Oe.nodeName);if(M4(nN,wr,zo)){if(!m_||wr!=="id"&&wr!=="name"||(qy(sa,Oe),zo="user-content-"+zo),X&&typeof L=="object"&&typeof L.getAttributeType=="function"&&!Gy)switch(L.getAttributeType(nN,wr)){case"TrustedHTML":zo=X.createHTML(zo);break;case"TrustedScriptURL":zo=X.createScriptURL(zo)}if(zo!==t7)try{Gy?Oe.setAttributeNS(Gy,sa,zo):Oe.setAttribute(sa,zo)}catch{qy(sa,Oe)}}else qy(sa,Oe)}Kd("afterSanitizeAttributes",Oe,null)},e7=function Oe(Jt){let zo;const wr=R4(Jt);for(Kd("beforeSanitizeShadowDOM",Jt,null);zo=wr.nextNode();)Kd("uponSanitizeShadowNode",zo,null),eN(zo)||(zo.content instanceof p&&Oe(zo.content),oN(zo));Kd("afterSanitizeShadowDOM",Jt,null)};return i.sanitize=function(Oe){let Jt,zo,wr,vs,Bs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A4=!Oe,A4&&(Oe="<!-->"),typeof Oe!="string"&&!D4(Oe)){if(typeof Oe.toString!="function")throw dg("toString is not a function");if(typeof(Oe=Oe.toString())!="string")throw dg("dirty is not a string, aborting")}if(!i.isSupported)return Oe;if(vv||h_(Bs),i.removed=[],typeof Oe=="string"&&(Mg=!1),Mg){if(Oe.nodeName){const Gy=tl(Oe.nodeName);if(!Io[Gy]||Si[Gy])throw dg("root node is forbidden and cannot be sanitized in-place")}}else if(Oe instanceof y)Jt=N4("<!---->"),zo=Jt.ownerDocument.importNode(Oe,!0),zo.nodeType===1&&zo.nodeName==="BODY"||zo.nodeName==="HTML"?Jt=zo:Jt.appendChild(zo);else{if(!Sm&&!Rg&&!Tp&&Oe.indexOf("<")===-1)return X&&fb?X.createHTML(Oe):Oe;if(Jt=N4(Oe),!Jt)return Sm?null:fb?te:""}Jt&&Dg&&Pg(Jt.firstChild);const Ts=R4(Mg?Oe:Jt);for(;wr=Ts.nextNode();)eN(wr)||(wr.content instanceof p&&e7(wr.content),oN(wr));if(Mg)return Oe;if(Sm){if(ub)for(vs=_e.call(Jt.ownerDocument);Jt.firstChild;)vs.appendChild(Jt.firstChild);else vs=Jt;return(oo.shadowroot||oo.shadowrootmode)&&(vs=Ie.call(l,vs,!0)),vs}let sa=Tp?Jt.outerHTML:Jt.innerHTML;return Tp&&Io["!doctype"]&&Jt.ownerDocument&&Jt.ownerDocument.doctype&&Jt.ownerDocument.doctype.name&&id(dm,Jt.ownerDocument.doctype.name)&&(sa="<!DOCTYPE "+Jt.ownerDocument.doctype.name+`>
`+sa),Rg&&(sa=Ct(sa,lt," "),sa=Ct(sa,Et," "),sa=Ct(sa,$t," ")),X&&fb?X.createHTML(sa):sa},i.setConfig=function(Oe){h_(Oe),vv=!0},i.clearConfig=function(){pb=null,vv=!1},i.isValidAttribute=function(Oe,Jt,zo){pb||h_({});const wr=tl(Oe),vs=tl(Jt);return M4(wr,vs,zo)},i.addHook=function(Oe,Jt){typeof Jt=="function"&&(Me[Oe]=Me[Oe]||[],d0(Me[Oe],Jt))},i.removeHook=function(Oe){if(Me[Oe])return DR(Me[Oe])},i.removeHooks=function(Oe){Me[Oe]&&(Me[Oe]=[])},i.removeAllHooks=function(){Me={}},i}();const S3=n=>ZR().sanitize(n);var Id=tinymce.util.Tools.resolve("tinymce.util.I18n");const WR={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},E3="temporary-placeholder",Iw=n=>()=>ct(n,E3).getOr("!not found!"),ug=(n,s)=>{const i=n.toLowerCase();if(Id.isRtl()){const l=((u,f)=>nl(u,f)?u:((p,b)=>p+b)(u,f))(i,"-rtl");return Co(s,l)?l:i}return i},m0=(n,s)=>ct(s,ug(n,s)),z3=(n,s)=>{const i=s();return m0(n,i).getOrThunk(Iw(i))},Ox=()=>Po("add-focusable",[dr(n=>{Db(n.element,"svg").each(s=>to(s,"focusable","false"))})]),T3=(n,s,i,l)=>{var u,f;const p=(y=>!!Id.isRtl()&&Co(WR,y))(s)?["tox-icon--flip"]:[],b=ct(i,ug(s,i)).or(l).getOrThunk(Iw(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(p),innerHtml:b},behaviours:at([...(f=n.behaviours)!==null&&f!==void 0?f:[],Ox()])}},Bc=(n,s,i,l=O.none())=>T3(s,n,i(),l),qR={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Fw=nd({name:"Notification",factory:n=>{const s=At("notification-text"),i=Hn({dom:cm(`<p id=${s}>${S3(n.backstageProvider.translate(n.text))}</p>`),behaviours:at([no.config({})])}),l=C=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${C}%`}}}),u=C=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${C}%`}}),f=Hn({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:at([no.config({})])}),p={updateProgress:(C,A)=>{C.getSystem().isConnected()&&f.getOpt(C).each(B=>{no.set(B,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},u(A)])})},updateText:(C,A)=>{if(C.getSystem().isConnected()){const B=i.get(C);no.set(B,[ms(A)])}}},b=Cr([n.icon.toArray(),n.level.toArray(),n.level.bind(C=>O.from(qR[C])).toArray()]),y=Hn(Ci.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[Bc("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:at([lr.config({}),zs.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:C=>{n.onAction(C)}})),_=((C,A,B)=>{const L=B(),U=H(C,q=>Co(L,ug(q,L)));return T3({tag:"div",classes:["tox-notification__icon"]},U.getOr(E3),L,O.none())})(b,0,n.iconProvider),E=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:at([no.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:n.level.map(C=>["tox-notification","tox-notification--in",`tox-notification--${C}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:at([lr.config({}),bo.config({}),qt.config({mode:"special",onEscape:C=>(n.onAction(C),O.some(!0))})]),components:E.concat(n.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[Xo("level"),Ue("progress"),Xo("icon"),Ue("onAction"),Ue("text"),Ue("iconProvider"),Ue("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var O3=(n,s,i,l)=>{const u=s.backstage.shared,f=()=>kt(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const y=ds(f());return O.some(y)},b=y=>{p().each(_=>{St(y,E=>{_n(E.element,"width"),No(E.element)>_.width&&po(E.element,"width",_.width+"px")})})};return{open:(y,_,E)=>{const C=()=>{l.on(L=>{_();const U=E();(q=>{no.remove(q,A),B()})(L),((q,ee)=>{Rn(q.element).length===0?((W,Z)=>{Vr.hide(W),l.clear(),Z&&n.focus()})(q,ee):((W,Z)=>{Z&&qt.focusIn(W)})(q,ee)})(L,U)})},A=Aa(Fw.sketch({text:y.text,level:$e(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:y.icon,onAction:C,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const L=Mi(A);l.on(U=>{no.append(U,L),Vr.reposition(U),Br.refresh(U),b(U.components())})}else{const L=Aa(Vr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:at([qt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),no.config({}),...mp(n)&&!u.header.isPositionedAtTop()?[]:[Br.config({contextual:{lazyContext:()=>O.some(ds(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:W=>lg(n,W.element).map(Z=>({bounds:cg(Z),optScrollEnv:O.some({currentScrollTop:Z.element.dom.scrollTop,scrollElmTop:Pe(Z.element).top})})).getOrThunk(()=>({bounds:Rs(),optScrollEnv:O.none()}))})]])})),U=Mi(A),q={maxHeightFunction:rp()},ee={...u.anchors.banner(),overrides:q};l.set(L),i.add(L),Vr.showWithinBounds(L,U,{anchor:ee},p)}cn(y.timeout)&&y.timeout>0&&dx.setEditorTimeout(n,()=>{C()},y.timeout);const B=()=>{l.on(L=>{Vr.reposition(L),Br.refresh(L),b(L.components())})};return{close:C,reposition:B,text:L=>{Fw.updateText(A,L)},settings:y,getEl:()=>A.element.dom,progressBar:{value:L=>{Fw.updateProgress(A,L)}}}},close:y=>{y.close()},getArgs:y=>y.settings}},p0;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(p0||(p0={}));var gf=p0;const Ax="tox-menu-nav__js",Nx="tox-collection__item",A3="tox-swatch",N3={normal:Ax,color:A3},R3="tox-collection__item--enabled",D3="tox-collection__item-icon",g0="tox-collection__item-label",Hw="tox-collection__item-caret",um="tox-collection__item--active",h0="tox-collection__item-container",b0="tox-collection__item-container--row",fg=n=>ct(N3,n).getOr(Ax),e8=n=>n==="color"?"tox-swatches":"tox-menu",$w=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:e8(n),tieredMenu:"tox-tiered-menu"}),Ih=n=>{const s=$w(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:fg(n)}},M3=(n,s,i)=>{const l=$w(i);return{tag:"div",classes:Cr([[l.menu,`tox-menu-${s}-column`],n?[l.hasIcons]:[]])}},B3=[Rh.parts.items({})],Rx=(n,s,i)=>{const l=$w(i);return{dom:{tag:"div",classes:Cr([[l.tieredMenu]])},markers:Ih(i)}},GR=ue([Xo("data"),we("inputAttributes",{}),we("inputStyles",{}),we("tag","input"),we("inputClasses",[]),un("onSetValue"),we("styles",{}),we("eventOrder",{}),Nt("inputBehaviours",[Ee,bo]),we("selectOnFocus",!0)]),KR=n=>at([bo.config({onFocus:n.selectOnFocus?s=>{const i=s.element,l=Ku(i);i.dom.setSelectionRange(0,l.length)}:st})]),YR=n=>({...KR(n),...Do(n.inputBehaviours,[Ee.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ku(s.element),setValue:(s,i)=>{Ku(s.element)!==i&&Wf(s.element,i)}},onSetValue:n.onSetValue})])}),P3=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),gp=nd({name:"Input",configFields:GR(),factory:(n,s)=>({uid:n.uid,dom:P3(n),components:[],behaviours:YR(n),eventOrder:n.eventOrder})}),L3=At("refetch-trigger-event"),I3=At("redirect-menu-item-interaction"),F3="tox-menu__searcher",y0=n=>Pr(n.element,`.${F3}`).bind(s=>n.getSystem().getByDom(s).toOptional()),H3=y0,$3=n=>({fetchPattern:Ee.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),V3=n=>{const s=(u,f)=>(f.cut(),O.none()),i=(u,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return jt(u,I3,p),O.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Nx]},components:[gp.sketch({inputClasses:[F3,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:at([Po(l,[Le(lu(),u=>{Bo(u,L3)}),Le(Rr(),(u,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),qt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,qt.name()]}})]}},v0="tox-collection--results__js",j3=n=>{var s;return n.dom?{...n,dom:{...n.dom,attributes:{...(s=n.dom.attributes)!==null&&s!==void 0?s:{},id:At("aria-item-search-result-id"),"aria-selected":"false"}}}:n},Dx=(n,s)=>i=>{const l=wt(i,s);return et(l,u=>({dom:n,components:u}))},U3=(n,s)=>{const i=[];let l=[];return St(n,(u,f)=>{s(u,f)?(l.length>0&&i.push(l),l=[],(Co(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),et(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},x0=(n,s,i)=>Rh.parts.items({preprocess:l=>{const u=et(l,i);return n!=="auto"&&n>1?Dx({tag:"div",classes:["tox-collection__group"]},n)(u):U3(u,(f,p)=>s[p].type==="separator")}}),Vw=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[x0(n,s,Dt)]}),k0=n=>Oo(n,s=>"icon"in s&&s.icon!==void 0),fm=n=>(console.error(oi(n)),console.log(n),O.none()),XR=(n,s,i,l,u)=>{const f=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rh.parts.items({preprocess:b=>U3(b,(y,_)=>p[_].type==="separator")})]});var p;return{value:n,dom:f.dom,components:f.components,items:i}},jw=(n,s,i,l,u)=>{if(u.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rh.parts.items({preprocess:p!=="auto"?Dx({tag:"div",classes:["tox-swatches__row"]},p):Dt})]}]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const f=Vw(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const f=u.menuType!=="searchable"?Vw(l,i):u.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const _=At("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[V3({i18n:Id.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],v0],attributes:{id:_}},components:[x0(p,b,j3)]}]}})(l,i,u.searchMode):((p,b,y=!0)=>{const _=At("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",v0].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:_}},components:[x0(p,b,j3)]}})(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rh.parts.items({preprocess:Dx({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}return{value:n,dom:M3(s,l,u.menuType),components:B3,items:i}},Gs=Or("type"),Uw=Or("name"),Zw=Or("label"),Fd=Or("text"),Ww=Or("title"),qw=Or("icon"),Fh=Or("value"),JR=Ha("fetch"),Z3=Ha("getSubmenuItems"),my=Ha("onAction"),W3=Ha("onItemAction"),mg=ir("onSetup",()=>st),QR=Ar("name"),pg=Ar("text"),eD=Ar("role"),Hd=Ar("icon"),_0=Ar("tooltip"),Gw=Ar("label"),py=Ar("shortcut"),Kw=Wl("select"),Mx=fs("active",!1),t8=fs("borderless",!1),$d=fs("enabled",!0),Bx=fs("primary",!1),q3=n=>we("columns",n),Pc=we("meta",{}),Yw=ir("onAction",st),Hh=n=>vi("type",n),Xw=n=>Qr("name","name",Fu(()=>At(`${n}-name`)),Ms),G3=Kt([Gs,pg]),tD=Kt([Hh("autocompleteitem"),Mx,$d,Pc,Fh,pg,Hd]),mm=[$d,_0,Hd,pg,mg],Jw=Kt([Gs,my,py].concat(mm)),K3=n=>xr("toolbarbutton",Jw,n),w0=[Mx].concat(mm),Px=Kt(w0.concat([Gs,my,py])),Lx=n=>xr("ToggleButton",Px,n),Y3=[ir("predicate",Fe),wl("scope","node",["node","editor"]),wl("position","selection",["node","selection","line"])],oD=mm.concat([Hh("contextformbutton"),Bx,my,ta("original",Dt)]),nD=w0.concat([Hh("contextformbutton"),Bx,my,ta("original",Dt)]),rD=mm.concat([Hh("contextformbutton")]),sD=w0.concat([Hh("contextformtogglebutton")]),aD=us("type",{contextformbutton:oD,contextformtogglebutton:nD}),iD=Kt([Hh("contextform"),ir("initValue",ue("")),Gw,ni("commands",aD),es("launch",us("type",{contextformbutton:rD,contextformtogglebutton:sD}))].concat(Y3)),X3=Kt([Hh("contexttoolbar"),Or("items")].concat(Y3)),Ix=[Gs,Or("src"),Ar("alt"),Mn("classes",[],Ms)],lD=Kt(Ix),cD=[Gs,Fd,QR,Mn("classes",["tox-collection__item-label"],Ms)],dD=Kt(cD),J3=Hu(()=>yc("type",{cardimage:lD,cardtext:dD,cardcontainer:gy})),gy=Kt([Gs,vi("direction","horizontal"),vi("align","left"),vi("valign","middle"),ni("items",J3)]),$h=[$d,pg,eD,py,Qr("value","value",Fu(()=>At("menuitem-value")),Ri()),Pc],uD=Kt([Gs,Gw,ni("items",J3),mg,Yw].concat($h)),Qw=Kt([Gs,Mx,Hd].concat($h)),Q3=[Gs,Or("fancytype"),Yw],ez=[we("initData",{})].concat(Q3),tz=[Wl("select"),ha("initData",{},[fs("allowCustomColors",!0),vi("storageKey","default"),Im("colors",Ri())])].concat(Q3),oz=us("fancytype",{inserttable:ez,colorswatch:tz}),nz=Kt([Gs,mg,Yw,Hd].concat($h)),rz=Kt([Gs,Z3,mg,Hd].concat($h)),fD=Kt([Gs,Hd,Mx,mg,my].concat($h)),e2=(n,s,i)=>{const l=ra(n.element,"."+i);if(l.length>0){const u=wa(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return O.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return O.none()},C0=n=>((s,i)=>at([Po(s,i)]))(At("unnamed-events"),n),Fx="silver.readonly",mD=Kt([js("readonly",il)]),Vh=(n,s)=>{const i=n.mainUi.outerContainer.element,l=[n.mainUi.mothership,...n.uiMotherships];s&&St(l,u=>{u.broadcastOn([S()],{target:i})}),St(l,u=>{u.broadcastOn([Fx],{readonly:s})})},sz=(n,s)=>{n.on("init",()=>{n.mode.isReadOnly()&&Vh(s,!0)}),n.on("SwitchMode",()=>Vh(s,n.mode.isReadOnly())),_w(n)&&n.mode.set("readonly")},ya=()=>Yi.config({channels:{[Fx]:{schema:mD,onReceive:(n,s)=>{vo.set(n,s.readonly)}}}}),ci=n=>vo.config({disabled:n}),az=n=>vo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),Hx=n=>vo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),S0=(n,s)=>{const i=n.getApi(s);return l=>{l(i)}},gg=(n,s)=>dr(i=>{S0(n,i)(l=>{const u=n.onSetup(l);so(u)&&s.set(u)})}),hp=(n,s)=>wc(i=>S0(n,i)(s.get())),iz=(n,s)=>Tl((i,l)=>{S0(n,i)(n.onAction),n.triggersSubmenu||s!==gf.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Bo(i,Hm()),l.stop())}),pD={[si()]:["disabling","alloy.base.behaviour","toggling","item-events"]},hy=fi,by=(n,s,i,l)=>{const u=Ht(st);return{type:"item",dom:s.dom,components:hy(s.optComponents),data:n.data,eventOrder:pD,hasSubmenu:n.triggersSubmenu,itemBehaviours:at([Po("item-events",[iz(n,i),gg(n,u),hp(n,u)]),(f=()=>!n.enabled||l.isDisabled(),vo.config({disabled:f,disableClass:"tox-collection__item--state-disabled"})),ya(),no.config({})].concat(n.itemBehaviours))};var f},yy=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),$x=n=>{const s=ff.os.isMacOS()||ff.os.isiOS(),i=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=et(l,f=>{const p=f.toLowerCase().trim();return Co(i,p)?i[p]:f});return s?u.join(""):u.join("+")},t2=(n,s,i=[D3])=>Bc(n,{tag:"div",classes:i},s),lz=n=>({dom:{tag:"div",classes:[g0]},components:[ms(Id.translate(n))]}),o2=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),cz=(n,s)=>({dom:{tag:"div",classes:[g0]},components:[{dom:{tag:n.tag,styles:n.styles},components:[ms(Id.translate(s))]}]}),dz=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ms($x(n))]}),uz=n=>t2("checkmark",n,["tox-collection__item-checkmark"]),fz=n=>{const s=n.map(i=>({attributes:{id:At("menu-item"),"aria-label":Id.translate(i)}})).getOr({});return{tag:"div",classes:[Ax,Nx],...s}},E0=(n,s,i,l=O.none())=>n.presets==="color"?((u,f,p)=>{const b=u.value,y=u.iconContent.map(E=>((C,A,B)=>{const L=A();return m0(C,L).or(B).getOrThunk(Iw(L))})(E,f.icons,p)),_=u.ariaLabel.map(E=>({"aria-label":f.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=A3,C=y.getOr(""),A={tag:"div",attributes:_,classes:[E]};return b==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:C}:b==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:C}:Bt(b)?{...A,attributes:{...A.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:C}:A})(),optComponents:[]}})(n,s,l):((u,f,p,b)=>{const y={tag:"div",classes:[D3]},_=p?u.iconContent.map(B=>Bc(B,y,f.icons,b)).orThunk(()=>O.some({dom:y})):O.none(),E=u.checkMark,C=O.from(u.meta).fold(()=>lz,B=>Co(B,"style")?ht(cz,B.style):lz),A=u.htmlContent.fold(()=>u.textContent.map(C),B=>O.some(o2(B,[g0])));return{dom:fz(u.ariaLabel),optComponents:[_,A,u.shortcutContent.map(dz),E,u.caret]}})(n,s,i,l),mz=(n,s,i)=>ct(n,"tooltipWorker").map(l=>[zs.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:rp}}),mode:"follow-highlight",onShow:(u,f)=>{l(p=>{zs.setComponents(u,[Yu({element:kt(p)})])})}})]).getOrThunk(()=>i.map(l=>[zs.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),n2=(n,s)=>{const i=(l=>iy.DOM.encode(l))(Id.translate(n));if(s.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},r2=(n,s)=>et(n,i=>{switch(i.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":b0,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[h0,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,r2(i.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(f=>$e(s.cardText.highlightOn,f)),u=l?O.from(s.cardText.matchText).getOr(""):"";return o2(n2(i.text,u),i.classes)}}),bp=Li(vw(),xw()),s2=n=>({value:jh(n)}),a2=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pz=n=>a2.test(n)||i2.test(n),jh=n=>Vn(n,"#").toUpperCase(),l2=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},z0=n=>{const s=l2(n.red)+l2(n.green)+l2(n.blue);return s2(s)},c2=Math.min,gz=Math.max,Vx=Math.round,gD=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,hz=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,yp=(n,s,i,l)=>({red:n,green:s,blue:i,alpha:l}),T0=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},bz=n=>{let s,i,l;const u=(n.hue||0)%360;let f=n.saturation/100,p=n.value/100;if(f=gz(0,c2(f,1)),p=gz(0,c2(p,1)),f===0)return s=i=l=Vx(255*p),yp(s,i,l,1);const b=u/60,y=p*f,_=y*(1-Math.abs(b%2-1)),E=p-y;switch(Math.floor(b)){case 0:s=y,i=_,l=0;break;case 1:s=_,i=y,l=0;break;case 2:s=0,i=y,l=_;break;case 3:s=0,i=_,l=y;break;case 4:s=_,i=0,l=y;break;case 5:s=y,i=0,l=_;break;default:s=i=l=0}return s=Vx(255*(s+E)),i=Vx(255*(i+E)),l=Vx(255*(l+E)),yp(s,i,l,1)},Eu=n=>{const s=(f=>{const p=(y=>({value:y.value.replace(a2,(E,C,A,B)=>C+C+A+A+B+B)}))(f),b=i2.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(n),i=parseInt(s[1],16),l=parseInt(s[2],16),u=parseInt(s[3],16);return yp(i,l,u,1)},d2=(n,s,i,l)=>{const u=parseInt(n,10),f=parseInt(s,10),p=parseInt(i,10),b=parseFloat(l);return yp(u,f,p,b)},jx=n=>{const s=gD.exec(n);if(s!==null)return O.some(d2(s[1],s[2],s[3],"1"));const i=hz.exec(n);return i!==null?O.some(d2(i[1],i[2],i[3],i[4])):O.none()},yz=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,vz=yp(255,0,0,1),Uh=(n,s)=>{n.dispatch("ResizeContent",s)},vy=(n,s)=>{n.dispatch("TextColorChange",s)},xz=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),xy=(n,s)=>()=>{n(),s()},va=n=>Zh(n,"NodeChange",s=>{s.setEnabled(n.selection.isEditable())}),hf=(n,s)=>i=>{const l=va(n)(i),u=((f,p)=>b=>{const y=yl(),_=()=>{b.setActive(f.formatter.match(p));const E=f.formatter.formatChanged(p,b.setActive);y.set(E)};return f.initialized?_():f.once("init",_),()=>{f.off("init",_),y.clear()}})(n,s)(i);return()=>{l(),u()}},Zh=(n,s,i)=>l=>{const u=()=>i(l),f=()=>{i(l),n.on(s,u)};return n.initialized?f():n.once("init",f),()=>{n.off("init",f),n.off(s,u)}},kz=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},tc=(n,s)=>()=>n.execCommand(s);var Lc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Ux={},_z=n=>ct(Ux,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=Lc.getItem(s);if(Fs(i)){const u=Lc.getItem("tinymce-custom-colors");Lc.setItem(s,Bt(u)?u:"[]")}const l=((u,f=10)=>{const p=Lc.getItem(u),b=ko(p)?JSON.parse(p):[],y=f-(_=b).length<0?_.slice(0,f):_;var _;const E=C=>{y.splice(C,1)};return{add:C=>{((A,B)=>{const L=Zo(A,B);return L===-1?O.none():O.some(L)})(y,C).each(E),y.unshift(C),y.length>f&&y.pop(),Lc.setItem(u,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return Ux[n]=l,l}),u2=(n,s)=>{_z(n).add(s)},ky=(n,s,i)=>({hue:n,saturation:s,value:i}),Zx=n=>{let s=0,i=0,l=0;const u=n.red/255,f=n.green/255,p=n.blue/255,b=Math.min(u,Math.min(f,p)),y=Math.max(u,Math.max(f,p));return b===y?(l=b,ky(0,0,100*l)):(s=u===b?3:p===b?1:5,s=60*(s-(u===b?f-p:p===b?u-f:p-u)/(y-b)),i=(y-b)/y,l=y,ky(Math.round(s),Math.round(100*i),Math.round(100*l)))},Wx=n=>z0(bz(n)),wz=n=>{return(s=n,pz(s)?O.some({value:jh(s)}):O.none()).orThunk(()=>jx(n).map(z0)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),l.fillStyle="#FFFFFF",l.fillStyle=n,l.fillRect(0,0,1,1);const u=l.getImageData(0,0,1,1).data,f=u[0],p=u[1],b=u[2],y=u[3];return z0(yp(f,p,b,y))});var s},f2="forecolor",m2="hilitecolor",hD=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:"#"+wz(n[i]).value,icon:"checkmark",type:"choiceitem"});return s},Vd=n=>s=>s.options.get(n),O0="#000000",Wh=(n,s)=>s===f2&&n.options.isSet("color_map_foreground")?Vd("color_map_foreground")(n):s===m2&&n.options.isSet("color_map_background")?Vd("color_map_background")(n):Vd("color_map")(n),qx=(n,s="default")=>Math.max(5,Math.ceil(Math.sqrt(Wh(n,s).length))),Cz=(n,s)=>{const i=Vd("color_cols")(n),l=qx(n,s);return i===qx(n)?l:i},p2=(n,s="default")=>Math.round(s===f2?Vd("color_cols_foreground")(n):s===m2?Vd("color_cols_background")(n):Vd("color_cols")(n)),g2=Vd("custom_colors"),Sz=Vd("color_default_foreground"),Ez=Vd("color_default_background"),zz=(n,s)=>{const i=kt(n.selection.getStart()),l=s==="hilitecolor"?Wc(i,u=>{if(rr(u)){const f=br(u,"background-color");return Fo(jx(f).exists(p=>p.alpha!==0),f)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):br(i,"color");return jx(l).map(u=>"#"+z0(u).value)},Gx=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},h2=(n,s,i,l)=>{i==="custom"?Az(n)(u=>{u.each(f=>{u2(s,f),n.execCommand("mceApplyTextcolor",s,f),l(f)})},zz(n,s).getOr(O0)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",s)):(l(i),n.execCommand("mceApplyTextcolor",s,i))},b2=(n,s,i)=>n.concat((l=>et(_z(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(s).concat(Gx(i))),Tz=(n,s,i)=>l=>{l(b2(n,s,i))},y2=(n,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},v2=(n,s)=>{n.setTooltip(s)},Oz=(n,s)=>i=>{const l=zz(n,s);return Hs(l,i.toUpperCase())},x2=(n,s,i)=>{if(fl(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",u=b2(Wh(n,s),s,!1),f=H(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(f)])},k2=(n,s,i,l)=>{n.ui.registry.addSplitButton(s,{tooltip:x2(n,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:Oz(n,i),columns:p2(n,i),fetch:Tz(Wh(n,i),i,g2(n)),onAction:u=>{h2(n,i,l.get(),st)},onItemAction:(u,f)=>{h2(n,i,f,p=>{l.set(p),vy(n,{name:s,color:p})})},onSetup:u=>{y2(u,s,l.get());const f=p=>{p.name===s&&(y2(u,p.name,p.color),v2(u,x2(n,i,p.color)))};return n.on("TextColorChange",f),xy(va(n)(u),()=>{n.off("TextColorChange",f)})}})},_y=(n,s,i,l,u)=>{n.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(v2(f,x2(n,i,u.get())),y2(f,s,u.get()),va(n)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Oz(n,i),initData:{storageKey:i},onAction:f=>{h2(n,i,f.value,p=>{u.set(p),vy(n,{name:s,color:p})})}}]})},Az=n=>(s,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(O.from(p)),f.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:st,onCancel:()=>{s(O.none())}})},qh=(n,s,i,l,u,f,p,b)=>{const y=k0(s),_=_2(s,i,l,u!=="color"?"normal":"color",f,p,b);return jw(n,y,_,l,{menuType:u})},_2=(n,s,i,l,u,f,p)=>fi(et(n,b=>{return b.type==="choiceitem"?(y=b,xr("choicemenuitem",Qw,y)).fold(fm,_=>O.some(((E,C,A,B,L,U,q,ee=!0)=>{const W=E0({presets:A,textContent:C?E.text:O.none(),htmlContent:O.none(),ariaLabel:E.text,iconContent:E.icon,shortcutContent:C?E.shortcut:O.none(),checkMark:C?O.some(uz(q.icons)):O.none(),caret:O.none(),value:E.value},q,ee),Z=E.text.filter(ue(!C)).map(X=>zs.config(q.tooltips.getConfig({tooltipText:q.translate(X)})));return Un(by({data:yy(E),enabled:E.enabled,getApi:X=>({setActive:te=>{co.set(X,te)},isActive:()=>co.isOn(X),isEnabled:()=>!vo.isDisabled(X),setEnabled:te=>vo.set(X,!te)}),onAction:X=>B(E.value),onSetup:X=>(X.setActive(L),st),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},W,U,q),{toggling:{toggleClass:R3,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(_,i===1,l,s,f(_.value),u,p,k0(n)))):O.none();var y})),A0=(n,s)=>{const i=Ih(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>s==="color"?Pr(l.element,"[aria-checked=true]"):O.none()}},w2=At("cell-over"),Nz=At("cell-execute"),bD=(n,s,i)=>{const l=f=>jt(f,Nz,{row:n,col:s}),u=(f,p)=>{p.stop(),l(f)};return Aa({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:at([Po("insert-table-picker-cell",[Le(Vt(),bo.focus),Le(si(),l),Le(Cs(),u),Le(_c(),u)]),co.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),bo.config({onFocus:f=>jt(f,w2,{row:n,col:s})})])})},Rz=n=>xn(n,s=>et(s,Mi)),Dz=(n,s)=>ms(`${s}x${n}`),Mz={inserttable:(n,s)=>{const i=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=((p,b,y)=>{const _=[];for(let E=0;E<10;E++){const C=[];for(let A=0;A<10;A++){const B=p(E+1,A+1);C.push(bD(E,A,B))}_.push(C)}return _})(i),u=Dz(0,0),f=Hn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:at([no.config({})])});return{type:"widget",data:{value:At("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[bp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Rz(l).concat(f.asSpec()),behaviours:at([Po("insert-table-picker",[dr(p=>{no.set(f.get(p),[u])}),Zu(w2,(p,b,y)=>{const{row:_,col:E}=y.event;((C,A,B,L,U)=>{for(let q=0;q<10;q++)for(let ee=0;ee<10;ee++)co.set(C[q][ee],q<=A&&ee<=B)})(l,_,E),no.set(f.get(p),[Dz(_+1,E+1)])}),Zu(Nz,(p,b,y)=>{const{row:_,col:E}=y.event;Bo(p,Hm()),n.onAction({numRows:_+1,numColumns:E+1})})]),qt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,s)=>{const i=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>b2(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),_=>_.concat(Gx(y)))})(n,s),l=s.colorinput.getColorCols(n.initData.storageKey),u="color",f={...qh(At("menu-value"),i,p=>{n.onAction({value:p})},l,u,gf.CLOSE_ON_EXECUTE,n.select.getOr(Fe),s.shared.providers),markers:Ih(u),movement:A0(l,u),showMenuRole:!1};return{type:"widget",data:{value:At("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[bp.widget(Rh.sketch(f))]}}},Bz=n=>({type:"separator",dom:{tag:"div",classes:[Nx,"tox-collection__group-heading"]},components:n.text.map(ms).toArray()});var yD=Object.freeze({__proto__:null,getCoupled:(n,s,i,l)=>i.getOrCreate(n,s,l),getExistingCoupled:(n,s,i,l)=>i.getExisting(n,s,l)}),Pz=[js("others",$u(Uo.value,Ri()))],Kx=Object.freeze({__proto__:null,init:()=>{const n={},s=(l,u)=>{if(jo(l.others).length===0)throw new Error("Cannot find any known coupled components");return ct(n,u)},i=ue({});return Us({readState:i,getExisting:(l,u,f)=>s(u,f).orThunk(()=>(ct(u.others,f).getOrDie("No information found for coupled component: "+f),O.none())),getOrCreate:(l,u,f)=>s(u,f).getOrThunk(()=>{const p=ct(u.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return n[f]=b,b})})}});const ps=Zs({fields:Pz,name:"coupling",apis:yD,state:Kx}),N0=n=>{let s=O.none(),i=[];const l=p=>{u()?f(p):i.push(p)},u=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return n(p=>{u()||(s=O.some(p),St(i,f),i=[])}),{get:l,map:p=>N0(b=>{l(y=>{b(p(y))})}),isReady:u}},vD={nu:N0,pure:n=>N0(s=>{s(n)})},xD=n=>{setTimeout(()=>{throw n},0)},wy=n=>{const s=i=>{n().then(i,xD)};return{map:i=>wy(()=>n().then(i)),bind:i=>wy(()=>n().then(l=>i(l).toPromise())),anonBind:i=>wy(()=>n().then(()=>i.toPromise())),toLazy:()=>vD.nu(s),toCached:()=>{let i=null;return wy(()=>(i===null&&(i=n()),i))},toPromise:n,get:s}},hg=n=>wy(()=>new Promise(n)),pm=n=>wy(()=>Promise.resolve(n)),C2=ue("sink"),Lz=ue(od({name:C2(),overrides:ue({dom:{tag:"div"},behaviours:at([Wa.config({useFixed:Pt})]),events:_o([cu(Rr()),cu(Ze()),cu(Cs())])})})),Iz=(n,s)=>{const i=n.getHotspot(s).getOr(s),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),f=>({type:l,hotspot:i,overrides:u,layouts:f}))},Yx=(n,s,i,l,u,f,p)=>((y,_,E,C,A,B,L)=>{const U=((ee,W,Z)=>(0,ee.fetch)(Z).map(W))(y,_,C),q=Fz(C,y);return U.map(ee=>ee.bind(W=>{const Z=W.menus[W.primary];return O.from(Z).each(X=>{y.listRole.each(te=>{X.role=te})}),O.from(up.sketch({...B.menu(),uid:zc(""),data:W,highlightOnOpen:L,onOpenMenu:(X,te)=>{const ne=q().getOrDie();Wa.position(ne,te,{anchor:E}),x.decloak(A)},onOpenSubmenu:(X,te,ne)=>{const pe=q().getOrDie();Wa.position(pe,ne,{anchor:{type:"submenu",item:te}}),x.decloak(A)},onRepositionMenu:(X,te,ne)=>{const pe=q().getOrDie();Wa.position(pe,te,{anchor:E}),St(ne,_e=>{Wa.position(pe,_e.triggeredMenu,{anchor:{type:"submenu",item:_e.triggeringItem}})})},onEscape:()=>(bo.focus(C),x.close(A),O.some(!0))}))}))})(n,s,Iz(n,i),i,l,u,p).map(y=>(y.fold(()=>{x.isOpen(l)&&x.close(l)},_=>{x.cloak(l),x.open(l,_),f(l)}),l)),kD=(n,s,i,l,u,f,p)=>(x.close(l),pm(l)),S2=(n,s,i,l,u,f)=>{const p=ps.getCoupled(i,"sandbox");return(x.isOpen(p)?kD:Yx)(n,s,i,p,l,u,f)},Fz=(n,s)=>n.getSystem().getByUid(s.uid+"-"+C2()).map(i=>()=>Uo.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Uo.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),E2=n=>{x.getState(n).each(s=>{up.repositionMenus(s)})},z2=(n,s,i)=>{const l=Jm(),u=Fz(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:lo(n.sandboxBehaviours,[Ee.config({store:{mode:"memory",initialValue:s}}),x.config({onOpen:(f,p)=>{const b=Iz(n,s);l.link(s.element),n.matchWidth&&((y,_,E)=>{const C=yn.getCurrent(_).getOr(_),A=No(y.element);E?po(C.element,"min-width",A+"px"):((B,L)=>{Lt.set(B,L)})(C.element,A)})(b.hotspot,p,n.useMinWidth),n.onOpen(b,f,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(f,p)},isPartOf:(f,p,b)=>Ki(p,b)||Ki(s,b),getAttachPoint:()=>u().getOrDie()}),yn.config({find:f=>x.getState(f).bind(p=>yn.getCurrent(p))}),Yi.config({channels:{...j({isExtraPart:Fe}),...le({doReposition:E2})}})])}},Hz=n=>{const s=ps.getCoupled(n,"sandbox");E2(s)},T2=()=>[we("sandboxClasses",[]),yo("sandboxBehaviours",[yn,Yi,x,Ee])],_D=ue([Ue("dom"),Ue("fetch"),un("onOpen"),Gi("onExecute"),we("getHotspot",O.some),we("getAnchorOverrides",ue({})),Ju(),Nt("dropdownBehaviours",[co,ps,qt,bo]),Ue("toggleClass"),we("eventOrder",{}),Xo("lazySink"),we("matchWidth",!1),we("useMinWidth",!1),Xo("role"),Xo("listRole")].concat(T2())),wD=ue([wu({schema:[qm(),we("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),Lz()]),Qi=cl({name:"Dropdown",configFields:_D(),partFields:wD(),factory:(n,s,i,l)=>{const u=y=>{x.getState(y).each(_=>{up.highlightPrimary(_)})},f=(y,_,E)=>S2(n,Dt,y,l,_,E),p={expand:y=>{co.isOn(y)||f(y,st,Ii.HighlightNone).get(st)},open:y=>{co.isOn(y)||f(y,st,Ii.HighlightMenuAndItem).get(st)},refetch:y=>ps.getExistingCoupled(y,"sandbox").fold(()=>f(y,st,Ii.HighlightMenuAndItem).map(st),_=>Yx(n,Dt,y,_,l,st,Ii.HighlightMenuAndItem).map(st)),isOpen:co.isOn,close:y=>{co.isOn(y)&&f(y,st,Ii.HighlightMenuAndItem).get(st)},repositionMenus:y=>{co.isOn(y)&&Hz(y)}},b=(y,_)=>(Ad(y),O.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.dropdownBehaviours,[co.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),ps.config({others:{sandbox:y=>z2(n,y,{onOpen:()=>co.on(y),onClose:()=>co.off(y)})}}),qt.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,_)=>{if(Qi.isOpen(y)){const E=ps.getCoupled(y,"sandbox");u(E)}else Qi.open(y);return O.some(!0)},onEscape:(y,_)=>Qi.isOpen(y)?(Qi.close(y),O.some(!0)):O.none()}),bo.config({})]),events:ay(O.some(y=>{f(y,u,Ii.HighlightMenuAndItem).get(st)})),eventOrder:{...n.eventOrder,[si()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),y=>({role:y})),...n.dom.tag==="button"?{type:ct(n.dom,"attributes").bind(y=>ct(y,"type")).getOr("button")}:{}}}}},apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),$z=(n,s,i)=>{H3(n).each(l=>{var u;((f,p)=>{Er(p.element,"id").each(b=>to(f.element,"aria-activedescendant",b))})(l,i),(Jo((u=s).element,v0)?O.some(u.element):Pr(u.element,"."+v0)).each(f=>{Er(f,"id").each(p=>to(l.element,"aria-controls",p))})}),to(i.element,"aria-selected","true")},CD=(n,s,i)=>{to(i.element,"aria-selected","false")},Gh=n=>ps.getExistingCoupled(n,"sandbox").bind(y0).map($3).map(s=>s.fetchPattern).getOr("");var R0;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(R0||(R0={}));const SD=(n,s,i,l,u)=>{const f=i.shared.providers,p=y=>u?{...y,shortcut:O.none(),icon:y.text.isSome()?O.none():y.icon}:y;switch(n.type){case"menuitem":return(b=n,xr("menuitem",nz,b)).fold(fm,y=>O.some(((_,E,C,A=!0)=>{const B=E0({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),ariaLabel:_.text,caret:O.none(),checkMark:O.none(),shortcutContent:_.shortcut},C,A);return by({data:yy(_),getApi:L=>({isEnabled:()=>!vo.isDisabled(L),setEnabled:U=>vo.set(L,!U)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>xr("nestedmenuitem",rz,y))(n).fold(fm,y=>O.some(((_,E,C,A=!0,B=!1)=>{const L=B?(U=C.icons,t2("chevron-down",U,[Hw])):(ee=>t2("chevron-right",ee,[Hw]))(C.icons);var U;const q=E0({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),ariaLabel:_.text,caret:O.some(L),checkMark:O.none(),shortcutContent:_.shortcut},C,A);return by({data:yy(_),getApi:ee=>({isEnabled:()=>!vo.isDisabled(ee),setEnabled:W=>vo.set(ee,!W),setIconFill:(W,Z)=>{Pr(ee.element,`svg path[class="${W}"], rect[class="${W}"]`).each(X=>{to(X,"fill",Z)})},setTooltip:W=>{const Z=C.translate(W);to(ee.element,"aria-label",Z)}}),enabled:_.enabled,onAction:st,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},q,E,C)})(p(y),s,f,l,u)));case"togglemenuitem":return(y=>xr("togglemenuitem",fD,y))(n).fold(fm,y=>O.some(((_,E,C,A=!0)=>{const B=E0({iconContent:_.icon,textContent:_.text,htmlContent:O.none(),ariaLabel:_.text,checkMark:O.some(uz(C.icons)),caret:O.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},C,A);return Un(by({data:yy(_),enabled:_.enabled,getApi:L=>({setActive:U=>{co.set(L,U)},isActive:()=>co.isOn(L),isEnabled:()=>!vo.isDisabled(L),setEnabled:U=>vo.set(L,!U)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C),{toggling:{toggleClass:R3,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(y),s,f,l)));case"separator":return(y=>xr("separatormenuitem",G3,y))(n).fold(fm,y=>O.some(Bz(y)));case"fancymenuitem":return(y=>xr("fancymenuitem",oz,y))(n).fold(fm,y=>((_,E)=>ct(Mz,_.fancytype).map(C=>C(_,E)))(y,i));default:return console.error("Unknown item in general menu",n),O.none()}var b},bg=(n,s,i,l,u,f,p)=>{const b=l===1,y=!b||k0(n);return fi(et(n,_=>{switch(_.type){case"separator":return(E=_,xr("Autocompleter.Separator",G3,E)).fold(fm,C=>O.some(Bz(C)));case"cardmenuitem":return(C=>xr("cardmenuitem",uD,C))(_).fold(fm,C=>O.some(((A,B,L,U)=>{const q={dom:fz(A.label),optComponents:[O.some({dom:{tag:"div",classes:[h0,b0]},components:r2(A.items,U)})]};return by({data:yy({text:O.none(),...A}),enabled:A.enabled,getApi:ee=>({isEnabled:()=>!vo.isDisabled(ee),setEnabled:W=>{vo.set(ee,!W),St(ra(ee.element,"*"),Z=>{ee.getSystem().getByDom(Z).each(X=>{X.hasConfigured(vo)&&vo.set(X,!W)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(U.itemBehaviours).getOr([])},q,B,L.providers)})({...C,onAction:A=>{C.onAction(A),i(C.value,C.meta)}},u,f,{itemBehaviours:mz(C.meta,f,O.none()),cardText:{matchText:s,highlightOn:p}})));default:return(C=>xr("Autocompleter.Item",tD,C))(_).fold(fm,C=>O.some(((A,B,L,U,q,ee,W,Z=!0)=>{const X=E0({presets:U,textContent:O.none(),htmlContent:L?A.text.map(ne=>n2(ne,B)):O.none(),ariaLabel:A.text,iconContent:A.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:A.value},W.providers,Z,A.icon),te=A.text.filter(ne=>!L&&ne!=="");return by({data:yy(A),enabled:A.enabled,getApi:ue({}),onAction:ne=>q(A.value,A.meta),onSetup:ue(st),triggersSubmenu:!1,itemBehaviours:mz(A,W,te)},X,ee,W.providers)})(C,s,b,"normal",i,u,f,y)))}var E}))},Vz=(n,s,i,l,u,f)=>{const p=k0(s),b=fi(et(s,_=>{const E=C=>SD(C,i,l,(A=>u?!Co(A,"text"):p)(C),u);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?E({..._,enabled:!1}):E(_)})),y=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(f);return(u?XR:jw)(n,p,b,1,y)},O2=n=>up.singleData(n.value,n),jd=n=>Qu(kt(n.startContainer),n.startOffset,kt(n.endContainer),n.endOffset),jz=(n,s)=>{const i=At("autocompleter"),l=Ht(!1),u=Ht(!1),f=dn(),p=Aa(Vr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:at([Po("dismissAutocompleter",[Le(ju(),()=>C()),Le(Hp(),(L,U)=>{Er(U.event.target,"id").each(q=>to(kt(n.getBody()),"aria-activedescendant",q))})])]),lazySink:s.getSink})),b=()=>Vr.isOpen(p),y=u.get,_=()=>{if(b()){Vr.hide(p),n.dom.remove(i,!1);const L=kt(n.getBody());Er(L,"aria-owns").filter(U=>U===i).each(()=>{Wo(L,"aria-owns"),Wo(L,"aria-activedescendant")})}},E=()=>Vr.getContent(p).bind(L=>yt(L.components(),0)),C=()=>n.execCommand("mceAutocompleterClose"),A=L=>{const U=(q=>{const ee=ao(q,W=>O.from(W.columns)).getOr(1);return xn(q,W=>{const Z=W.items;return bg(Z,W.matchText,(X,te)=>{const ne={hide:()=>C(),reload:pe=>{_(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:pe})}};n.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(pe=>{l.set(!0),W.onAction(ne,pe,X,te),l.set(!1)})},ee,gf.BUBBLE_TO_SANDBOX,s,W.highlightOn)})})(L);U.length>0?(((q,ee)=>{const W=ao(q,Z=>O.from(Z.columns)).getOr(1);Vr.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(jd),root:kt(n.getBody())}},((Z,X,te,ne)=>{const pe=A0(X,ne),_e=Ih(ne);return{data:O2({...Z,movement:pe,menuBehaviours:C0(X!=="auto"?[]:[dr((je,Ie)=>{e2(je,4,_e.item).each(({numColumns:Me,numRows:lt})=>{qt.setGridSize(je,lt,Me)})})])}),menu:{markers:Ih(ne),fakeFocus:te===R0.ContentFocus}}})(jw("autocompleter-value",!0,ee,W,{menuType:"normal"}),W,R0.ContentFocus,"normal")),E().each($n.highlightFirst)})(L,U),to(kt(n.getBody()),"aria-owns",i),n.inline||B()):_()},B=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const L=n.getDoc().documentElement,U=n.selection.getNode(),q=(ee=>Zm(ee,!0))(p.element);Ai(q,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${U.offsetTop}px`,left:`${U.offsetLeft}px`}),n.dom.add(L,q.dom),Pr(q,'[role="menu"]').each(ee=>{_n(ee,"position"),_n(ee,"max-height")})};n.on("AutocompleterStart",({lookupData:L})=>{u.set(!0),l.set(!1),A(L)}),n.on("AutocompleterUpdate",({lookupData:L})=>A(L)),n.on("AutocompleterUpdateActiveRange",({range:L})=>f.set(L)),n.on("AutocompleterEnd",()=>{_(),u.set(!1),l.set(!1),f.clear()}),((L,U)=>{const q=(W,Z)=>{jt(W,Rr(),{raw:Z})},ee=()=>L.getMenu().bind($n.getHighlighted);U.on("keydown",W=>{const Z=W.which;L.isActive()&&(L.isMenuOpen()?Z===13?(ee().each(Ad),W.preventDefault()):Z===40?(ee().fold(()=>{L.getMenu().each($n.highlightFirst)},X=>{q(X,W)}),W.preventDefault(),W.stopImmediatePropagation()):Z!==37&&Z!==38&&Z!==39||ee().each(X=>{q(X,W),W.preventDefault(),W.stopImmediatePropagation()}):Z!==13&&Z!==38&&Z!==40||L.cancelIfNecessary())}),U.on("NodeChange",()=>{!L.isActive()||L.isProcessingAction()||U.queryCommandState("mceAutoCompleterInRange")||L.cancelIfNecessary()})})({cancelIfNecessary:C,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:E},n)},Cy=(n,s,i)=>Dd(n,s,i).isSome(),A2=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},s)}}},Uz=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?O.none():O.some(s.touches[0])},Xx=(n,s)=>{const i={stopBackspace:!0,...s},l=(C=>{const A=dn(),B=Ht(!1),L=A2(q=>{C.triggerEvent(Jy(),q),B.set(!0)},400),U=Wi([{key:D(),value:q=>(Uz(q).each(ee=>{L.cancel();const W={x:ee.clientX,y:ee.clientY,target:q.target};L.schedule(q),B.set(!1),A.set(W)}),O.none())},{key:V(),value:q=>(L.cancel(),Uz(q).each(ee=>{A.on(W=>{((Z,X)=>{const te=Math.abs(Z.clientX-X.x),ne=Math.abs(Z.clientY-X.y);return te>5||ne>5})(ee,W)&&A.clear()})}),O.none())},{key:ie(),value:q=>(L.cancel(),A.get().filter(ee=>kn(ee.target,q.target)).map(ee=>B.get()?(q.prevent(),!1):C.triggerEvent(_c(),q)))}]);return{fireIfReady:(q,ee)=>ct(U,ee).bind(W=>W(q))}})(i),u=et(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),C=>_i(n,C,A=>{l.fireIfReady(A,C).each(B=>{B&&A.kill()}),i.triggerEvent(C,A)&&A.kill()})),f=dn(),p=_i(n,"paste",C=>{l.fireIfReady(C,"paste").each(A=>{A&&C.kill()}),i.triggerEvent("paste",C)&&C.kill(),f.set(setTimeout(()=>{i.triggerEvent(Mf(),C)},0))}),b=_i(n,"keydown",C=>{i.triggerEvent("keydown",C)?C.kill():i.stopBackspace&&(A=>A.raw.which===fE[0]&&!$e(["input","textarea"],Ja(A.target))&&!Cy(A.target,'[contenteditable="true"]'))(C)&&C.prevent()}),y=_i(n,"focusin",C=>{i.triggerEvent("focusin",C)&&C.kill()}),_=dn(),E=_i(n,"focusout",C=>{i.triggerEvent("focusout",C)&&C.kill(),_.set(setTimeout(()=>{i.triggerEvent(Df(),C)},0))});return{unbind:()=>{St(u,C=>{C.unbind()}),b.unbind(),y.unbind(),E.unbind(),p.unbind(),f.on(clearTimeout),_.on(clearTimeout)}}},N2=(n,s)=>{const i=ct(n,"target").getOr(s);return Ht(i)},D0=xi([{stopped:[]},{resume:["element"]},{complete:[]}]),Zz=(n,s,i,l,u,f)=>{const p=n(s,l),b=((y,_)=>{const E=Ht(!1),C=Ht(!1);return{stop:()=>{E.set(!0)},cut:()=>{C.set(!0)},isStopped:E.get,isCut:C.get,event:y,setSource:_.set,getSource:_.get}})(i,u);return p.fold(()=>(f.logEventNoHandlers(s,l),D0.complete()),y=>{const _=y.descHandler;return l1(_)(b),b.isStopped()?(f.logEventStopped(s,y.element,_.purpose),D0.stopped()):b.isCut()?(f.logEventCut(s,y.element,_.purpose),D0.complete()):As(y.element).fold(()=>(f.logNoParent(s,y.element,_.purpose),D0.complete()),E=>(f.logEventResponse(s,y.element,_.purpose),D0.resume(E)))})},M0=(n,s,i,l,u,f)=>Zz(n,s,i,l,u,f).fold(Pt,p=>M0(n,s,i,p,u,f),Fe),Jx=(n,s,i,l,u)=>{const f=N2(i,l);return M0(n,s,i,l,f,u)},Wz=()=>{const n=(()=>{const l={};return{registerId:(u,f,p)=>{Jn(p,(b,y)=>{const _=l[y]!==void 0?l[y]:{};_[f]=((E,C)=>({cHandler:ht.apply(void 0,[E.handler].concat(C)),purpose:E.purpose}))(b,u),l[y]=_})},unregisterId:u=>{Jn(l,(f,p)=>{Co(f,u)&&delete f[u]})},filterByType:u=>ct(l,u).map(f=>Sr(f,(p,b)=>((y,_)=>({id:y,descHandler:_}))(b,p))).getOr([]),find:(u,f,p)=>ct(l,f).bind(b=>Wc(p,y=>((_,E)=>Km(E).bind(C=>ct(_,C)).map(C=>((A,B)=>({element:A,descHandler:B}))(E,C)))(b,y),u))}})(),s={},i=l=>{Km(l.element).each(u=>{delete s[u],n.unregisterId(u)})};return{find:(l,u,f)=>n.find(l,u,f),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const b=p.element;return Km(b).getOrThunk(()=>((y,_)=>{const E=At(Cb+"uid-");return Sb(_,E),E})(0,p.element))})(l);Vo(s,u)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+hu(y.element)+`
Cannot use it for: `+hu(p.element)+`
The conflicting element is`+(Ns(y.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const f=[l];n.registerId(f,u,l.events),s[u]=l},unregister:i,getById:l=>ct(s,l)}},zu=nd({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:io(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[we("components",[]),Nt("containerBehaviours",[]),we("events",{}),we("domModification",{}),we("eventOrder",{})]}),Qx=n=>{const s=q=>As(n.element).fold(Pt,ee=>kn(q,ee)),i=Wz(),l=(q,ee)=>i.find(s,q,ee),u=Xx(n.element,{triggerEvent:(q,ee)=>Kg(q,ee.target,W=>((Z,X,te,ne)=>Jx(Z,X,te,te.target,ne))(l,q,ee,W))}),f={debugInfo:ue("real"),triggerEvent:(q,ee,W)=>{Kg(q,ee,Z=>Jx(l,q,W,ee,Z))},triggerFocus:(q,ee)=>{Km(q).fold(()=>{ki(q)},W=>{Kg(qc(),q,Z=>(((X,te,ne,pe,_e)=>{const je=N2(ne,pe);Zz(X,te,ne,pe,je,_e)})(l,qc(),{originator:ee,kill:st,prevent:st,target:q},q,Z),!1))})},triggerEscape:(q,ee)=>{f.triggerEvent("keydown",q.element,ee.event)},getByUid:q=>L(q),getByDom:q=>U(q),build:Aa,buildOrPatch:Nb,addToGui:q=>{y(q)},removeFromGui:q=>{_(q)},addToWorld:q=>{p(q)},removeFromWorld:q=>{b(q)},broadcast:q=>{C(q)},broadcastOn:(q,ee)=>{A(q,ee)},broadcastEvent:(q,ee)=>{B(q,ee)},isConnected:Pt},p=q=>{q.connect(f),ca(q.element)||(i.register(q),St(q.components(),p),f.triggerEvent(Ed(),q.element,{target:q.element}))},b=q=>{ca(q.element)||(St(q.components(),b),i.unregister(q)),q.disconnect()},y=q=>{af(n,q)},_=q=>{Pi(q)},E=q=>{const ee=i.filter(Di());St(ee,W=>{const Z=W.descHandler;l1(Z)(q)})},C=q=>{E({universal:!0,data:q})},A=(q,ee)=>{E({universal:!1,channels:q,data:ee})},B=(q,ee)=>((W,Z,X)=>{const te=(ne=>{const pe=Ht(!1);return{stop:()=>{pe.set(!0)},cut:st,isStopped:pe.get,isCut:Fe,event:ne,setSource:gr("Cannot set source of a broadcasted event"),getSource:gr("Cannot get source of a broadcasted event")}})(Z);return St(W,ne=>{const pe=ne.descHandler;l1(pe)(te)}),te.isStopped()})(i.filter(q),ee),L=q=>i.getById(q).fold(()=>Uo.error(new Error('Could not find component with uid: "'+q+'" in system.')),Uo.value),U=q=>{const ee=Km(q).getOr("not found");return L(ee)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),Js(n.element)},add:y,remove:_,getByUid:L,getByDom:U,addToWorld:p,removeFromWorld:b,broadcast:C,broadcastOn:A,broadcastEvent:B}},ED=ue([we("prefix","form-field"),Nt("fieldBehaviours",[yn,Ee])]),R2=ue([od({schema:[Ue("dom")],name:"label"}),od({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ue("text")],name:"aria-descriptor"}),Ji({factory:{sketch:n=>{const s=((i,l)=>{const u={};return Jn(i,(f,p)=>{$e(l,p)||(u[p]=f)}),u})(n,["factory"]);return n.factory.sketch(s)}},schema:[Ue("factory")],name:"field"})]),Zn=cl({name:"FormField",configFields:ED(),partFields:R2(),factory:(n,s,i,l)=>{const u=Do(n.fieldBehaviours,[yn.config({find:b=>mr(b,n,"field")}),Ee.config({store:{mode:"manual",getValue:b=>yn.getCurrent(b).bind(Ee.getValue),setValue:(b,y)=>{yn.getCurrent(b).each(_=>{Ee.setValue(_,y)})}}})]),f=_o([dr((b,y)=>{const _=X4(b,n,["label","field","aria-descriptor"]);_.field().each(E=>{const C=At(n.prefix);_.label().each(A=>{to(A.element,"for",C),to(E.element,"id",C)}),_["aria-descriptor"]().each(A=>{const B=At(n.prefix);to(A.element,"id",B),to(E.element,"aria-describedby",B)})})})]),p={getField:b=>mr(b,n,"field"),getLabel:b=>mr(b,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:u,events:f,apis:p}},apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}});var zD=tinymce.util.Tools.resolve("tinymce.html.Entities");const B0=(n,s,i,l)=>{const u=TD(n,s,i,l);return Zn.sketch(u)},TD=(n,s,i,l)=>({dom:ek(i),components:n.toArray().concat([s]),fieldBehaviours:at(l)}),ek=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),yg=(n,s)=>Zn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ms(s.translate(n))]}),Fi=At("form-component-change"),vg=At("form-close"),vp=At("form-cancel"),bf=At("form-action"),P0=At("form-submit"),D2=At("form-block"),M2=At("form-unblock"),qz=At("form-tabchange"),tk=At("form-resize"),Gz=(n,s,i)=>{const l=n.label.map(C=>yg(C,s)),u=s.icons(),f=C=>(A,B)=>{Dd(B.event.target,"[data-collection-item-value]").each(L=>{C(A,B,L,cs(L,"data-collection-item-value"))})},p=f((C,A,B,L)=>{A.stop(),s.isDisabled()||jt(C,bf,{name:n.name,value:L})}),b=[Le(Vt(),f((C,A,B)=>{ki(B)})),Le(Cs(),p),Le(_c(),p),Le(zn(),f((C,A,B)=>{Pr(C.element,"."+um).each(L=>{Ut(L,um)}),ut(B,um)})),Le(Zr(),f(C=>{Pr(C.element,"."+um).each(A=>{Ut(A,um),nh(A)})})),Tl(f((C,A,B,L)=>{jt(C,bf,{name:n.name,value:L})}))],y=(C,A)=>et(ra(C.element,".tox-collection__item"),A),_=Zn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Dt},behaviours:at([vo.config({disabled:s.isDisabled,onDisabled:C=>{y(C,A=>{ut(A,"tox-collection__item--state-disabled"),to(A,"aria-disabled",!0)})},onEnabled:C=>{y(C,A=>{Ut(A,"tox-collection__item--state-disabled"),Wo(A,"aria-disabled")})}}),ya(),no.config({}),zs.config({...s.tooltips.getConfig({tooltipText:"",onShow:C=>{Pr(C.element,"."+um+"[data-mce-tooltip]").each(A=>{Er(A,"data-mce-tooltip").each(B=>{zs.setComponents(C,s.tooltips.getComponents({tooltipText:B}))})})}}),mode:"children-keyboard-focus",anchor:C=>({type:"node",node:Pr(C.element,"."+um).orThunk(()=>Hc(".tox-collection__item")),root:C.element,layouts:{onLtr:ue([bs,Gr,os,Ss,ns,qn]),onRtl:ue([bs,Gr,os,Ss,ns,qn])},bubble:Jl(0,-2,{})})}),Ee.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(C,A)=>{((B,L)=>{const U=et(L,W=>{const Z=Id.translate(W.text),X=n.columns===1?`<div class="tox-collection__item-label">${Z}</div>`:"",te=`<div class="tox-collection__item-icon">${(_e=>{var je;return(je=u[_e])!==null&&je!==void 0?je:_e})(W.icon)}</div>`,ne={_:" "," - ":" ","-":" "},pe=Z.replace(/\_| \- |\-/g,_e=>ne[_e]);return`<div data-mce-tooltip="${pe}" class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${zD.encodeAllRaw(W.value)}" aria-label="${pe}">${te}${X}</div>`}),q=n.columns!=="auto"&&n.columns>1?wt(U,n.columns):[U],ee=et(q,W=>`<div class="tox-collection__group">${W.join("")}</div>`);Um(B.element,ee.join(""))})(C,A),n.columns==="auto"&&e2(C,5,"tox-collection__item").each(({numRows:B,numColumns:L})=>{qt.setGridSize(C,B,L)}),Bo(C,tk)}}),lr.config({}),qt.config((E=n.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Nx}`}})),Po("collection-events",b)]),eventOrder:{[si()]:["disabling","alloy.base.behaviour","collection-events"],[zn()]:["collection-events","tooltipping"]}});var E;return B0(l,_,["tox-form__group--collection"],[])},Kz=["input","textarea"],ok=n=>{const s=Ja(n);return $e(Kz,s)},Yz=(n,s)=>{const i=s.getRoot(n).getOr(n.element);Ut(i,s.invalidClass),s.notify.each(l=>{ok(n.element)&&to(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{Um(u,l.validHtml)}),l.onValid(n)})},B2=(n,s,i,l)=>{const u=s.getRoot(n).getOr(n.element);ut(u,s.invalidClass),s.notify.each(f=>{ok(n.element)&&to(n.element,"aria-invalid",!0),f.getContainer(n).each(p=>{Um(p,l)}),f.onInvalid(n,l)})},Xz=(n,s,i)=>s.validator.fold(()=>pm(Uo.value(!0)),l=>l.validate(n)),P2=(n,s,i)=>(s.notify.each(l=>{l.onValidate(n)}),Xz(n,s).map(l=>n.getSystem().isConnected()?l.fold(u=>(B2(n,s,0,u),Uo.error(u)),u=>(Yz(n,s),Uo.value(u))):Uo.error("No longer in system")));var OD=Object.freeze({__proto__:null,markValid:Yz,markInvalid:B2,query:Xz,run:P2,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return Jo(i,s.invalidClass)}}),Jz=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>_o([Le(i.onEvent,l=>{P2(l,n).get(Dt)})].concat(i.validateOnLoad?[dr(l=>{P2(l,n).get(st)})]:[]))).getOr({})}),AD=[Ue("invalidClass"),we("getRoot",O.none),Nr("notify",[we("aria","alert"),we("getContainer",O.none),we("validHtml",""),un("onValid"),un("onInvalid"),un("onValidate")]),Nr("validator",[Ue("validate"),we("onEvent","input"),we("validateOnLoad",!0)])];const gm=Zs({fields:AD,name:"invalidating",active:Jz,apis:OD,extra:{validation:n=>s=>{const i=Ee.getValue(s);return pm(n(i))}}}),Kh=Zs({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>_o([Uu(Oa(),Pt)]),exhibit:()=>qr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),L2=At("color-input-change"),I2=At("color-swatch-change"),Qz=At("color-picker-cancel"),F2=od({schema:[Ue("dom")],name:"label"}),xg=n=>od({name:n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),i=>({events:_o([$p(D(),(l,u,f)=>i(l,f),[s]),$p(Ze(),(l,u,f)=>i(l,f),[s]),$p(eo(),(l,u,f)=>{f.mouseIsDown.get()&&i(l,f)},[s])])}))}),ND=xg("top-left"),RD=xg("top"),DD=xg("top-right"),MD=xg("right"),eT=xg("bottom-right"),H2=xg("bottom"),BD=xg("bottom-left"),nk=xg("left"),PD=Ji({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:_o([Hf(D(),n,"spectrum"),Hf(V(),n,"spectrum"),Hf(ie(),n,"spectrum"),Hf(Ze(),n,"spectrum"),Hf(eo(),n,"spectrum"),Hf(go(),n,"spectrum")])})}),rk=n=>am(n.event);var LD=[F2,nk,MD,RD,H2,ND,DD,BD,eT,PD,Ji({schema:[ta("mouseIsDown",()=>Ht(!1))],name:"spectrum",overrides:n=>{const s=n.model.manager,i=(l,u)=>s.getValueFromEvent(u).map(f=>s.setValueFrom(l,n,f));return{behaviours:at([qt.config({mode:"special",onLeft:(l,u)=>s.onLeft(l,n,rk(u)),onRight:(l,u)=>s.onRight(l,n,rk(u)),onUp:(l,u)=>s.onUp(l,n,rk(u)),onDown:(l,u)=>s.onDown(l,n,rk(u))}),lr.config({}),bo.config({})]),events:_o([Le(D(),i),Le(V(),i),Le(Ze(),i),Le(eo(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}})];const L0=ue("slider.change.value"),$2=n=>{const s=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?O.some(i.touches[0]).map(l=>ae(l.clientX,l.clientY)):O.none()}{const i=s;return i.clientX!==void 0?O.some(i).map(l=>ae(l.clientX,l.clientY)):O.none()}},Yh=n=>n.model.minX,kg=n=>n.model.minY,sk=n=>n.model.minX-1,ak=n=>n.model.minY-1,xp=n=>n.model.maxX,Ud=n=>n.model.maxY,ik=n=>n.model.maxX+1,lk=n=>n.model.maxY+1,ck=(n,s,i)=>s(n)-i(n),dk=n=>ck(n,xp,Yh),V2=n=>ck(n,Ud,kg),tT=n=>dk(n)/2,j2=n=>V2(n)/2,Sy=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,U2=n=>n.snapToGrid,Z2=n=>n.snapStart,uk=n=>n.rounded,fk=(n,s)=>n[s+"-edge"]!==void 0,W2=n=>fk(n,"left"),oT=n=>fk(n,"right"),Ey=n=>fk(n,"top"),nT=n=>fk(n,"bottom"),kp=n=>n.model.value.get(),hm=(n,s)=>({x:n,y:s}),ld=(n,s)=>{jt(n,L0(),{value:s})},q2=(n,s,i,l)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-l),I0=(n,s,i,l)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+l),rT=(n,s,i)=>Math.max(s,Math.min(i,n)),sT=n=>{const{min:s,max:i,range:l,value:u,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:_,hasMaxEdge:E,minBound:C,maxBound:A,screenRange:B}=n,L=_?s-1:s,U=E?i+1:i;if(u<C)return L;if(u>A)return U;{const q=((W,Z,X)=>Math.min(X,Math.max(W,Z))-Z)(u,C,A),ee=rT(q/B*l+s,L,U);return p&&ee>=s&&ee<=i?((W,Z,X,te,ne)=>ne.fold(()=>{const pe=W-Z,_e=Math.round(pe/te)*te;return rT(Z+_e,Z-1,X+1)},pe=>{const _e=(W-pe)%te,je=Math.round(_e/te),Ie=Math.floor((W-pe)/te),Me=Math.floor((X-pe)/te),lt=pe+Math.min(Me,Ie+je)*te;return Math.max(pe,lt)}))(ee,s,i,f,b):y?Math.round(ee):ee}},mk=n=>{const{min:s,max:i,range:l,value:u,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:_,centerMaxEdge:E}=n;return u<s?f?0:_:u>i?p?b:E:(u-s)/l*y},G2="top",aT="right",iT="bottom",K2="left",bm=n=>n.element.dom.getBoundingClientRect(),Tu=(n,s)=>n[s],pk=n=>{const s=bm(n);return Tu(s,K2)},lT=n=>{const s=bm(n);return Tu(s,aT)},gk=n=>{const s=bm(n);return Tu(s,G2)},cT=n=>{const s=bm(n);return Tu(s,iT)},dT=n=>{const s=bm(n);return Tu(s,"width")},uT=n=>{const s=bm(n);return Tu(s,"height")},hk=(n,s,i)=>(n+s)/2-i,fT=(n,s)=>{const i=bm(n),l=bm(s),u=Tu(i,K2),f=Tu(i,aT),p=Tu(l,K2);return hk(u,f,p)},mT=(n,s)=>{const i=bm(n),l=bm(s),u=Tu(i,G2),f=Tu(i,iT),p=Tu(l,G2);return hk(u,f,p)},bk=(n,s)=>{jt(n,L0(),{value:s})},yk=(n,s,i)=>{const l={min:Yh(s),max:xp(s),range:dk(s),value:i,step:Sy(s),snap:U2(s),snapStart:Z2(s),rounded:uk(s),hasMinEdge:W2(s),hasMaxEdge:oT(s),minBound:pk(n),maxBound:lT(n),screenRange:dT(n)};return sT(l)},pT=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?I0:q2)(kp(p),Yh(p),xp(p),Sy(p,b));return bk(f,y),O.some(y)})(n,s,i,l).map(Pt),Y2=(n,s,i,l,u,f)=>{const p=((b,y,_,E,C)=>{const A=dT(b),B=E.bind(q=>O.some(fT(q,b))).getOr(0),L=C.bind(q=>O.some(fT(q,b))).getOr(A),U={min:Yh(y),max:xp(y),range:dk(y),value:_,hasMinEdge:W2(y),hasMaxEdge:oT(y),minBound:pk(b),minOffset:0,maxBound:lT(b),maxOffset:A,centerMinEdge:B,centerMaxEdge:L};return mk(U)})(s,f,i,l,u);return pk(s)-pk(n)+p},ID=pT(-1),FD=pT(1),HD=O.none,$D=O.none,X2={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((n,s)=>{ld(n,ik(s))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((n,s)=>{ld(n,sk(s))})};var VD=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=yk(n,s,i);return bk(n,l),l},setToMin:(n,s)=>{const i=Yh(s);bk(n,i)},setToMax:(n,s)=>{const i=xp(s);bk(n,i)},findValueOfOffset:yk,getValueFromEvent:n=>$2(n).map(s=>s.left),findPositionOfValue:Y2,setPositionFromValue:(n,s,i,l)=>{const u=kp(i),f=Y2(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=No(s.element)/2;po(s.element,"left",f-p+"px")},onLeft:ID,onRight:FD,onUp:HD,onDown:$D,edgeActions:X2});const vk=(n,s)=>{jt(n,L0(),{value:s})},J2=(n,s,i)=>{const l={min:kg(s),max:Ud(s),range:V2(s),value:i,step:Sy(s),snap:U2(s),snapStart:Z2(s),rounded:uk(s),hasMinEdge:Ey(s),hasMaxEdge:nT(s),minBound:gk(n),maxBound:cT(n),screenRange:uT(n)};return sT(l)},gT=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?I0:q2)(kp(p),kg(p),Ud(p),Sy(p,b));return vk(f,y),O.some(y)})(n,s,i,l).map(Pt),Q2=(n,s,i,l,u,f)=>{const p=((b,y,_,E,C)=>{const A=uT(b),B=E.bind(q=>O.some(mT(q,b))).getOr(0),L=C.bind(q=>O.some(mT(q,b))).getOr(A),U={min:kg(y),max:Ud(y),range:V2(y),value:_,hasMinEdge:Ey(y),hasMaxEdge:nT(y),minBound:gk(b),minOffset:0,maxBound:cT(b),maxOffset:A,centerMinEdge:B,centerMaxEdge:L};return mk(U)})(s,f,i,l,u);return gk(s)-gk(n)+p},jD=O.none,UD=O.none,ZD=gT(-1),WD=gT(1),qD={"top-left":O.none(),top:O.some((n,s)=>{ld(n,ak(s))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((n,s)=>{ld(n,lk(s))}),"bottom-left":O.none(),left:O.none()};var GD=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=J2(n,s,i);return vk(n,l),l},setToMin:(n,s)=>{const i=kg(s);vk(n,i)},setToMax:(n,s)=>{const i=Ud(s);vk(n,i)},findValueOfOffset:J2,getValueFromEvent:n=>$2(n).map(s=>s.top),findPositionOfValue:Q2,setPositionFromValue:(n,s,i,l)=>{const u=kp(i),f=Q2(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=yr(s.element)/2;po(s.element,"top",f-p+"px")},onLeft:jD,onRight:UD,onUp:ZD,onDown:WD,edgeActions:qD});const xk=(n,s)=>{jt(n,L0(),{value:s})},kk=(n,s)=>({x:n,y:s}),Xh=(n,s)=>(i,l,u)=>((f,p,b,y,_)=>{const E=f>0?I0:q2,C=p?kp(y).x:E(kp(y).x,Yh(y),xp(y),Sy(y,_)),A=p?E(kp(y).y,kg(y),Ud(y),Sy(y,_)):kp(y).y;return xk(b,kk(C,A)),O.some(C)})(n,s,i,l,u).map(Pt),KD=Xh(-1,!1),eC=Xh(1,!1),YD=Xh(-1,!0),XD=Xh(1,!0),JD={"top-left":O.some((n,s)=>{ld(n,hm(sk(s),ak(s)))}),top:O.some((n,s)=>{ld(n,hm(tT(s),ak(s)))}),"top-right":O.some((n,s)=>{ld(n,hm(ik(s),ak(s)))}),right:O.some((n,s)=>{ld(n,hm(ik(s),j2(s)))}),"bottom-right":O.some((n,s)=>{ld(n,hm(ik(s),lk(s)))}),bottom:O.some((n,s)=>{ld(n,hm(tT(s),lk(s)))}),"bottom-left":O.some((n,s)=>{ld(n,hm(sk(s),lk(s)))}),left:O.some((n,s)=>{ld(n,hm(sk(s),j2(s)))})};var hT=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=yk(n,s,i.left),u=J2(n,s,i.top),f=kk(l,u);return xk(n,f),f},setToMin:(n,s)=>{const i=Yh(s),l=kg(s);xk(n,kk(i,l))},setToMax:(n,s)=>{const i=xp(s),l=Ud(s);xk(n,kk(i,l))},getValueFromEvent:n=>$2(n),setPositionFromValue:(n,s,i,l)=>{const u=kp(i),f=Y2(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=Q2(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),b=No(s.element)/2,y=yr(s.element)/2;po(s.element,"left",f-b+"px"),po(s.element,"top",p-y+"px")},onLeft:KD,onRight:eC,onUp:YD,onDown:XD,edgeActions:JD});const Ou=cl({name:"Slider",configFields:[we("stepSize",1),we("speedMultiplier",10),we("onChange",st),we("onChoose",st),we("onInit",st),we("onDragStart",st),we("onDragEnd",st),we("snapToGrid",!1),we("rounded",!0),Xo("snapStart"),js("model",us("mode",{x:[we("minX",0),we("maxX",100),ta("value",n=>Ht(n.mode.minX)),Ue("getInitialValue"),ur("manager",VD)],y:[we("minY",0),we("maxY",100),ta("value",n=>Ht(n.mode.minY)),Ue("getInitialValue"),ur("manager",GD)],xy:[we("minX",0),we("maxX",100),we("minY",0),we("maxY",100),ta("value",n=>Ht({x:n.mode.minX,y:n.mode.minY})),Ue("getInitialValue"),ur("manager",hT)]})),Nt("sliderBehaviours",[qt,Ee]),ta("mouseIsDown",()=>Ht(!1))],partFields:LD,factory:(n,s,i,l)=>{const u=W=>dp(W,n,"thumb"),f=W=>dp(W,n,"spectrum"),p=W=>mr(W,n,"left-edge"),b=W=>mr(W,n,"right-edge"),y=W=>mr(W,n,"top-edge"),_=W=>mr(W,n,"bottom-edge"),E=n.model,C=E.manager,A=(W,Z)=>{C.setPositionFromValue(W,Z,n,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:_,getSpectrum:f})},B=(W,Z)=>{E.value.set(Z);const X=u(W);A(W,X)},L=W=>{const Z=n.mouseIsDown.get();n.mouseIsDown.set(!1),Z&&mr(W,n,"thumb").each(X=>{const te=E.value.get();n.onChoose(W,X,te)})},U=(W,Z)=>{Z.stop(),n.mouseIsDown.set(!0),n.onDragStart(W,u(W))},q=(W,Z)=>{Z.stop(),n.onDragEnd(W,u(W)),L(W)},ee=W=>{mr(W,n,"spectrum").map(qt.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.sliderBehaviours,[qt.config({mode:"special",focusIn:ee}),Ee.config({store:{mode:"manual",getValue:W=>E.value.get(),setValue:B}}),Yi.config({channels:{[R()]:{onReceive:L}}})]),events:_o([Le(L0(),(W,Z)=>{((X,te)=>{B(X,te);const ne=u(X);n.onChange(X,ne,te)})(W,Z.event.value)}),dr((W,Z)=>{const X=E.getInitialValue();E.value.set(X);const te=u(W);A(W,te);const ne=f(W);n.onInit(W,te,ne,E.value.get())}),Le(D(),U),Le(ie(),q),Le(Ze(),(W,Z)=>{ee(W),U(W,Z)}),Le(go(),q)]),apis:{resetToMin:W=>{C.setToMin(W,n)},resetToMax:W=>{C.setToMax(W,n)},setValue:B,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),F0=At("rgb-hex-update"),_k=At("slider-update"),tC=At("palette-update"),wk="form",Ck=[Nt("formBehaviours",[Ee])],oC=n=>"<alloy.field."+n+">",ym=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.formBehaviours,[Ee.config({store:{mode:"manual",getValue:i=>{const l=W_(i,n);return In(l,(u,f)=>u().bind(p=>{return b=yn.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+hu(p.element)),b.fold(()=>Uo.error(y),Uo.value);var b,y}).map(Ee.getValue))},setValue:(i,l)=>{Jn(l,(u,f)=>{mr(i,n,f).each(p=>{yn.getCurrent(p).each(b=>{Ee.setValue(b,u)})})})}}})]),apis:{getField:(i,l)=>mr(i,n,l).bind(yn.getCurrent)}}),_g={getField:Tb((n,s,i)=>n.getField(s,i)),sketch:n=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),j_(wk,oC(p),b)),record:ue(f)}})(),i=n(s),l=s.record(),u=et(l,f=>Ji({name:f,pname:oC(f)}));return B1(wk,Ck,u,ym,i)}},bT=At("valid-input"),yT=At("invalid-input"),vT=At("validating-input"),nC="colorcustom.rgb.",H0={isEnabled:Pt,setEnabled:st,immediatelyShow:st,immediatelyHide:st},QD=(n,s,i,l,u,f)=>{const p=(B,L)=>{const U=L.get();B!==U.isEnabled()&&(U.setEnabled(B),B?U.immediatelyShow():U.immediatelyHide())},b=(B,L,U)=>gm.config({invalidClass:s("invalid"),notify:{onValidate:q=>{jt(q,vT,{type:B})},onValid:q=>{p(!1,U),jt(q,bT,{type:B,value:Ee.getValue(q)})},onInvalid:q=>{p(!0,U),jt(q,yT,{type:B,value:Ee.getValue(q)})}},validator:{validate:q=>{const ee=Ee.getValue(q),W=L(ee)?Uo.value(!0):Uo.error(n("aria.input.invalid"));return pm(W)},validateOnLoad:!1}}),y=(B,L,U,q,ee)=>{const W=Ht(H0),Z=n(nC+"range"),X=Zn.parts.label({dom:{tag:"label",attributes:{"aria-label":q}},components:[ms(U)]}),te=Zn.parts.field({data:ee,factory:gp,inputAttributes:{type:"text",...L==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:at([b(L,B,W),lr.config({}),zs.config({...u({tooltipText:"",onSetup:Me=>{W.set({isEnabled:()=>zs.isEnabled(Me),setEnabled:lt=>zs.setEnabled(Me,lt),immediatelyShow:()=>zs.immediateOpenClose(Me,!0),immediatelyHide:()=>zs.immediateOpenClose(Me,!1)}),zs.setEnabled(Me,!1)},onShow:(Me,lt)=>{zs.setComponents(Me,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[ms(n(L==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Me=>{gm.isInvalid(Me)&&gm.run(Me).get(st)}}),ne=At("aria-invalid"),pe=Hn(f("invalid",O.some(ne),"warning")),_e=[X,te,Hn({dom:{tag:"div",classes:[s("invalid-icon")]},components:[pe.asSpec()]}).asSpec()],je=L!=="hex"?[Zn.parts["aria-descriptor"]({text:Z})]:[],Ie=_e.concat(je);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Ie}},_=(B,L)=>{const U=L.red,q=L.green,ee=L.blue;Ee.setValue(B,{red:U,green:q,blue:ee})},E=Hn({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),C=(B,L)=>{E.getOpt(B).each(U=>{po(U.element,"background-color","#"+L.value)})};return nd({factory:()=>{const B={red:Ht(O.some(255)),green:Ht(O.some(255)),blue:Ht(O.some(255)),hex:Ht(O.some("ffffff"))},L=_e=>B[_e].get(),U=(_e,je)=>{B[_e].set(je)},q=_e=>{const je=_e.red,Ie=_e.green,Me=_e.blue;U("red",O.some(je)),U("green",O.some(Ie)),U("blue",O.some(Me))},ee=(_e,je)=>{const Ie=je.event;Ie.type!=="hex"?U(Ie.type,O.none()):l(_e)},W=(_e,je)=>{const Ie=je.event;(Me=>Me.type==="hex")(Ie)?((Me,lt)=>{i(Me);const Et=s2(lt);U("hex",O.some(Et.value));const $t=Eu(Et);_(Me,$t),q($t),jt(Me,F0,{hex:Et}),C(Me,Et)})(_e,Ie.value):((Me,lt,Et)=>{const $t=parseInt(Et,10);U(lt,O.some($t)),L("red").bind(Xt=>L("green").bind(xo=>L("blue").map(Qo=>yp(Xt,xo,Qo,1)))).each(Xt=>{const xo=((Qo,_r)=>{const Lr=z0(_r);return _g.getField(Qo,"hex").each(Io=>{bo.isFocused(Io)||Ee.setValue(Qo,{hex:Lr.value})}),Lr})(Me,Xt);jt(Me,F0,{hex:xo}),C(Me,xo)})})(_e,Ie.type,Ie.value)},Z=_e=>({label:n(nC+_e+".label"),description:n(nC+_e+".description")}),X=Z("red"),te=Z("green"),ne=Z("blue"),pe=Z("hex");return Un(_g.sketch(_e=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[_e.field("red",Zn.sketch(y(T0,"red",X.label,X.description,255))),_e.field("green",Zn.sketch(y(T0,"green",te.label,te.description,255))),_e.field("blue",Zn.sketch(y(T0,"blue",ne.label,ne.description,255))),_e.field("hex",Zn.sketch(y(pz,"hex",pe.label,pe.description,"ffffff"))),E.asSpec()],formBehaviours:at([gm.config({invalidClass:s("form-invalid")}),Po("rgb-form-events",[Le(bT,W),Le(yT,ee),Le(vT,ee)])])})),{apis:{updateHex:(_e,je)=>{Ee.setValue(_e,{hex:je.value}),((Ie,Me)=>{const lt=Eu(Me);_(Ie,lt),q(lt)})(_e,je),C(_e,je)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(B,L,U)=>{B.updateHex(L,U)}},extraApis:{}})},xT=(n,s,i,l)=>nd({name:"ColourPicker",configFields:[Ue("dom"),we("onValidHex",st),we("onInvalidHex",st)],factory:f=>{const p=QD(n,s,f.onValidHex,f.onInvalidHex,i,l),b=((ee,W)=>{const Z=Ou.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[W("sv-palette-spectrum")]}}),X=Ou.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[W("sv-palette-thumb")],innerHtml:`<div class=${W("sv-palette-inner-thumb")} role="presentation"></div>`}}),te=(ne,pe)=>{const{width:_e,height:je}=ne,Ie=ne.getContext("2d");if(Ie===null)return;Ie.fillStyle=pe,Ie.fillRect(0,0,_e,je);const Me=Ie.createLinearGradient(0,0,_e,0);Me.addColorStop(0,"rgba(255,255,255,1)"),Me.addColorStop(1,"rgba(255,255,255,0)"),Ie.fillStyle=Me,Ie.fillRect(0,0,_e,je);const lt=Ie.createLinearGradient(0,0,0,je);lt.addColorStop(0,"rgba(0,0,0,0)"),lt.addColorStop(1,"rgba(0,0,0,1)"),Ie.fillStyle=lt,Ie.fillRect(0,0,_e,je)};return nd({factory:ne=>{const pe=ue({x:0,y:0}),_e=at([yn.config({find:O.some}),bo.config({})]);return Ou.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ee(["Saturation {0}%, Brightness {1}%",0,0])},classes:[W("sv-palette")]},model:{mode:"xy",getInitialValue:pe},rounded:!1,components:[Z,X],onChange:(je,Ie,Me)=>{cn(Me)||to(je.element,"aria-valuetext",ee(["Saturation {0}%, Brightness {1}%",Math.floor(Me.x),Math.floor(100-Me.y)])),jt(je,tC,{value:Me})},onInit:(je,Ie,Me,lt)=>{te(Me.element.dom,yz(vz))},sliderBehaviours:_e})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ne,pe,_e)=>{((je,Ie)=>{const Me=je.components()[0].element.dom,lt=ky(Ie,100,100),Et=bz(lt);te(Me,yz(Et))})(pe,_e)},setThumb:(ne,pe,_e)=>{((je,Ie)=>{const Me=Zx(Eu(Ie));Ou.setValue(je,{x:Me.saturation,y:100-Me.value}),to(je.element,"aria-valuetext",ee(["Saturation {0}%, Brightness {1}%",Me.saturation,Me.value]))})(pe,_e)}},extraApis:{}})})(n,s),y={paletteRgba:Ht(vz),paletteHue:Ht(0)},_=Hn(((ee,W)=>{const Z=Ou.parts.spectrum({dom:{tag:"div",classes:[W("hue-slider-spectrum")],attributes:{role:"presentation"}}}),X=Ou.parts.thumb({dom:{tag:"div",classes:[W("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ou.sketch({dom:{tag:"div",classes:[W("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ue(0)},components:[Z,X],sliderBehaviours:at([bo.config({})]),onChange:(te,ne,pe)=>{to(te.element,"aria-valuenow",Math.floor(360-3.6*pe)),jt(te,_k,{value:pe})}})})(0,s)),E=Hn(b.sketch({})),C=Hn(p.sketch({})),A=(ee,W,Z)=>{E.getOpt(ee).each(X=>{b.setHue(X,Z)})},B=(ee,W)=>{C.getOpt(ee).each(Z=>{p.updateHex(Z,W)})},L=(ee,W,Z)=>{_.getOpt(ee).each(X=>{Ou.setValue(X,(te=>100-te/360*100)(Z))})},U=(ee,W)=>{E.getOpt(ee).each(Z=>{b.setThumb(Z,W)})},q=(ee,W,Z,X)=>{((te,ne)=>{const pe=Eu(te);y.paletteRgba.set(pe),y.paletteHue.set(ne)})(W,Z),St(X,te=>{te(ee,W,Z)})};return{uid:f.uid,dom:f.dom,components:[E.asSpec(),_.asSpec(),C.asSpec()],behaviours:at([Po("colour-picker-events",[Le(F0,(()=>{const ee=[A,L,U];return(W,Z)=>{const X=Z.event.hex,te=(ne=>Zx(Eu(ne)))(X);q(W,X,te.hue,ee)}})()),Le(tC,(()=>{const ee=[B];return(W,Z)=>{const X=Z.event.value,te=y.paletteHue.get(),ne=ky(te,X.x,100-X.y),pe=Wx(ne);q(W,pe,te,ee)}})()),Le(_k,(()=>{const ee=[A,B];return(W,Z)=>{const X=(je=>(100-je)/100*360)(Z.event.value),te=y.paletteRgba.get(),ne=Zx(te),pe=ky(X,ne.saturation,ne.value),_e=Wx(pe);q(W,_e,X,ee)}})())]),yn.config({find:ee=>C.getOpt(ee)}),qt.config({mode:"acyclic"})])}}}),vm=()=>yn.config({find:O.some}),rC=n=>yn.config({find:s=>sr(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())}),sC=Kt([we("preprocess",Dt),we("postprocess",Dt)]),aC=(n,s)=>{const i=ea("RepresentingConfigs.memento processors",sC,s);return Ee.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),f=Ee.getValue(u);return i.postprocess(f)},setValue:(l,u)=>{const f=i.preprocess(u),p=n.get(l);Ee.setValue(p,f)}}})},Jh=(n,s,i)=>Ee.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),iC=(n,s,i)=>Jh(n,l=>s(l.element),(l,u)=>i(l.element,u)),$0=n=>Ee.config({store:{mode:"memory",initialValue:n}}),e6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var kT=tinymce.util.Tools.resolve("tinymce.Resource");const lC=n=>Co(n,"init");var _p=tinymce.util.Tools.resolve("tinymce.util.Tools");const cC=(n,s)=>{let i=null;const l=()=>{Xn(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},s)}}},dC=At("alloy-fake-before-tabstop"),uC=At("alloy-fake-after-tabstop"),_T=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:at([bo.config({ignore:!0}),lr.config({})])}),fC=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[_T([dC]),s,_T([uC])],behaviours:at([rC(1)])}),mC=(n,s)=>{jt(n,Rr(),{raw:{which:9,shiftKey:s}})},t6=(n,s)=>{const i=s.element;Jo(i,dC)?mC(n,!0):Jo(i,uC)&&mC(n,!1)},zy=n=>Cy(n,["."+dC,"."+uC].join(","),Fe),wg=At("update-dialog"),pC=At("update-title"),wT=At("update-body"),CT=At("update-footer"),gC=At("body-send-message"),Sk=At("dialog-focus-shifted"),hC=Vs().browser,Ty=hC.isSafari(),ST=hC.isFirefox(),bC=Ty||ST,ET=hC.isChromium(),o6=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,zT=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),yC=(n,s,i)=>{const l=n.dom;O.from(l.contentDocument).fold(i,u=>{let f=0;const p=((y,_)=>{const E=y.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!ET&&!Ty||Bt(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:y.documentElement)})(u,s).map(y=>(f=y.scrollTop,y)).forall(o6),b=()=>{const y=l.contentWindow;Bt(y)&&(p?zT(y,"bottom"):!p&&bC&&f!==0&&zT(y,f))};Ty&&l.addEventListener("load",b,{once:!0}),u.open(),u.write(s),u.close(),Ty||b()})},vC=Fo(bC,Ty?500:200).map(n=>((s,i)=>{let l=null,u=null;return{cancel:()=>{Xn(l)||(clearTimeout(l),l=null,u=null)},throttle:(...f)=>{u=f,Xn(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,s.apply(null,p)},i))}}})(yC,n)),Ek=At("toolbar.button.execute"),Cg=At("common-button-display-events"),xC={[si()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ba()]:["toolbar-button-events",Cg],[Sl()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ze()]:["focusing","alloy.base.behaviour",Cg]},zk=n=>po(n.element,"width",br(n.element,"width")),TT=(n,s,i)=>Bc(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),V0=(n,s)=>TT(n,s,[]),Sg=(n,s)=>TT(n,s,[no.config({})]),kC=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[ms(i.translate(n))],behaviours:at([no.config({})])}),cd=At("update-menu-text"),Zd=At("update-menu-icon"),_C=(n,s,i,l)=>{const u=Ht(st),f=n.text.map(U=>Hn(kC(U,s,i.providers))),p=n.icon.map(U=>Hn(Sg(U,i.providers.icons))),b=(U,q)=>{const ee=Ee.getValue(U);return bo.focus(ee),jt(ee,"keydown",{raw:q.event.raw}),Qi.close(ee),O.some(!0)},y=n.role.fold(()=>({}),U=>({role:U})),_=O.from(n.listRole).map(U=>({listRole:U})).getOr({}),E=n.ariaLabel.fold(()=>({}),U=>({"aria-label":i.providers.translate(U)})),C=Bc("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),A=At("common-button-display-events"),B="dropdown-events";return Hn(Qi.sketch({...n.uid?{uid:n.uid}:{},...y,..._,dom:{tag:"button",classes:[s,`${s}--select`].concat(et(n.classes,U=>`${s}--${U}`)),attributes:{...E,...Bt(l)?{"data-mce-name":l}:{}}},components:hy([p.map(U=>U.asSpec()),f.map(U=>U.asSpec()),O.some(C)]),matchWidth:!0,useMinWidth:!0,onOpen:(U,q,ee)=>{n.searchable&&(W=>{H3(W).each(Z=>bo.focus(Z))})(ee)},dropdownBehaviours:at([...n.dropdownBehaviours,ci(()=>n.disabled||i.providers.isDisabled()),ya(),Kh.config({}),no.config({}),...n.tooltip.map(U=>zs.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(U)}))).toArray(),Po(B,[gg(n,u),hp(n,u)]),Po(A,[dr((U,q)=>n.listRole==="listbox"?st:zk(U))]),Po("menubutton-update-display-text",[Le(cd,(U,q)=>{f.bind(ee=>ee.getOpt(U)).each(ee=>{no.set(ee,[ms(i.providers.translate(q.event.text))])})}),Le(Zd,(U,q)=>{p.bind(ee=>ee.getOpt(U)).each(ee=>{no.set(ee,[Sg(q.event.icon,i.providers.icons)])})})])]),eventOrder:Un(xC,{[Ze()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ba()]:["toolbar-button-events",zs.name(),B,A]}),sandboxBehaviours:at([qt.config({mode:"special",onLeft:b,onRight:b}),Po("dropdown-sandbox-events",[Le(L3,(U,q)=>{(ee=>{const W=Ee.getValue(ee),Z=y0(ee).map($3);Qi.refetch(W).get(()=>{const X=ps.getCoupled(W,"sandbox");Z.each(te=>y0(X).each(ne=>((pe,_e)=>{Ee.setValue(pe,_e.fetchPattern),pe.element.dom.selectionStart=_e.selectionStart,pe.element.dom.selectionEnd=_e.selectionEnd})(ne,te)))})})(U),q.stop()}),Le(I3,(U,q)=>{((ee,W)=>{(Z=>x.getState(Z).bind($n.getHighlighted).bind($n.getHighlighted))(ee).each(Z=>{((X,te,ne,pe)=>{const _e={...pe,target:te};X.getSystem().triggerEvent(ne,te,_e)})(ee,Z.element,W.event.eventType,W.event.interactionEvent)})})(U,q),q.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Rx(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:$z,onCollapseMenu:(U,q,ee)=>{$n.getHighlighted(ee).each(W=>{$z(U,ee,W)})},onDehighlightItem:CD}}},getAnchorOverrides:()=>({maxHeightFunction:(U,q)=>{Qf()(U,q-10)}}),fetch:U=>hg(ht(n.fetch,U))})).asSpec()},Tk=n=>n.type==="separator",Ok={type:"separator"},OT=(n,s)=>{const i=((l,u)=>{const f=wo(l,(p,b)=>(y=>ko(y))(b)?b===""?p:b==="|"?p.length>0&&!Tk(p[p.length-1])?p.concat([Ok]):p:Co(u,b.toLowerCase())?p.concat([u[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&Tk(f[f.length-1])&&f.pop(),f})(ko(n)?n.split(" "):n,s);return hn(i,(l,u)=>{if((f=>Co(f,"getSubmenuItems"))(u)){const f=(b=>{const y=ct(b,"value").getOrThunk(()=>At("generated-menu-item"));return Un({value:y},b)})(u),p=((b,y)=>{const _=b.getSubmenuItems(),E=OT(_,y);return{item:b,menus:Un(E.menus,{[b.value]:E.items}),expansions:Un(E.expansions,{[b.value]:b.value})}})(f,s);return{menus:Un(l.menus,p.menus),items:[p.item,...l.items],expansions:Un(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},Qh=(n,s,i,l)=>{const u=At("primary-menu"),f=OT(n,i.shared.providers.menuItems());if(f.items.length===0)return O.none();const p=(C=>C.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),b=Vz(u,f.items,s,i,l.isHorizontalMenu,p),y=(C=>C.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),_=In(f.menus,(C,A)=>Vz(A,C,s,i,!1,y)),E=Un(_,ri(u,b));return O.from(up.tieredData(u,E,f.expansions))},j0=n=>!Co(n,"items"),wC="data-value",Ak=(n,s,i,l,u)=>et(i,f=>j0(f)?{type:"togglemenuitem",...u?{}:{role:"option"},text:f.text,value:f.value,active:f.value===l,onAction:()=>{Ee.setValue(n,f.value),jt(n,Fi,{name:s}),bo.focus(n)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>Ak(n,s,f.items,l,u)}),Nk=(n,s)=>ao(n,i=>j0(i)?Fo(i.value===s,i):Nk(i.items,s)),n6=nd({name:"HtmlSelect",configFields:[Ue("options"),Nt("selectBehaviours",[bo,Ee]),we("selectClasses",[]),we("selectAttributes",{}),Xo("data")],factory:(n,s)=>{const i=et(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>ri("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Do(n.selectBehaviours,[bo.config({}),Ee.config({store:{mode:"manual",getValue:u=>Ku(u.element),setValue:(u,f)=>{const p=tt(n.options);H(n.options,b=>b.value===f).isSome()?Wf(u.element,f):u.element.dom.selectedIndex===-1&&f===""&&p.each(b=>Wf(u.element,b.value))},...l}})])}}}),AT=ue([we("field1Name","field1"),we("field2Name","field2"),Rd("onLockedChange"),Gm(["lockClass"]),we("locked",!1),yo("coupledFieldBehaviours",[yn,Ee])]),CC=(n,s)=>Ji({factory:Zn,name:n,overrides:i=>({fieldBehaviours:at([Po("coupled-input-behaviour",[Le(lu(),l=>{((u,f,p)=>mr(u,f,p).bind(yn.getCurrent))(l,i,s).each(u=>{mr(l,i,"lock").each(f=>{co.isOn(f)&&i.onLockedChange(l,u,f)})})})])])})}),NT=ue([CC("field1","field2"),CC("field2","field1"),Ji({factory:Ci,schema:[Ue("dom")],name:"lock",overrides:n=>({buttonBehaviours:at([co.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),Ic=cl({name:"FormCoupledInputs",configFields:AT(),partFields:NT(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:lo(n.coupledFieldBehaviours,[yn.config({find:O.some}),Ee.config({store:{mode:"manual",getValue:u=>{const f=q_(u,n,["field1","field2"]);return{[n.field1Name]:Ee.getValue(f.field1()),[n.field2Name]:Ee.getValue(f.field2())}},setValue:(u,f)=>{const p=q_(u,n,["field1","field2"]);Vo(f,n.field1Name)&&Ee.setValue(p.field1(),f[n.field1Name]),Vo(f,n.field2Name)&&Ee.setValue(p.field2(),f[n.field2Name])}}})]),apis:{getField1:u=>mr(u,n,"field1"),getField2:u=>mr(u,n,"field2"),getLock:u=>mr(u,n,"lock")}}),apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),SC=n=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(s!==null){const i=parseFloat(s[1]),l=s[2];return Uo.value({value:i,unit:l})}return Uo.error(n)},EC=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>Co(i,u);return n.unit===s?O.some(n.value):l(n.unit)&&l(s)?i[n.unit]===i[s]?O.some(n.value):O.some(n.value/i[n.unit]*i[s]):O.none()},zC=n=>O.none(),RT=(n,s)=>{const i=n.label.map(E=>yg(E,s)),l=[vo.config({disabled:()=>n.disabled||s.isDisabled()}),ya(),qt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:E=>(Bo(E,P0),O.some(!0))}),Po("textfield-change",[Le(lu(),(E,C)=>{jt(E,Fi,{name:n.name})}),Le(Mf(),(E,C)=>{jt(E,Fi,{name:n.name})})]),lr.config({})],u=n.validation.map(E=>gm.config({getRoot:C=>ua(C.element),invalidClass:"tox-invalid",validator:{validate:C=>{const A=Ee.getValue(C),B=E.validator(A);return pm(B===!0?Uo.value(A):Uo.error(B))},validateOnLoad:E.validateOnLoad}})).toArray(),f={...n.placeholder.fold(ue({}),E=>({placeholder:s.translate(E)})),...n.inputMode.fold(ue({}),E=>({inputmode:E})),"data-mce-name":n.name},p=Zn.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(E=>({data:E})).getOr({}),inputAttributes:f,inputClasses:[n.classname],inputBehaviours:at(Cr([l,u])),selectOnFocus:!1,factory:gp}),b=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),_=[vo.config({disabled:()=>n.disabled||s.isDisabled(),onDisabled:E=>{Zn.getField(E).each(vo.disable)},onEnabled:E=>{Zn.getField(E).each(vo.enable)}}),ya()];return B0(i,b,y,_)},U0=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),wp=n=>n.dimension.property,Eg=(n,s)=>n.dimension.getDimension(s),zg=(n,s)=>{const i=U0(n,s);Bn(i,[s.shrinkingClass,s.growingClass])},Rk=(n,s)=>{Ut(n.element,s.openClass),ut(n.element,s.closedClass),po(n.element,wp(s),"0px"),gl(n.element)},TC=(n,s)=>{Ut(n.element,s.closedClass),ut(n.element,s.openClass),_n(n.element,wp(s))},DT=(n,s,i,l)=>{i.setCollapsed(),po(n.element,wp(s),Eg(s,n.element)),zg(n,s),Rk(n,s),s.onStartShrink(n),s.onShrunk(n)},r6=(n,s,i,l)=>{const u=l.getOrThunk(()=>Eg(s,n.element));i.setCollapsed(),po(n.element,wp(s),u),gl(n.element);const f=U0(n,s);Ut(f,s.growingClass),ut(f,s.shrinkingClass),Rk(n,s),s.onStartShrink(n)},MT=(n,s,i)=>{const l=Eg(s,n.element);(l==="0px"?DT:r6)(n,s,i,O.some(l))},BT=(n,s,i)=>{const l=U0(n,s),u=Jo(l,s.shrinkingClass),f=Eg(s,n.element);TC(n,s);const p=Eg(s,n.element);(u?()=>{po(n.element,wp(s),f),gl(n.element)}:()=>{Rk(n,s)})(),Ut(l,s.shrinkingClass),ut(l,s.growingClass),TC(n,s),po(n.element,wp(s),p),i.setExpanded(),s.onStartGrow(n)},Z0=(n,s,i)=>{const l=U0(n,s);return Jo(l,s.growingClass)===!0},PT=(n,s,i)=>{const l=U0(n,s);return Jo(l,s.shrinkingClass)===!0};var LT=Object.freeze({__proto__:null,refresh:(n,s,i)=>{if(i.isExpanded()){_n(n.element,wp(s));const l=Eg(s,n.element);po(n.element,wp(s),l)}},grow:(n,s,i)=>{i.isExpanded()||BT(n,s,i)},shrink:(n,s,i)=>{i.isExpanded()&&MT(n,s,i)},immediateShrink:(n,s,i)=>{i.isExpanded()&&DT(n,s,i)},hasGrown:(n,s,i)=>i.isExpanded(),hasShrunk:(n,s,i)=>i.isCollapsed(),isGrowing:Z0,isShrinking:PT,isTransitioning:(n,s,i)=>Z0(n,s)||PT(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?MT:BT)(n,s,i)},disableTransitions:zg,immediateGrow:(n,s,i)=>{i.isExpanded()||(TC(n,s),po(n.element,wp(s),Eg(s,n.element)),zg(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),s6=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const l=s.expanded;return qr(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:ri(s.dimension.property,"0px")})},events:(n,s)=>_o([Nd(Fm(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(zg(i,n),s.isExpanded()&&_n(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),IT=[Ue("closedClass"),Ue("openClass"),Ue("shrinkingClass"),Ue("growingClass"),Xo("getAnimationRoot"),un("onShrunk"),un("onStartShrink"),un("onGrown"),un("onStartGrow"),we("expanded",!1),js("dimension",us("property",{width:[ur("property","width"),ur("getDimension",n=>No(n)+"px")],height:[ur("property","height"),ur("getDimension",n=>yr(n)+"px")]}))];const Rl=Zs({fields:IT,name:"sliding",active:s6,apis:LT,state:Object.freeze({__proto__:null,init:n=>{const s=Ht(n.expanded);return Us({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:ht(s.set,!1),setExpanded:ht(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),FT=n=>({isEnabled:()=>!vo.isDisabled(n),setEnabled:s=>vo.set(n,!s),setActive:s=>{const i=n.element;s?(ut(i,"tox-tbtn--enabled"),to(i,"aria-pressed",!0)):(Ut(i,"tox-tbtn--enabled"),Wo(i,"aria-pressed"))},isActive:()=>Jo(n.element,"tox-tbtn--enabled"),setText:s=>{jt(n,cd,{text:s})},setIcon:s=>jt(n,Zd,{icon:s})}),Oy=(n,s,i,l,u=!0,f)=>_C({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(p,b)=>{const y={pattern:n.search.isSome()?Gh(p):""};n.fetch(_=>{b(Qh(_,gf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},y,FT(p))},onSetup:n.onSetup,getApi:FT,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...u?[lr.config({})]:[]]},s,i.shared,f),HT=(n,s,i)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),i.shared.getSink().each(y=>{s().getOpt(y).each(_=>{ki(_.element),jt(_,bf,{name:f.name,value:f.storage.get()})})})},u=f=>p=>{p.setActive(f.storage.get())};return f=>{f(et(n,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,onAction:l(p),onSetup:u(p)}}))}},OC=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[ms(n)]}),AC=At("leaf-label-event-id"),NC=({leaf:n,onLeafAction:s,visible:i,treeId:l,selectedId:u,backstage:f})=>{const p=n.menu.map(y=>Oy(y,"tox-mbtn",f,O.none(),i)),b=[OC(n.title)];return p.each(y=>b.push(y)),Ci.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(n.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[Rr()]:[AC,"keying"]},buttonBehaviours:at([...i?[lr.config({})]:[],co.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Yi.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,_)=>{(_.value===n.id?co.on:co.off)(y)}}}}),Po(AC,[dr((y,_)=>{u.each(E=>{(E===n.id?co.on:co.off)(y)})}),Le(Rr(),(y,_)=>{const E=_.event.raw.code==="ArrowLeft",C=_.event.raw.code==="ArrowRight";E?(Gf(y.element,".tox-tree--directory").each(A=>{y.getSystem().getByDom(A).each(B=>{Db(A,".tox-tree--directory__label").each(L=>{B.getSystem().getByDom(L).each(bo.focus)})})}),_.stop()):C&&_.stop()})])])})},$T=At("directory-label-event-id"),a6=({directory:n,visible:s,noChildren:i,backstage:l})=>{const u=n.menu.map(_=>Oy(_,"tox-mbtn",l,O.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p="chevron-right",b=l.shared.providers.icons,((_,E,C)=>Bc(_,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},E))(p,b))]},OC(n.title)];var p,b;u.each(_=>{f.push(_)});const y=_=>{Gf(_.element,".tox-tree--directory").each(E=>{_.getSystem().getByDom(E).each(C=>{const A=!co.isOn(C);co.toggle(C),jt(_,"expand-tree-node",{expanded:A,node:n.id})})})};return Ci.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:y,eventOrder:{[Rr()]:[$T,"keying"]},buttonBehaviours:at([...s?[lr.config({})]:[],Po($T,[Le(Rr(),(_,E)=>{const C=E.event.raw.code==="ArrowRight",A=E.event.raw.code==="ArrowLeft";C&&i&&E.stop(),(C||A)&&Gf(_.element,".tox-tree--directory").each(B=>{_.getSystem().getByDom(B).each(L=>{!co.isOn(L)&&C||co.isOn(L)&&A?(y(_),E.stop()):A&&!co.isOn(L)&&(Gf(L.element,".tox-tree--directory").each(U=>{Db(U,".tox-tree--directory__label").each(q=>{L.getSystem().getByDom(q).each(bo.focus)})}),E.stop())})})})])])})},i6=({children:n,onLeafAction:s,visible:i,treeId:l,expandedIds:u,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(b=>b.type==="leaf"?NC({leaf:b,selectedId:f,onLeafAction:s,visible:i,treeId:l,backstage:p}):Dk({directory:b,expandedIds:u,selectedId:f,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:p})),behaviours:at([Rl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),no.config({})])}),VT=At("directory-event-id"),Dk=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:u,expandedIds:f,selectedId:p})=>{const{children:b}=n,y=Ht(f),_=f.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[a6({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),i6({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:_,treeId:l,backstage:u})],behaviours:at([Po(VT,[dr((E,C)=>{co.set(E,_)}),Le("expand-tree-node",(E,C)=>{const{expanded:A,node:B}=C.event;y.set(A?[...y.get(),B]:y.get().filter(L=>L!==B))})]),co.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,C)=>{const A=E.components()[1],B=(L=C,b.map(U=>U.type==="leaf"?NC({leaf:U,selectedId:p,onLeafAction:s,visible:L,treeId:l,backstage:u}):Dk({directory:U,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:L,treeId:l,backstage:u})));var L;C?Rl.grow(A):Rl.shrink(A),no.set(A,B)}})])}},l6=At("tree-event-id");var c6=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.stream.streams.setup(n,s);return _o([Le(n.event,i),wc(()=>s.cancel())].concat(n.cancelEvent.map(l=>[Le(l,()=>s.cancel())]).getOr([])))}});const jT=n=>{const s=Ht(null);return Us({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:i=>{s.set(i)},cancel:()=>{const i=s.get();i!==null&&i.cancel()}})};var d6=Object.freeze({__proto__:null,throttle:jT,init:n=>n.stream.streams.state(n)}),u6=[js("stream",us("mode",{throttle:[Ue("delay"),we("stopEvent",!0),ur("streams",{setup:(n,s)=>{const i=n.stream,l=cC(n.onStream,i.delay);return s.setTimer(l),(u,f)=>{l.throttle(u,f),i.stopEvent&&f.stop()}},state:jT})]})),we("event","input"),Xo("cancelEvent"),Rd("onStream")];const RC=Zs({fields:u6,name:"streaming",active:c6,state:d6}),Mk=(n,s,i)=>{const l=Ee.getValue(i);Ee.setValue(s,l),DC(s)},Bk=(n,s)=>{const i=n.element,l=Ku(i),u=i.dom;cs(i,"type")!=="number"&&s(u,l)},DC=n=>{Bk(n,(s,i)=>s.setSelectionRange(i.length,i.length))},MC=ue("alloy.typeahead.itemexecute"),f6=ue([Xo("lazySink"),Ue("fetch"),we("minChars",5),we("responseTime",1e3),un("onOpen"),we("getHotspot",O.some),we("getAnchorOverrides",ue({})),we("layouts",O.none()),we("eventOrder",{}),ha("model",{},[we("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),we("selectsOver",!0),we("populateFromBrowse",!0)]),un("onSetValue"),Gi("onExecute"),un("onItemExecute"),we("inputClasses",[]),we("inputAttributes",{}),we("inputStyles",{}),we("matchWidth",!0),we("useMinWidth",!1),we("dismissOnBlur",!0),Gm(["openClass"]),Xo("initialData"),Xo("listRole"),Nt("typeaheadBehaviours",[bo,Ee,RC,qt,co,ps]),ta("lazyTypeaheadComp",()=>Ht(O.none)),ta("previewing",()=>Ht(!0))].concat(GR()).concat(T2())),UT=ue([wu({schema:[qm()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((f,p,b)=>{if(f.selectsOver){const y=Ee.getValue(p),_=f.getDisplayText(y),E=Ee.getValue(b);return f.getDisplayText(E).indexOf(_)===0?O.some(()=>{Mk(0,p,b),((C,A)=>{Bk(C,(B,L)=>B.setSelectionRange(A,L.length))})(p,_.length)}):O.none()}return O.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?($n.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},f=>{f(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&Mk(n.model,u,l),Er(l.element,"id").each(f=>to(u.element,"aria-activedescendant",f))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(l=>(jt(l,MC(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&Mk(n.model,l,i)})}})})]),m6=cl({name:"Typeahead",configFields:f6(),partFields:UT(),factory:(n,s,i,l)=>{const u=(C,A,B)=>{n.previewing.set(!1);const L=ps.getCoupled(C,"sandbox");if(x.isOpen(L))yn.getCurrent(L).each(U=>{$n.getHighlighted(U).fold(()=>{B(U)},()=>{zl(L,U.element,"keydown",A)})});else{const U=q=>{yn.getCurrent(q).each(B)};Yx(n,p(C),C,L,l,U,Ii.HighlightMenuAndItem).get(st)}},f=KR(n),p=C=>A=>A.map(B=>{const L=Xs(B.menus),U=xn(L,q=>gn(q.items,ee=>ee.type==="item"));return Ee.getState(C).update(et(U,q=>q.data)),B}),b=C=>yn.getCurrent(C),y="typeaheadevents",_=[bo.config({}),Ee.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:C=>Ku(C.element),getFallbackEntry:C=>({value:C,meta:{}}),setValue:(C,A)=>{Wf(C.element,n.model.getDisplayText(A))},...n.initialData.map(C=>ri("initialValue",C)).getOr({})}}),RC.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(C,A)=>{const B=ps.getCoupled(C,"sandbox");if(bo.isFocused(C)&&Ku(C.element).length>=n.minChars){const L=b(B).bind(q=>$n.getHighlighted(q).map(Ee.getValue));n.previewing.set(!0);const U=q=>{b(B).each(ee=>{L.fold(()=>{n.model.selectsOver&&$n.highlightFirst(ee)},W=>{$n.highlightBy(ee,Z=>Ee.getValue(Z).value===W.value),$n.getHighlighted(ee).orThunk(()=>($n.highlightFirst(ee),O.none()))})})};Yx(n,p(C),C,B,l,U,Ii.HighlightJustMenu).get(st)}},cancelEvent:Gc()}),qt.config({mode:"special",onDown:(C,A)=>(u(C,A,$n.highlightFirst),O.some(!0)),onEscape:C=>{const A=ps.getCoupled(C,"sandbox");return x.isOpen(A)?(x.close(A),O.some(!0)):O.none()},onUp:(C,A)=>(u(C,A,$n.highlightLast),O.some(!0)),onEnter:C=>{const A=ps.getCoupled(C,"sandbox"),B=x.isOpen(A);if(B&&!n.previewing.get())return b(A).bind(L=>$n.getHighlighted(L)).map(L=>(jt(C,MC(),{item:L}),!0));{const L=Ee.getValue(C);return Bo(C,Gc()),n.onExecute(A,C,L),B&&x.close(A),O.some(!0)}}}),co.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),ps.config({others:{sandbox:C=>z2(n,C,{onOpen:()=>co.on(C),onClose:()=>{n.lazyTypeaheadComp.get().each(A=>Wo(A.element,"aria-activedescendant")),co.off(C)}})}}),Po(y,[dr(C=>{n.lazyTypeaheadComp.set(O.some(C))}),wc(C=>{n.lazyTypeaheadComp.set(O.none())}),Tl(C=>{const A=st;S2(n,p(C),C,l,A,Ii.HighlightMenuAndItem).get(st)}),Le(MC(),(C,A)=>{const B=ps.getCoupled(C,"sandbox");Mk(n.model,C,A.event.item),Bo(C,Gc()),n.onItemExecute(C,B,A.event.item,Ee.getValue(C)),x.close(B),DC(C)})].concat(n.dismissOnBlur?[Le(Df(),C=>{const A=ps.getCoupled(C,"sandbox");ys(A.element).isNone()&&x.close(A)})]:[]))],E={[Sl()]:[Ee.name(),RC.name(),y],...n.eventOrder};return{uid:n.uid,dom:P3(Un(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...Do(n.typeaheadBehaviours,_)},eventOrder:E}}}),eb=n=>({...n,toCached:()=>eb(n.toCached()),bindFuture:s=>eb(n.bind(i=>i.fold(l=>pm(Uo.error(l)),l=>s(l)))),bindResult:s=>eb(n.map(i=>i.bind(s))),mapResult:s=>eb(n.map(i=>i.map(s))),mapError:s=>eb(n.map(i=>i.mapError(s))),foldResult:(s,i)=>n.map(l=>l.fold(s,i)),withTimeout:(s,i)=>eb(hg(l=>{let u=!1;const f=setTimeout(()=>{u=!0,l(Uo.error(i()))},s);n.get(p=>{u||(clearTimeout(f),l(p))})}))}),ZT=n=>eb(hg(n)),W0=(n,s,i=[],l,u,f,p)=>{const b=s.fold(()=>({}),E=>({action:E})),y={buttonBehaviours:at([ci(()=>!n.enabled||p.isDisabled()),ya(),lr.config({}),...f.map(E=>zs.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),Po("button press",[vb("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},_=Un(y,{dom:l});return Un(_,{components:u})},WT=(n,s,i,l=[],u)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(y=>({"aria-label":i.translate(y)})).getOr({}),"data-mce-name":u}},p=n.icon.map(y=>V0(y,i.icons)),b=hy([p]);return W0(n,s,l,f,b,n.tooltip,i)},BC=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},qT=(n,s,i,l=[],u=[])=>{const f=i.translate(n.text),p=n.icon.map(C=>V0(C,i.icons)),b=[p.getOrThunk(()=>ms(f))],y=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),_={tag:"button",classes:[...BC(y),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":f,"data-mce-name":n.text}},E=n.icon.map(ue(f));return W0(n,s,l,_,b,E,i)},GT=(n,s,i,l=[],u=[])=>{const f=qT(n,O.some(s),i,l,u);return Ci.sketch(f)},PC=(n,s)=>i=>{s==="custom"?jt(i,bf,{name:n,value:{}}):s==="submit"?Bo(i,P0):s==="cancel"?Bo(i,vp):console.error("Unknown button type: ",s)},Ay=(n,s,i)=>{if(((l,u)=>u==="menu")(0,s)){const l=()=>p,u=n,f={...n,type:"menubutton",search:O.none(),onSetup:b=>(b.setEnabled(n.enabled),st),fetch:HT(u.items,l,i)},p=Hn(Oy(f,"tox-tbtn",i,O.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,s)){const l=PC(n.name,s),u={...n,borderless:!1};return GT(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,s))return((l,u,f)=>{var p,b;const y=l.icon.map(Z=>Sg(Z,u.icons)).map(Hn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",primary:_==="primary",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b,borderless:!1},C=E.tooltip.or(l.text).map(Z=>({"aria-label":u.translate(Z)})).getOr({}),A=BC(_??"secondary"),B=l.icon.isSome()&&l.text.isSome(),L={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...B?["tox-button--icon-and-text"]:[]],attributes:{...C,...Bt(f)?{"data-mce-name":f}:{}}},U=u.translate(l.text.getOr("")),q=ms(U),ee=[...hy([y.map(Z=>Z.asSpec())]),...l.text.isSome()?[q]:[]],W=W0(E,O.some(Z=>{jt(Z,bf,{name:l.name,value:{setIcon:X=>{y.map(te=>te.getOpt(Z).each(ne=>{no.set(ne,[Sg(X,u.icons)])}))}}})}),[],L,ee,l.tooltip,u);return Ci.sketch(W)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},p6={type:"separator"},g6=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:st}),LC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:st}),KT=(n,s)=>(i=>et(i,g6))(((i,l)=>gn(l,u=>u.type===i))(n,s)),h6=n=>KT("header",n.targets),b6=n=>KT("anchor",n.targets),YT=n=>O.from(n.anchorTop).map(s=>LC("<top>",s)).toArray(),XT=n=>O.from(n.anchorBottom).map(s=>LC("<bottom>",s)).toArray(),IC=(n,s)=>{const i=n.toLowerCase();return gn(s,l=>{var u;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return is(f.toLowerCase(),i)||is(p.toLowerCase(),i)})},JT=At("aria-invalid"),y6=(n,s)=>{n.dom.checked=s},Fc=n=>n.dom.checked,jr=n=>(s,i,l,u,f)=>ct(i,"name").fold(()=>n(i,u,O.none(),f),p=>s.field(p,n(i,u,ct(l,p),f))),v6={bar:jr((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:et(i.items,l.interpreter)}))(n,s.shared)),collection:jr((n,s,i)=>Gz(n,s.shared.providers,i)),alertbanner:jr((n,s)=>((i,l)=>{const u=z3(i.icon,l.icons);return zu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[Ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:f=>jt(f,bf,{name:"alert-banner",value:i.url}),buttonBehaviours:at([Ox()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,s.shared.providers)),input:jr((n,s,i)=>((l,u,f)=>RT({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:O.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),textarea:jr((n,s,i)=>((l,u,f)=>RT({name:l.name,multiline:!0,label:l.label,inputMode:O.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:O.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),label:jr((n,s,i,l)=>((u,f,p)=>{const b="tox-label",y=u.align==="center"?[`${b}--center`]:[],_=u.align==="end"?[`${b}--end`]:[],E=Hn({dom:{tag:"label",classes:[b,...y,..._]},components:[ms(f.providers.translate(u.label))]}),C=et(u.items,f.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...C],behaviours:at([vm(),no.config({}),(A=O.none(),iC(A,gu,Um)),qt.config({mode:"acyclic"}),Po("label",[dr(B=>{u.for.each(L=>{p(L).each(U=>{E.getOpt(B).each(q=>{var ee;const W=(ee=cs(U.element,"id"))!==null&&ee!==void 0?ee:At("form-field");to(U.element,"id",W),to(q.element,"for",W)})})})})])])};var A})(n,s.shared,l)),iframe:(sS=(n,s,i)=>((l,u,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(B=>({title:B})).getOr({}),...f.map(B=>({srcdoc:B})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((B,L)=>{const U=Ht(B.getOr(""));return{getValue:q=>U.get(),setValue:(q,ee)=>{if(U.get()!==ee){const W=q.element,Z=()=>to(W,"srcdoc",ee);L?vC.fold(ue(yC),X=>X.throttle)(W,ee,Z):Z()}U.set(ee)}}})(f,l.streamContent),C=l.label.map(B=>yg(B,u)),A=Zn.parts.field({factory:{sketch:B=>fC(O.from(y),{uid:B.uid,dom:{tag:"iframe",attributes:_,classes:[p,...b]},behaviours:at([lr.config({}),bo.config({}),Jh(f,E.getValue,E.setValue),Yi.config({channels:{[Sk]:{onReceive:(L,U)=>{U.newFocus.each(q=>{ua(L.element).each(ee=>{(kn(L.element,q)?ut:Ut)(ee,"tox-navobj-bordered-focus")})})}}}})])})}});return B0(C,A,["tox-form__group--stretched"],[])})(n,s.shared.providers,i),(n,s,i,l,u)=>{const f=Un(s,{source:"dynamic"});return jr(sS)(n,f,i,l,u)}),button:jr((n,s)=>((i,l)=>{const u=PC(i.name,"custom");return f=O.none(),p=Zn.parts.field({factory:Ci,...qT(i,O.some(u),l,[$0(""),vm()])}),B0(f,p,[],[]);var f,p})(n,s.shared.providers)),checkbox:jr((n,s,i)=>((l,u,f)=>{const p=C=>(C.element.dom.click(),O.some(!0)),b=Zn.parts.field({factory:{sketch:Dt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:at([vm(),vo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:C=>{ua(C.element).each(A=>ut(A,"tox-checkbox--disabled"))},onEnabled:C=>{ua(C.element).each(A=>Ut(A,"tox-checkbox--disabled"))}}),lr.config({}),bo.config({}),iC(f,Fc,y6),qt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),Po("checkbox-events",[Le(Sd(),(C,A)=>{jt(C,Fi,{name:l.name})})])])}),y=Zn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ms(u.translate(l.label))],behaviours:at([Kh.config({})])}),_=C=>Bc(C==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},u.icons),E=Hn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return Zn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),y],fieldBehaviours:at([vo.config({disabled:()=>!l.enabled||u.isDisabled()}),ya()])})})(n,s.shared.providers,i)),colorinput:jr((n,s,i)=>((l,u,f,p)=>{const b=Zn.parts.field({factory:gp,inputClasses:["tox-textfield"],data:p,onSetValue:C=>gm.run(C).get(st),inputBehaviours:at([vo.config({disabled:u.providers.isDisabled}),ya(),lr.config({}),gm.config({invalidClass:"tox-textbox-field-invalid",getRoot:C=>ua(C.element),notify:{onValid:C=>{const A=Ee.getValue(C);jt(C,L2,{color:A})}},validator:{validateOnLoad:!1,validate:C=>{const A=Ee.getValue(C);if(A.length===0)return pm(Uo.value(!0));{const B=Os("span");po(B,"background-color",A);const L=Hr(B,"background-color").fold(()=>Uo.error("blah"),U=>Uo.value(A));return pm(L)}}}})]),selectOnFocus:!1}),y=l.label.map(C=>yg(C,u.providers)),_=(C,A)=>{jt(C,I2,{value:A})},E=Hn(((C,A)=>Qi.sketch({dom:C.dom,components:C.components,toggleClass:"mce-active",dropdownBehaviours:at([ci(A.providers.isDisabled),ya(),Kh.config({}),lr.config({})]),layouts:C.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:B=>hg(L=>C.fetch(L)).map(L=>O.from(O2(Un(qh(At("menu-value"),L,U=>{C.onItemAction(B,U)},C.columns,C.presets,gf.CLOSE_ON_EXECUTE,Fe,A.providers),{movement:A0(C.columns,C.presets)})))),parts:{menu:Rx(0,0,C.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ns,os,bs],onLtr:()=>[os,ns,bs]},components:[],fetch:Tz(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(C,A)=>{E.getOpt(C).each(B=>{A==="custom"?f.colorPicker(L=>{L.fold(()=>Bo(B,Qz),U=>{_(B,U),u2(l.storageKey,U)})},"#ffffff"):_(B,A==="remove"?"":A)})}},u));return Zn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:at([Po("form-field-events",[Le(L2,(C,A)=>{E.getOpt(C).each(B=>{po(B.element,"background-color",A.event.color)}),jt(C,Fi,{name:l.name})}),Le(I2,(C,A)=>{Zn.getField(C).each(B=>{Ee.setValue(B,A.event.value),yn.getCurrent(C).each(bo.focus)})}),Le(Qz,(C,A)=>{Zn.getField(C).each(B=>{yn.getCurrent(C).each(bo.focus)})})])])})})(n,s.shared,s.colorinput,i)),colorpicker:jr((n,s,i)=>((l,u,f)=>{const p=_=>"tox-"+_,b=xT((_=>E=>ko(E)?_.translate(e6[E]):_.translate(E))(u),p,u.tooltips.getConfig,(_,E,C=_,A=_)=>Bc(C,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:u.translate(A),"aria-live":"polite",...E.fold(()=>({}),B=>({id:B}))}},u.icons)),y=Hn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{jt(_,bf,{name:"hex-valid",value:!0})},onInvalidHex:_=>{jt(_,bf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:at([Jh(f,_=>{const E=y.get(_);return yn.getCurrent(E).bind(C=>Ee.getValue(C).hex).map(C=>"#"+Vn(C,"#")).getOr("")},(_,E)=>{const C=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(B=>yt(B,1)),A=y.get(_);yn.getCurrent(A).fold(()=>{console.log("Can not find form")},B=>{Ee.setValue(B,{hex:C.getOr("")}),_g.getField(B,"hex").each(L=>{Bo(L,lu())})})}),vm()])}})(0,s.shared.providers,i)),dropzone:jr((n,s,i)=>((l,u,f)=>{const p=(L,U)=>{U.stop()},b=L=>(U,q)=>{St(L,ee=>{ee(U,q)})},y=(L,U)=>{var q;if(!vo.isDisabled(L)){const ee=U.event.raw;E(L,(q=ee.dataTransfer)===null||q===void 0?void 0:q.files)}},_=(L,U)=>{const q=U.event.raw.target;E(L,q.files)},E=(L,U)=>{U&&(Ee.setValue(L,((q,ee)=>{const W=_p.explode(ee.getOption("images_file_types"));return gn(Wt(q),Z=>Oo(W,X=>nl(Z.name.toLowerCase(),`.${X.toLowerCase()}`)))})(U,u)),jt(L,Fi,{name:l.name}))},C=Hn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:at([Po("input-file-events",[cu(Cs()),cu(_c())])])}),A=l.label.map(L=>yg(L,u)),B=Zn.parts.field({factory:{sketch:L=>({uid:L.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:at([$0(f.getOr([])),vm(),vo.config({}),co.config({toggleClass:"dragenter",toggleOnExecute:!1}),Po("dropzone-events",[Le("dragenter",b([p,co.toggle])),Le("dragleave",b([p,co.toggle])),Le("dragover",p),Le("drop",b([p,y])),Le(Sd(),_)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ms(u.translate("Drop an image here"))]},Ci.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ms(u.translate("Browse for an image")),C.asSpec()],action:U=>{C.get(U).element.dom.click()},buttonBehaviours:at([lr.config({}),ci(u.isDisabled),ya()])})]}]})}});return B0(A,B,["tox-form__group--stretched"],[])})(n,s.shared.providers,i)),grid:jr((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:et(i.items,l.interpreter)}))(n,s.shared)),listbox:jr((n,s,i)=>((l,u,f)=>{const p=Oo(l.items,A=>!j0(A)),b=u.shared.providers,y=f.bind(A=>Nk(l.items,A)).orThunk(()=>tt(l.items).filter(j0)),_=l.label.map(A=>yg(A,b)),E=Zn.parts.field({dom:{},factory:{sketch:A=>_C({uid:A.uid,text:y.map(B=>B.text),icon:O.none(),tooltip:O.none(),role:Fo(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(B,L)=>{const U=Ak(B,l.name,l.items,Ee.getValue(B),p);L(Qh(U,gf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ue(st),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[lr.config({}),Jh(y.map(B=>B.value),B=>cs(B.element,wC),(B,L)=>{Nk(l.items,L).each(U=>{to(B.element,wC,U.value),jt(B,cd,{text:U.text})})})]},"tox-listbox",u.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return Zn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Cr([_.toArray(),[C]]),fieldBehaviours:at([vo.config({disabled:ue(!l.enabled),onDisabled:A=>{Zn.getField(A).each(vo.disable)},onEnabled:A=>{Zn.getField(A).each(vo.enable)}})])})})(n,s,i)),selectbox:jr((n,s,i)=>((l,u,f)=>{const p=et(l.items,C=>({text:u.translate(C.text),value:C.value})),b=l.label.map(C=>yg(C,u)),y=Zn.parts.field({dom:{},...f.map(C=>({data:C})).getOr({}),selectAttributes:{size:l.size},options:p,factory:n6,selectBehaviours:at([vo.config({disabled:()=>!l.enabled||u.isDisabled()}),lr.config({}),Po("selectbox-change",[Le(Sd(),(C,A)=>{jt(C,Fi,{name:l.name})})])])}),_=l.size>1?O.none():O.some(Bc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:Cr([[y],_.toArray()])};return Zn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Cr([b.toArray(),[E]]),fieldBehaviours:at([vo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:C=>{Zn.getField(C).each(vo.disable)},onEnabled:C=>{Zn.getField(C).each(vo.enable)}}),ya()])})})(n,s.shared.providers,i)),sizeinput:jr((n,s)=>((i,l)=>{let u=zC;const f=At("ratio-event"),p=U=>Bc(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},l.icons),b=i.label.getOr("Constrain proportions"),y=l.translate(b),_=Ic.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":y,"data-mce-name":b}},components:[p("lock"),p("unlock")],buttonBehaviours:at([vo.config({disabled:()=>!i.enabled||l.isDisabled()}),ya(),lr.config({}),zs.config(l.tooltips.getConfig({tooltipText:y}))])}),E=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),C=U=>Zn.parts.field({factory:gp,inputClasses:["tox-textfield"],inputBehaviours:at([vo.config({disabled:()=>!i.enabled||l.isDisabled()}),ya(),lr.config({}),Po("size-input-events",[Le(zn(),(q,ee)=>{jt(q,f,{isField1:U})}),Le(Sd(),(q,ee)=>{jt(q,Fi,{name:i.name})})])]),selectOnFocus:!1}),A=U=>({dom:{tag:"label",classes:["tox-label"]},components:[ms(l.translate(U))]}),B=Ic.parts.field1(E([Zn.parts.label(A("Width")),C(!0)])),L=Ic.parts.field2(E([Zn.parts.label(A("Height")),C(!1)]));return Ic.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,L,E([A(" "),_])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,q,ee)=>{SC(Ee.getValue(U)).each(W=>{u(W).each(Z=>{Ee.setValue(q,(X=>{const te={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let ne=X.value.toFixed((pe=X.unit)in te?te[pe]:1);var pe;return ne.indexOf(".")!==-1&&(ne=ne.replace(/\.?0*$/,"")),ne+X.unit})(Z))})})},coupledFieldBehaviours:at([vo.config({disabled:()=>!i.enabled||l.isDisabled(),onDisabled:U=>{Ic.getField1(U).bind(Zn.getField).each(vo.disable),Ic.getField2(U).bind(Zn.getField).each(vo.disable),Ic.getLock(U).each(vo.disable)},onEnabled:U=>{Ic.getField1(U).bind(Zn.getField).each(vo.enable),Ic.getField2(U).bind(Zn.getField).each(vo.enable),Ic.getLock(U).each(vo.enable)}}),ya(),Po("size-input-events2",[Le(f,(U,q)=>{const ee=q.event.isField1,W=ee?Ic.getField1(U):Ic.getField2(U),Z=ee?Ic.getField2(U):Ic.getField1(U),X=W.map(Ee.getValue).getOr(""),te=Z.map(Ee.getValue).getOr("");u=((ne,pe)=>{const _e=SC(ne).toOptional(),je=SC(pe).toOptional();return nt(_e,je,(Ie,Me)=>EC(Ie,Me.unit).map(lt=>Me.value/lt).map(lt=>{return Et=lt,$t=Me.unit,Xt=>EC(Xt,$t).map(xo=>({value:xo*Et,unit:$t}));var Et,$t}).getOr(zC)).getOr(zC)})(X,te)})])])})})(n,s.shared.providers)),slider:jr((n,s,i)=>((l,u,f)=>{const p=Ou.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ms(u.translate(l.label))]}),b=Ou.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Ou.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ou.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ue(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:at([vm(),bo.config({})]),onChoose:(_,E,C)=>{jt(_,Fi,{name:l.name,value:C})},onChange:(_,E,C)=>{jt(_,Fi,{name:l.name,value:C})}})})(n,s.shared.providers,i)),urlinput:jr((n,s,i)=>((l,u,f,p)=>{const b=u.shared.providers,y=W=>{const Z=Ee.getValue(W);f.addToHistory(Z.value,l.filetype)},_={...p.map(W=>({initialData:W})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":JT,type:"url"},minChars:0,responseTime:0,fetch:W=>{const Z=((te,ne,pe)=>{var _e,je;const Ie=Ee.getValue(ne),Me=(je=(_e=Ie==null?void 0:Ie.meta)===null||_e===void 0?void 0:_e.text)!==null&&je!==void 0?je:Ie.value;return pe.getLinkInformation().fold(()=>[],lt=>{const Et=IC(Me,(Xt=>et(Xt,xo=>LC(xo,xo)))(pe.getHistory(te)));return te==="file"?($t=[Et,IC(Me,h6(lt)),IC(Me,Cr([YT(lt),b6(lt),XT(lt)]))],wo($t,(Xt,xo)=>Xt.length===0||xo.length===0?Xt.concat(xo):Xt.concat(p6,xo),[])):Et;var $t})})(l.filetype,W,f),X=Qh(Z,gf.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:O.none()});return pm(X)},getHotspot:W=>q.getOpt(W),onSetValue:(W,Z)=>{W.hasConfigured(gm)&&gm.run(W).get(st)},typeaheadBehaviours:at([...f.getValidationHandler().map(W=>gm.config({getRoot:Z=>ua(Z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Z,X)=>{A.getOpt(Z).each(te=>{to(te.element,"title",b.translate(X))})}},validator:{validate:Z=>{const X=Ee.getValue(Z);return ZT(te=>{W({type:l.filetype,url:X.value},ne=>{if(ne.status==="invalid"){const pe=Uo.error(ne.message);te(pe)}else{const pe=Uo.value(ne.message);te(pe)}})})},validateOnLoad:!1}})).toArray(),vo.config({disabled:()=>!l.enabled||b.isDisabled()}),lr.config({}),Po("urlinput-events",[Le(lu(),W=>{const Z=Ku(W.element),X=Z.trim();X!==Z&&Wf(W.element,X),l.filetype==="file"&&jt(W,Fi,{name:l.name})}),Le(Sd(),W=>{jt(W,Fi,{name:l.name}),y(W)}),Le(Mf(),W=>{jt(W,Fi,{name:l.name}),y(W)})])]),eventOrder:{[lu()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:W=>W.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:Rx(0,0,"normal")},onExecute:(W,Z,X)=>{jt(Z,P0,{})},onItemExecute:(W,Z,X,te)=>{y(W),jt(W,Fi,{name:l.name})}},E=Zn.parts.field({..._,factory:m6}),C=l.label.map(W=>yg(W,b)),A=Hn(((W,Z,X=W,te=W)=>Bc(X,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+W],attributes:{title:b.translate(te),"aria-live":"polite",...Z.fold(()=>({}),ne=>({id:ne}))}},b.icons))("invalid",O.some(JT),"warning")),B=Hn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),L=f.getUrlPicker(l.filetype),U=At("browser.url.event"),q=Hn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,B.asSpec()],behaviours:at([vo.config({disabled:()=>!l.enabled||b.isDisabled()})])}),ee=Hn(GT({name:l.name,icon:O.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:O.none(),borderless:!0},W=>Bo(W,U),b,[],["tox-browse-url"]));return Zn.sketch({dom:ek([]),components:C.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Cr([[q.asSpec()],L.map(()=>ee.asSpec()).toArray()])}]),fieldBehaviours:at([vo.config({disabled:()=>!l.enabled||b.isDisabled(),onDisabled:W=>{Zn.getField(W).each(vo.disable),ee.getOpt(W).each(vo.disable)},onEnabled:W=>{Zn.getField(W).each(vo.enable),ee.getOpt(W).each(vo.enable)}}),ya(),Po("url-input-events",[Le(U,W=>{yn.getCurrent(W).each(Z=>{const X=Ee.getValue(Z),te={fieldname:l.name,...X};L.each(ne=>{ne(te).get(pe=>{Ee.setValue(Z,pe),jt(W,Fi,{name:l.name})})})})})])])})})(n,s,s.urlinput,i)),customeditor:jr(n=>{const s=dn(),i=Hn({dom:{tag:n.tag}}),l=dn(),u=!lC(n)&&n.onFocus.isSome()?[bo.config({onFocus:f=>{n.onFocus.each(p=>{p(f.element.dom)})}}),lr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:at([Po("custom-editor-events",[dr(f=>{i.getOpt(f).each(p=>{(lC(n)?n.init(p.element.dom):kT.load(n.scriptId,n.scriptUrl).then(b=>b(p.element.dom,n.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),Jh(O.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),vm()].concat(u)),components:[i.asSpec()]}}),htmlpanel:jr((n,s)=>((i,l)=>{const u=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],f=Po("htmlpanel",[dr(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?zu.sketch({dom:{tag:"div",classes:u,innerHtml:i.html},containerBehaviours:at([zs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{Pr(p.element,"[data-mce-tooltip]:hover").orThunk(()=>ys(p.element)).each(b=>{Er(b,"data-mce-tooltip").each(y=>{zs.setComponents(p,l.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:Pr(p.element,"[data-mce-tooltip]:hover").orThunk(()=>ys(p.element).filter(b=>Er(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ue([bs,Gr,os,Ss,ns,qn]),onRtl:ue([bs,Gr,os,Ss,ns,qn])},bubble:Jl(0,-2,{})})}),f])}):zu.sketch({dom:{tag:"div",classes:u,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:at([lr.config({}),bo.config({}),f])})})(n,s.shared.providers)),imagepreview:jr((n,s,i)=>((l,u)=>{const f=Ht(u.getOr({url:""})),p=Hn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(E=>({src:E.url})).getOr({})}}),b=Hn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(E=>y.height=E);const _=u.map(E=>({url:E.url,zoom:O.from(E.zoom),cachedWidth:O.from(E.cachedWidth),cachedHeight:O.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:at([vm(),Jh(_,()=>f.get(),(E,C)=>{const A={url:C.url};C.zoom.each(L=>A.zoom=L),C.cachedWidth.each(L=>A.cachedWidth=L),C.cachedHeight.each(L=>A.cachedHeight=L),f.set(A);const B=()=>{const{cachedWidth:L,cachedHeight:U,zoom:q}=A;if(!Ur(L)&&!Ur(U)){if(Ur(q)){const W=((Z,X,te)=>{const ne=No(Z),pe=yr(Z);return Math.min(ne/X,pe/te,1)})(E.element,L,U);A.zoom=W}const ee=((W,Z,X,te,ne)=>{const pe=X*ne,_e=te*ne,je=Math.max(0,W/2-pe/2),Ie=Math.max(0,Z/2-_e/2);return{left:je.toString()+"px",top:Ie.toString()+"px",width:pe.toString()+"px",height:_e.toString()+"px"}})(No(E.element),yr(E.element),L,U,A.zoom);b.getOpt(E).each(W=>{Ai(W.element,ee)})}};p.getOpt(E).each(L=>{const U=L.element;var q;C.url!==cs(U,"src")&&(to(U,"src",C.url),Ut(E.element,"tox-imagepreview__loaded")),B(),(q=U,new Promise((ee,W)=>{const Z=()=>{te(),ee(q)},X=[_i(q,"load",Z),_i(q,"error",()=>{te(),W("Unable to load data from image: "+q.dom.src)})],te=()=>St(X,ne=>ne.unbind());q.dom.complete&&Z()})).then(ee=>{E.getSystem().isConnected()&&(ut(E.element,"tox-imagepreview__loaded"),A.cachedWidth=ee.dom.naturalWidth,A.cachedHeight=ee.dom.naturalHeight,B())})})})])}})(n,i)),table:jr((n,s)=>((i,l)=>{const u=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:et(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=i.cells,{dom:{tag:"tbody"},components:et(f,b=>({dom:{tag:"tr"},components:et(b,u)}))})],behaviours:at([lr.config({}),bo.config({})])};var f,p})(n,s.shared.providers)),tree:jr((n,s)=>((i,l)=>{const u=i.onLeafAction.getOr(st),f=i.onToggleExpand.getOr(st),p=i.defaultExpandedIds,b=Ht(p),y=Ht(i.defaultSelectedId),_=At("tree-id"),E=(C,A)=>i.items.map(B=>B.type==="leaf"?NC({leaf:B,selectedId:C,onLeafAction:u,visible:!0,treeId:_,backstage:l}):Dk({directory:B,selectedId:C,onLeafAction:u,expandedIds:A,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(y.get(),b.get()),behaviours:at([qt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Po(l6,[Le("expand-tree-node",(C,A)=>{const{expanded:B,node:L}=A.event;b.set(B?[...b.get(),L]:b.get().filter(U=>U!==L)),f(b.get(),{expanded:B,node:L})})]),Yi.config({channels:{[`update-active-item-${_}`]:{onReceive:(C,A)=>{y.set(O.some(A.value)),no.set(C,E(O.some(A.value),b.get()))}}}}),no.config({})])}})(n,s)),panel:jr((n,s)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:et(i.items,l.shared.interpreter)}))(n,s))},FC={field:(n,s)=>s,record:ue([])},Pk=(n,s,i,l,u)=>{const f=Un(l,{shared:{interpreter:p=>HC(n,p,i,f,u)}});return HC(n,s,i,f,u)},HC=(n,s,i,l,u)=>ct(v6,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(n,s,i,l,u)),QT=(n,s,i,l)=>HC(FC,n,s,i,l),Au="layout-inset",Ny=n=>n.x,Lk=(n,s)=>n.x+n.width/2-s.width/2,$C=(n,s)=>n.x+n.width-s.width,Wd=n=>n.y,VC=(n,s)=>n.y+n.height-s.height,eO=(n,s)=>n.y+n.height/2-s.height/2,oc=(n,s,i)=>Ua($C(n,s),VC(n,s),i.insetSouthwest(),ep(),"southwest",Za(n,{right:0,bottom:3}),Au),Tg=(n,s,i)=>Ua(Ny(n),VC(n,s),i.insetSoutheast(),eh(),"southeast",Za(n,{left:1,bottom:3}),Au),nc=(n,s,i)=>Ua($C(n,s),Wd(n),i.insetNorthwest(),Qm(),"northwest",Za(n,{right:0,top:2}),Au),q0=(n,s,i)=>Ua(Ny(n),Wd(n),i.insetNortheast(),Qg(),"northeast",Za(n,{left:1,top:2}),Au),vn=(n,s,i)=>Ua(Lk(n,s),Wd(n),i.insetNorth(),Bv(),"north",Za(n,{top:2}),Au),xm=(n,s,i)=>Ua(Lk(n,s),VC(n,s),i.insetSouth(),m1(),"south",Za(n,{bottom:3}),Au),G0=(n,s,i)=>Ua($C(n,s),eO(n,s),i.insetEast(),Pv(),"east",Za(n,{right:0}),Au),jC=(n,s,i)=>Ua(Ny(n),eO(n,s),i.insetWest(),p1(),"west",Za(n,{left:1}),Au),UC=n=>{switch(n){case"north":return vn;case"northeast":return q0;case"northwest":return nc;case"south":return xm;case"southeast":return Tg;case"southwest":return oc;case"east":return G0;case"west":return jC}},Ik=(n,s,i,l,u)=>ih(l).map(UC).getOr(vn)(n,s,i,l,u),x6=n=>{switch(n){case"north":return xm;case"northeast":return Tg;case"northwest":return oc;case"south":return vn;case"southeast":return q0;case"southwest":return nc;case"east":return jC;case"west":return G0}},ZC=(n,s,i,l,u)=>ih(l).map(x6).getOr(vn)(n,s,i,l,u),K0={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},tO=(n,s,i)=>{const l={maxHeightFunction:rp()};return()=>i()?{type:"node",root:bn(Tr(n())),node:O.from(n()),bubble:Jl(12,12,K0),layouts:{onRtl:()=>[q0],onLtr:()=>[nc]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:Jl(-12,12,K0),layouts:{onRtl:()=>[os,ns,bs],onLtr:()=>[ns,os,bs]},overrides:l}},oO=(n,s,i,l)=>{const u={maxHeightFunction:rp()};return()=>l()?{type:"node",root:bn(Tr(s())),node:O.from(s()),bubble:Jl(12,12,K0),layouts:{onRtl:()=>[vn],onLtr:()=>[vn]},overrides:u}:n?{type:"node",root:bn(Tr(s())),node:O.from(s()),bubble:Jl(0,-Ea(s()),K0),layouts:{onRtl:()=>[Gr],onLtr:()=>[Gr]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:Jl(0,0,K0),layouts:{onRtl:()=>[Gr],onLtr:()=>[Gr]},overrides:u}},WC=(n,s,i)=>()=>i()?{type:"node",root:bn(Tr(n())),node:O.from(n()),layouts:{onRtl:()=>[vn],onLtr:()=>[vn]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[bs],onLtr:()=>[bs]}},nO=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],f=l[l.length-1],p={firstCell:kt(u),lastCell:kt(f)};return O.some(p)}return O.some(of.range(kt(i.startContainer),i.startOffset,kt(i.endContainer),i.endOffset))}}),Fk=n=>s=>({type:"node",root:n(),node:s}),k6=(n,s,i,l)=>{const u=Bh(n),f=()=>kt(n.getBody()),p=()=>kt(n.getContentAreaContainer()),b=()=>u||!l();return{inlineDialog:tO(p,s,b),inlineBottomDialog:oO(n.inline,p,i,b),banner:WC(p,s,b),cursor:nO(n,f),node:Fk(f)}},_6=n=>(s,i)=>{Az(n)(s,i)},w6=n=>()=>g2(n),C6=n=>s=>Wh(n,s),S6=n=>s=>p2(n,s),rO=n=>()=>mf(n),sO=n=>Vo(n,"items"),aO=n=>Vo(n,"format"),qC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],GC=n=>wo(n,(s,i)=>{if(Co(i,"items")){const l=GC(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}if(Co(i,"inline")||(l=>Co(l,"block"))(i)||(l=>Co(l,"selector"))(i)){const l=`custom-${ko(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:i}]),formats:s.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),iO=n=>dy(n).map(s=>{const i=((l,u)=>{const f=GC(u),p=b=>{St(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(n,s);return fx(n)?qC.concat(i):i}).getOr(qC),lO=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),KC=(n,s,i,l)=>{const u=f=>et(f,p=>sO(p)?(b=>{const y=u(b.items);return{...b,type:"submenu",getStyleItems:ue(y)}})(p):aO(p)?(b=>lO(b,i,l))(p):(b=>{const y=jo(b);return y.length===1&&$e(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=ko(b.name)?b.name:At(b.title),_=`custom-${y}`,E={...b,type:"formatter",format:_,isSelected:i(_),getStylePreview:l(_)};return n.formatter.register(y,E),E})(p));return u(s)},YC=n=>{let s=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[ms(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:ue(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,f)=>{s++,l.onShow&&l.onShow(u,f)},onHide:(u,f)=>{s--,l.onHide&&l.onHide(u,f)},onSetup:l.onSetup}),getComponents:i}},cO=_p.trim,dO=n=>s=>!!((i=>Bt(i)&&i.nodeType===1)(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),E6=dO("true"),z6=dO("false"),uO=(n,s,i,l,u)=>({type:n,title:s,url:i,level:l,attach:u}),fO=n=>n.innerText||n.textContent,T6=n=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(n)&&qd(n),XC=n=>n&&/^(H[1-6])$/.test(n.nodeName),qd=n=>(s=>{let i=s;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return E6(i)}return!1})(n)&&!z6(n),O6=n=>XC(n)&&qd(n),JC=n=>{var s;const i=(l=>l.id?l.id:At("h"))(n);return uO("header",(s=fO(n))!==null&&s!==void 0?s:"","#"+i,(l=>XC(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},mO=n=>{const s=n.id||n.name,i=fO(n);return uO("anchor",i||"#"+s,"#"+s,0,st)},pO=n=>cO(n.title).length>0,A6=n=>{const s=(i=>et(ra(kt(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return gn((i=>et(gn(i,O6),JC))(s).concat((i=>et(gn(i,T6),mO))(s)),pO)},Y0="tinymce-url-history",QC=n=>ko(n)&&/^https?/.test(n),eS=n=>tr(n)&&Yo(n,s=>{return!(Kr(i=s)&&i.length<=5&&$i(i,QC));var i}).isNone(),gO=()=>{const n=Lc.getItem(Y0);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+Y0+" was not valid JSON",i),{};throw i}return eS(s)?s:(console.log("Local storage "+Y0+" was not valid format",s),{})},N6=n=>{const s=gO();return ct(s,n).getOr([])},R6=(n,s)=>{if(!QC(n))return;const i=gO(),l=ct(i,s).getOr([]),u=gn(l,f=>f!==n);i[s]=[n].concat(u).slice(0,5),(f=>{if(!eS(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));Lc.setItem(Y0,JSON.stringify(f))})(i)},hO=n=>!!n,D6=n=>In(_p.makeMap(n,/[, ]/),hO),Hk=n=>O.from(px(n)),tS=n=>O.from(n).filter(ko).getOrUndefined(),bO=n=>({getHistory:N6,addToHistory:R6,getLinkInformation:()=>(s=>gx(s)?O.some({targets:A6(s.getBody()),anchorTop:tS(a3(s)),anchorBottom:tS(i3(s))}):O.none())(n),getValidationHandler:()=>(s=>O.from(e0(s)))(n),getUrlPicker:s=>((i,l)=>((u,f)=>{const p=(b=>{const y=O.from(t0(b)).filter(hO).map(D6);return Hk(b).fold(Fe,_=>y.fold(Pt,E=>jo(E).length>0&&E))})(u);return pn(p)?p?Hk(u):O.none():p[f]?Hk(u):O.none()})(i,l).map(u=>f=>hg(p=>{const b={filetype:l,fieldname:f.fieldname,...O.from(f.meta).getOr({})};u.call(i,(y,_)=>{if(!ko(y))throw new Error("Expected value to be string");if(_!==void 0&&!tr(_))throw new Error("Expected meta to be a object");p({value:y,meta:_})},f.value,b)})))(n,s)}),Ga=UN,km=G4,M6=ue([we("shell",!1),Ue("makeItem"),we("setupItem",st),yo("listBehaviours",[no])]),Ry=od({name:"items",overrides:()=>({behaviours:at([no.config({})])})}),B6=ue([Ry]),oS=cl({name:ue("CustomList")(),configFields:M6(),partFields:B6(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[no.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Do(n.listBehaviours,u.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,n.shell?O.some(b):mr(b,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const _=no.contents(y),E=p.length,C=E-_.length,A=C>0?la(C,()=>n.makeItem()):[],B=_.slice(E);St(B,U=>no.remove(y,U)),St(A,U=>no.append(y,U));const L=no.contents(y);St(L,(U,q)=>{n.setupItem(f,U,p[q],q)})})}}}},apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),tb=ue([Ue("dom"),we("shell",!0),Nt("toolbarBehaviours",[no])]),yO=ue([od({name:"groups",overrides:()=>({behaviours:at([no.config({})])})})]),Nu=cl({name:"Toolbar",configFields:tb(),partFields:yO(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[no.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Do(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,n.shell?O.some(b):mr(b,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{no.set(y,p)})},refresh:st},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),nS=st,rS=Fe,$k=ue([]);var sS,P6=Object.freeze({__proto__:null,setup:nS,isDocked:rS,getBehaviours:$k});const Vk=ue(At("toolbar-height-change")),_m={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},vO="tox-tinymce--toolbar-sticky-on",xO="tox-tinymce--toolbar-sticky-off",X0=(n,s)=>$e(Br.getModes(n),s),jk=n=>{const s=n.element;ua(s).each(i=>{const l="padding-"+Br.getModes(n)[0];if(Br.isDocked(n)){const u=No(i);po(s,"width",u+"px"),po(i,l,(f=>Ea(f)+(parseInt(br(f,"margin-top"),10)||0)+(parseInt(br(f,"margin-bottom"),10)||0))(s)+"px")}else _n(s,"width"),_n(i,l)})},aS=(n,s)=>{s?(Ut(n,_m.fadeOutClass),Ao(n,[_m.transitionClass,_m.fadeInClass])):(Ut(n,_m.fadeInClass),Ao(n,[_m.fadeOutClass,_m.transitionClass]))},kO=(n,s)=>{const i=kt(n.getContainer());s?(ut(i,vO),Ut(i,xO)):(ut(i,xO),Ut(i,vO))},_O=(n,s)=>{const i=dn(),l=s.getSink,u=b=>{l().each(y=>b(y.element))},f=b=>{n.inline||jk(b),kO(n,Br.isDocked(b)),b.getSystem().broadcastOn([N()],{}),l().each(y=>y.getSystem().broadcastOn([N()],{}))},p=n.inline?[]:[Yi.config({channels:{[Vk()]:{onReceive:jk}}})];return[bo.config({}),Br.config({contextual:{lazyContext:b=>{const y=Ea(b.element),_=n.inline?n.getContentAreaContainer():n.getContainer();return O.from(_).map(E=>{const C=ds(kt(E));return lg(n,b.element).fold(()=>{const A=C.height-y,B=C.y+(X0(b,"top")?0:y);return $o(C.x,B,C.width,A)},A=>{const B=$l(C,cg(A)),L=X0(b,"top")?B.y:B.y+y;return $o(B.x,L,B.width,B.height-y)})})},onShow:()=>{u(b=>aS(b,!0))},onShown:b=>{u(y=>Bn(y,[_m.transitionClass,_m.fadeInClass])),i.get().each(y=>{((_,E)=>{const C=da(E);Jc(C).filter(A=>!kn(E,A)).filter(A=>kn(A,kt(C.dom.body))||Xr(_,A)).each(()=>ki(E))})(b.element,y),i.clear()})},onHide:b=>{((y,_)=>ys(y).orThunk(()=>_().toOptional().bind(E=>ys(E.element))))(b.element,l).fold(i.clear,i.set),u(y=>aS(y,!1))},onHidden:()=>{u(b=>Bn(b,[_m.transitionClass]))},..._m},lazyViewport:b=>lg(n,b.element).fold(()=>{const y=Rs(),_=Sw(n),E=y.y+(X0(b,"top")?_:0),C=y.height-(X0(b,"bottom")?_:0);return{bounds:$o(y.x,E,y.width,C),optScrollEnv:O.none()}},y=>({bounds:cg(y),optScrollEnv:O.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Pe(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var L6=Object.freeze({__proto__:null,setup:(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Br.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(jk)}),n.on("SkinLoaded",()=>{i().each(l=>{Br.isDocked(l)?Br.reset(l):Br.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Br.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{Br.refresh(u);const f=u.element;kE(f)&&((p,b)=>{const y=da(b),_=md(b).dom.innerHeight,E=ar(y),C=kt(p.elm),A=La(C),B=yr(C),L=A.y,U=L+B,q=Pe(b),ee=yr(b),W=q.top,Z=W+ee,X=Math.abs(W-E.top)<2,te=Math.abs(Z-(E.top+_))<2;if(X&&L<Z)xd(E.left,L-ee,y);else if(te&&U>W){const ne=L-_+B+ee;xd(E.left,ne,y)}})(l,f)})}),n.on("PostRender",()=>{kO(n,!1)})},isDocked:n=>n().map(Br.isDocked).getOr(!1),getBehaviours:_O});const I6=Kt([Gs,js("items",ru([hc([Uw,ni("items",Ms)]),Ms]))].concat(mm)),F6=[Ar("text"),Ar("tooltip"),Ar("icon"),$a("search",!1,ru([il,Kt([Ar("placeholder")])],n=>pn(n)?n?O.some({placeholder:O.none()}):O.none():O.some(n))),Ha("fetch"),ir("onSetup",()=>st)],wO=Kt([Gs,...F6]),CO=n=>xr("menubutton",wO,n),H6=Kt([Gs,_0,Hd,pg,Kw,JR,mg,wl("presets","normal",["normal","color","listpreview"]),q3(1),my,W3]);var iS=nd({factory:(n,s)=>{const i={focus:qt.focusIn,setMenus:(l,u)=>{const f=et(u,p=>{const b={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())}},y=CO(b).mapError(_=>oi(_)).getOrDie();return Oy(y,"tox-mbtn",s.backstage,O.some("menuitem"))});no.set(l,f)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:at([no.config({}),Po("menubar-events",[dr(l=>{n.onSetup(l)}),Le(Vt(),(l,u)=>{Pr(l.element,".tox-mbtn--active").each(f=>{Dd(u.event.target,".tox-mbtn").each(p=>{kn(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{Qi.expand(y),Qi.close(b),bo.focus(y)})})})})}),Le(Fp(),(l,u)=>{u.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Qi.isOpen(f)&&(Qi.expand(p),Qi.close(f))})})})]),qt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),O.some(!0))}),lr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ue("dom"),Ue("uid"),Ue("onEscape"),Ue("backstage"),we("onSetup",st)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const SO="container",$6=[Nt("slotBehaviours",[])],lS=n=>"<alloy.field."+n+">",V6=(n,s)=>{const i=E=>J4(n),l=(E,C)=>(A,B)=>mr(A,n,B).map(L=>E(L,B)).getOr(C),u=(E,C)=>cs(E.element,"aria-hidden")!=="true",f=l(u,!1),p=l((E,C)=>{if(u(E)){const A=E.element;po(A,"display","none"),to(A,"aria-hidden","true"),jt(E,Kl(),{name:C,visible:!1})}}),b=(E=>(C,A)=>{St(A,B=>E(C,B))})(p),y=l((E,C)=>{if(!u(E)){const A=E.element;_n(A,"display"),Wo(A,"aria-hidden"),jt(E,Kl(),{name:C,visible:!0})}}),_={getSlotNames:i,getSlot:(E,C)=>mr(E,n,C),isShowing:f,hideSlot:p,hideAllSlots:E=>b(E,i()),showSlot:y};return{uid:n.uid,dom:n.dom,components:s,behaviours:io(n.slotBehaviours),apis:_}},j6=In({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>Tb(n)),el={...j6,sketch:n=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),j_(SO,lS(p),b)),record:ue(f)}})(),i=n(s),l=s.record(),u=et(l,f=>Ji({name:f,pname:lS(f)}));return B1(SO,$6,u,V6,i)}},U6=Kt([Hd,_0,ir("onShow",st),ir("onHide",st),mg]),Z6=n=>({element:()=>n.element.dom}),Uk=(n,s)=>{const i=et(jo(s),l=>{const u=s[l],f=Fa((p=>xr("sidebar",U6,p))(u));return{name:l,getApi:Z6,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return et(i,l=>{const u=Ht(st);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:C0([gg(l,u),hp(l,u),Le(Kl(),(f,p)=>{const b=p.event;H(i,_=>_.name===b.name).each(_=>{(b.visible?_.onShow:_.onHide)(_.getApi(f))})})])})})},EO=n=>el.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Uk(s,n),slotBehaviours:C0([dr(i=>el.hideAllSlots(i))])})),Zk=(n,s)=>{to(n,"role",s)},W6=n=>yn.getCurrent(n).bind(s=>Rl.isGrowing(s)||Rl.hasGrown(s)?yn.getCurrent(s).bind(i=>H(el.getSlotNames(i),l=>el.isShowing(i,l))):O.none()),cS=At("FixSizeEvent"),dS=At("AutoSizeEvent");var q6=Object.freeze({__proto__:null,block:(n,s,i,l)=>{to(n.element,"aria-busy",!0);const u=s.getRoot(n).getOr(n),f=at([qt.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),bo.config({})]),p=l(u,f),b=u.getSystem().build(p);no.append(u,Mi(b)),b.hasConfigured(qt)&&s.focus&&qt.focusIn(b),i.isBlocked()||s.onBlock(n),i.blockWith(()=>no.remove(u,b))},unblock:(n,s,i)=>{Wo(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),G6=[ir("getRoot",O.none),fs("focus",!0),un("onBlock"),un("onUnblock")];const Gd=Zs({fields:G6,name:"blocking",apis:q6,state:Object.freeze({__proto__:null,init:()=>{const n=bl(s=>s.destroy());return Us({readState:n.isSet,blockWith:s=>{n.set({destroy:s})},clear:n.clear,isBlocked:n.isSet})}})}),uS=n=>yn.getCurrent(n).each(s=>ki(s.element,!0)),zO=(n,s,i)=>{const l=Ht(!1),u=dn(),f=b=>{var y;l.get()&&(!(_=>_.type==="focusin")(y=b)||!(y.composed?tt(y.composedPath()):O.from(y.target)).map(kt).filter(rr).exists(_=>Jo(_,"mce-pastebin")))&&(b.preventDefault(),uS(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",f),n.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,_,E,C)=>{const A=_.element;if(((B,L)=>{const U="tabindex",q=`data-mce-${U}`;O.from(B.iframeElement).map(kt).each(ee=>{L?(Er(ee,U).each(W=>to(ee,q,W)),to(ee,U,-1)):(Wo(ee,U),Er(ee,q).each(W=>{to(ee,U,W),Wo(ee,q)}))})})(y,E),E)Gd.block(_,(B=>(L,U)=>({dom:{tag:"div",attributes:{"aria-label":B.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:cm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(C)),_n(A,"display"),Wo(A,"aria-hidden"),y.hasFocus()&&uS(_);else{const B=yn.getCurrent(_).exists(L=>np(L.element));Gd.unblock(_),po(A,"display","none"),to(A,"aria-hidden","true"),B&&y.focus()}})(n,s(),b,i.providers),((y,_)=>{y.dispatch("AfterProgressState",{state:_})})(n,b))};n.on("ProgressState",b=>{if(u.on(clearTimeout),cn(b.time)){const y=dx.setEditorTimeout(n,()=>p(b.state),b.time);u.set(y)}else p(b.state),u.clear()})},fS=(n,s,i)=>({within:n,extra:s,withinWidth:i}),mS=(n,s,i)=>{const l=wo(n,(p,b)=>((y,_)=>{const E=i(y);return O.some({element:y,start:_,finish:_+E,width:E})})(b,p.len).fold(ue(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,u=gn(l,p=>p.finish<=s),f=hn(u,(p,b)=>p+b.width,0);return{within:u,extra:l.slice(u.length),withinWidth:f}},Wk=n=>et(n,s=>s.element),TO=(n,s)=>{const i=et(s,l=>Mi(l));Nu.setGroups(n,i)},OO=(n,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const u=dp(n,s,"primary"),f=ps.getCoupled(n,"overflowGroup");po(u.element,"visibility","hidden");const p=l.concat([f]),b=ao(p,_=>ys(_.element).bind(E=>_.getSystem().getByDom(E).toOptional()));i([]),TO(u,p);const y=((_,E,C,A)=>{const B=((ee,W,Z)=>{const X=mS(W,ee,Z);return X.extra.length===0?O.some(X):O.none()})(_,E,C).getOrThunk(()=>mS(E,_-C(A),C)),L=B.within,U=B.extra,q=B.withinWidth;return U.length===1&&U[0].width<=C(A)?((ee,W,Z)=>{const X=Wk(ee.concat(W));return fS(X,[],Z)})(L,U,q):U.length>=1?((ee,W,Z,X)=>{const te=Wk(ee).concat([Z]);return fS(te,Wk(W),X)})(L,U,A,q):((ee,W,Z)=>fS(Wk(ee),[],Z))(L,0,q)})(No(u.element),s.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(no.remove(u,f),i([])):(TO(u,y.within),i(y.extra)),_n(u.element,"visibility"),gl(u.element),b.each(bo.focus)},AO=ue([Nt("splitToolbarBehaviours",[ps]),ta("builtGroups",()=>Ht([]))]),K6=ue([Gm(["overflowToggledClass"]),Wl("getOverflowBounds"),Ue("lazySink"),ta("overflowGroups",()=>Ht([])),un("onOpened"),un("onClosed")].concat(AO())),Y6=ue([Ji({factory:Nu,schema:tb(),name:"primary"}),wu({schema:tb(),name:"overflow"}),wu({name:"overflow-button"}),wu({name:"overflow-group"})]),pS=ue((n,s)=>{((i,l)=>{const u=Lt.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);po(i,"max-width",u+"px")})(n,Math.floor(s))}),X6=ue([Gm(["toggledClass"]),Ue("lazySink"),Ha("fetch"),Wl("getBounds"),Nr("fireDismissalEventInstead",[we("event",ju())]),Ju(),un("onToggled")]),J6=ue([wu({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:at([co.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),wu({factory:Nu,schema:tb(),name:"toolbar",overrides:n=>({toolbarBehaviours:at([qt.config({mode:"cyclic",onEscape:s=>(mr(s,n,"button").each(bo.focus),O.none())})])})})]),qk=dn(),Dy=(n,s)=>{const i=ps.getCoupled(n,"toolbarSandbox");x.isOpen(i)?x.close(i):x.open(i,s.toolbar())},J0=(n,s,i,l)=>{const u=i.getBounds.map(p=>p()),f=i.lazySink(n).getOrDie();Wa.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:pS()}}},u)},Gk=(n,s,i,l,u)=>{Nu.setGroups(s,u),J0(n,s,i,l),co.on(n)},Cp=cl({name:"FloatingToolbarButton",factory:(n,s,i,l)=>({...Ci.sketch({...l.button(),action:u=>{Dy(u,l)},buttonBehaviours:lo({dump:l.button().buttonBehaviours},[ps.config({others:{toolbarSandbox:u=>((f,p,b)=>{const y=Jm();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:at([qt.config({mode:"special",onEscape:_=>(x.close(_),O.some(!0))}),x.config({onOpen:(_,E)=>{const C=qk.get().getOr(!1);b.fetch().get(A=>{Gk(f,E,b,p.layouts,A),y.link(f.element),C||qt.focusIn(E)})},onClose:()=>{co.off(f),qk.get().getOr(!1)||bo.focus(f),y.unlink(f.element)},isPartOf:(_,E,C)=>Ki(E,C)||Ki(f,C),getAttachPoint:()=>b.lazySink(f).getOrDie()}),Yi.config({channels:{...j({isExtraPart:Fe,...b.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...le({doReposition:()=>{x.getState(ps.getCoupled(f,"toolbarSandbox")).each(_=>{J0(f,_,b,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,f)=>{x.getState(ps.getCoupled(u,"toolbarSandbox")).each(p=>{Gk(u,p,n,i.layouts,f)})},reposition:u=>{x.getState(ps.getCoupled(u,"toolbarSandbox")).each(f=>{J0(u,f,n,i.layouts)})},toggle:u=>{Dy(u,l)},toggleWithoutFocusing:u=>{((f,p)=>{qk.set(!0),Dy(f,p),qk.clear()})(u,l)},getToolbar:u=>x.getState(ps.getCoupled(u,"toolbarSandbox")),isOpen:u=>x.isOpen(ps.getCoupled(u,"toolbarSandbox"))}}),configFields:X6(),partFields:J6(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),Q6=ue([Ue("items"),Gm(["itemSelector"]),Nt("tgroupBehaviours",[qt])]),eM=ue([Kv({name:"items",unit:"item"})]),My=cl({name:"ToolbarGroup",configFields:Q6(),partFields:eM(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.tgroupBehaviours,[qt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),Kk=n=>et(n,s=>Mi(s)),Q0=(n,s,i)=>{OO(n,i,l=>{i.overflowGroups.set(l),s.getOpt(n).each(u=>{Cp.setGroups(u,Kk(l))})})},gS=cl({name:"SplitFloatingToolbar",configFields:K6(),partFields:Y6(),factory:(n,s,i,l)=>{const u=Hn(Cp.sketch({fetch:()=>hg(f=>{f(Kk(n.overflowGroups.get()))}),layouts:{onLtr:()=>[ns,os],onRtl:()=>[os,ns],onBottomLtr:()=>[qn,Ss],onBottomRtl:()=>[Ss,qn]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>n[p?"onOpened":"onClosed"](f)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.splitToolbarBehaviours,[ps.config({others:{overflowGroup:()=>My.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(f,p)=>{n.builtGroups.set(et(p,f.getSystem().build)),Q0(f,u,n)},refresh:f=>Q0(f,u,n),toggle:f=>{u.getOpt(f).each(p=>{Cp.toggle(p)})},toggleWithoutFocusing:f=>{u.getOpt(f).each(Cp.toggleWithoutFocusing)},isOpen:f=>u.getOpt(f).map(Cp.isOpen).getOr(!1),reposition:f=>{u.getOpt(f).each(p=>{Cp.reposition(p)})},getOverflow:f=>u.getOpt(f).bind(Cp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),tM=ue([Gm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),un("onOpened"),un("onClosed")].concat(AO())),oM=ue([Ji({factory:Nu,schema:tb(),name:"primary"}),Ji({factory:Nu,schema:tb(),name:"overflow",overrides:n=>({toolbarBehaviours:at([Rl.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{mr(s,n,"overflow-button").each(i=>{co.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{mr(s,n,"overflow-button").each(co.on)}}),qt.config({mode:"acyclic",onEscape:s=>(mr(s,n,"overflow-button").each(bo.focus),O.some(!0))})])})}),wu({name:"overflow-button",overrides:n=>({buttonBehaviours:at([co.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),wu({name:"overflow-group"})]),hS=(n,s,i)=>{mr(n,s,"overflow-button").each(l=>{mr(n,s,"overflow").each(u=>{if(bS(n,s),Rl.hasShrunk(u)){const f=s.onOpened;s.onOpened=p=>{i||qt.focusIn(u),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{i||bo.focus(l),f(p),s.onClosed=f}}Rl.toggleGrow(u)})})},bS=(n,s)=>{mr(n,s,"overflow").each(i=>{OO(n,s,l=>{const u=et(l,f=>Mi(f));Nu.setGroups(i,u)}),mr(n,s,"overflow-button").each(l=>{Rl.hasGrown(i)&&co.on(l)}),Rl.refresh(i)})},yS=cl({name:"SplitSlidingToolbar",configFields:tM(),partFields:oM(),factory:(n,s,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:s,behaviours:Do(n.splitToolbarBehaviours,[ps.config({others:{overflowGroup:f=>My.sketch({...l["overflow-group"](),items:[Ci.sketch({...l["overflow-button"](),action:p=>{Bo(f,u)}})]})}}),Po("toolbar-toggle-events",[Le(u,f=>{hS(f,n,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const _=et(y,b.getSystem().build);n.builtGroups.set(_)})(f,p),bS(f,n)},refresh:f=>bS(f,n),toggle:f=>{hS(f,n,!1)},toggleWithoutFocusing:f=>{hS(f,n,!0)},isOpen:f=>((p,b)=>mr(p,b,"overflow").map(Rl.hasGrown).getOr(!1))(f,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),NO=n=>{const s=n.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[My.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:at([lr.config({}),bo.config({})])}},Yk=n=>My.sketch(NO(n)),RO=(n,s)=>{const i=dr(l=>{const u=et(n.initGroups,Yk);Nu.setGroups(l,u)});return at([Hx(n.providers.isDisabled),ya(),qt.config({mode:s,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Po("toolbar-events",[i])])},DO=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":NO({title:O.none(),items:[]}),"overflow-button":WT({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:RO(n,s)}},nM=n=>{const s=DO(n),i=gS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return gS.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=La(l),f=ji(l),p=La(f),b=Math.max(f.dom.scrollHeight,p.height);return $o(u.x+4,p.y,u.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},rM=n=>{const s=yS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=yS.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=DO(n);return yS.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([Vk()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([Vk()],{type:"closed"}),n.onToggled(u,!1)}})},vS=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return Nu.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Ld.scrolling?["tox-toolbar--scrolling"]:[])},components:[Nu.parts.groups({})],toolbarBehaviours:RO(n,s)})},MO=[pg,Hd,Ar("tooltip"),wl("buttonType","secondary",["primary","secondary"]),fs("borderless",!1),Ha("onAction")],xS={button:[...MO,Fd,kl("type",["button"])],togglebutton:[...MO,fs("active",!1),kl("type",["togglebutton"])]},sM=[kl("type",["group"]),Mn("buttons",[],us("type",xS))],aM=us("type",{...xS,group:sM}),wm=Kt([Mn("buttons",[],aM),Ha("onShow"),Ha("onHide")]),BO=(n,s)=>((i,l)=>{var u,f;const p=i.type==="togglebutton",b=i.icon.map(W=>Sg(W,l.icons)).map(Hn),y={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:O.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},_=BC((f=i.buttonType)!==null&&f!==void 0?f:"secondary"),E=p?i.text.map(l.translate):O.some(l.translate(i.text)),C=E.map(ms),A=y.tooltip.or(E).map(W=>({"aria-label":l.translate(W)})).getOr({}),B=b.map(W=>W.asSpec()),L=hy([B,C]),U=i.icon.isSome()&&C.isSome(),q={tag:"button",classes:_.concat(...i.icon.isSome()&&!U?["tox-button--icon"]:[]).concat(...U?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:A},ee=W0(y,O.some(W=>{const Z=X=>{b.map(te=>te.getOpt(W).each(ne=>{no.set(ne,[Sg(X,l.icons)])}))};return p?i.onAction({setIcon:Z,setActive:X=>{const te=W.element;X?(ut(te,"tox-button--enabled"),to(te,"aria-pressed",!0)):(Ut(te,"tox-button--enabled"),Wo(te,"aria-pressed"))},isActive:()=>Jo(W.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:Z}):void 0}),[],q,L,i.tooltip,l);return Ci.sketch(ee)})(n,s),PO=Vs().deviceType,kS=PO.isPhone(),Ka=PO.isTablet();var By=cl({name:"silver.View",configFields:[Ue("viewConfig")],partFields:[od({factory:{sketch:n=>{let s=!1;const i=et(n.buttons,l=>l.type==="group"?(s=!0,((u,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:et(u.buttons,p=>BO(p,f))}))(l,n.providers)):BO(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...kS||Ka?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:at([bo.config({}),qt.config({mode:"flow",selector:"button, .tox-button",focusInside:Sh.OnEnterOrSpaceMode})]),components:s?i:[zu.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),zu.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Ue("buttons"),Ue("providers")],name:"header"}),od({factory:{sketch:n=>({uid:n.uid,behaviours:at([bo.config({}),lr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,s,i,l)=>{const u={getPane:f=>Ga.getPart(f,n,"pane"),getOnShow:f=>n.viewConfig.onShow,getOnHide:f=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:at([bo.config({}),qt.config({mode:"cyclic",focusInside:Sh.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const iM=(n,s,i)=>Sr(s,(l,u)=>{const f=Fa(xr("view",wm,l));return n.slot(u,By.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[By.parts.header({buttons:f.buttons,providers:i})]:[],By.parts.pane({})]}))}),lM=(n,s)=>el.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:iM(i,n,s),slotBehaviours:C0([dr(l=>el.hideAllSlots(l))])})),LO=n=>H(el.getSlotNames(n),s=>el.isShowing(n,s)),IO=(n,s,i)=>{el.getSlot(n,s).each(l=>{By.getPane(l).each(u=>{var f;i(l)((f=u.element.dom,{getContainer:ue(f)}))})})};var Xk=nd({factory:(n,s)=>{const i={setViews:(l,u)=>{no.set(l,[lM(u,s.backstage.shared.providers)])},whichView:l=>yn.getCurrent(l).bind(LO),toggleView:(l,u,f,p)=>yn.getCurrent(l).exists(b=>{const y=LO(b),_=y.exists(C=>p===C),E=el.getSlot(b,p).isSome();return E&&(el.hideAllSlots(b),_?((C=>{const A=C.element;po(A,"display","none"),to(A,"aria-hidden","true")})(l),u()):(f(),(C=>{const A=C.element;_n(A,"display"),Wo(A,"aria-hidden")})(l),el.showSlot(b,p),((C,A)=>{IO(C,A,By.getOnShow)})(b,p)),y.each(C=>((A,B)=>IO(A,B,By.getOnHide))(b,C))),E})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:at([no.config({}),yn.config({find:l=>{const u=no.contents(l);return tt(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Ue("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,l,u)=>n.toggleView(s,i,l,u),whichView:(n,s)=>n.whichView(s)}});const cM=km.optional({factory:iS,name:"menubar",schema:[Ue("backstage")]}),dM=km.optional({factory:{sketch:n=>oS.sketch({uid:n.uid,dom:n.dom,listBehaviours:at([qt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>vS({type:n.type,uid:At("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),O.some(!0))}),setupItem:(s,i,l,u)=>{Nu.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Ue("dom"),Ue("onEscape")]}),uM=km.optional({factory:{sketch:n=>(i=>i.type===Ld.sliding?rM:i.type===Ld.floating?nM:vS)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),O.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[Ue("dom"),Ue("onEscape"),Ue("getSink")]}),fM=km.optional({factory:{sketch:n=>{const s=n.editor,i=n.sticky?_O:$k;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:at(i(s,n.sharedBackstage))}}},name:"header",schema:[Ue("dom")]}),mM=km.optional({factory:{sketch:n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ue("dom")]}),pM=km.optional({name:"socket",schema:[Ue("dom")]}),gM=km.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:at([lr.config({}),bo.config({}),Rl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{yn.getCurrent(s).each(el.hideAllSlots),Bo(s,dS)},onGrown:s=>{Bo(s,dS)},onStartGrow:s=>{jt(s,cS,{width:Hr(s.element,"width").getOr("")})},onStartShrink:s=>{jt(s,cS,{width:No(s.element)+"px"})}}),no.config({}),yn.config({find:s=>{const i=no.contents(s);return tt(i)}})])}],behaviours:at([rC(0),Po("sidebar-sliding-events",[Le(cS,(s,i)=>{po(s.element,"width",i.event.width)}),Le(dS,(s,i)=>{_n(s.element,"width")})])])})},name:"sidebar",schema:[Ue("dom")]}),hM=km.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:at([no.config({}),Gd.config({focus:!1}),yn.config({find:s=>tt(s.components())})]),components:[]})},name:"throbber",schema:[Ue("dom")]}),bM=km.optional({factory:Xk,name:"viewWrapper",schema:[Ue("backstage")]}),yM=km.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var kr=cl({name:"OuterContainer",factory:(n,s,i)=>{let l=!1;const u=p=>{fr(p,".tox-statusbar").each(b=>{br(b,"display")==="none"&&cs(b,"aria-hidden")==="true"?(_n(b,"display"),Wo(b,"aria-hidden")):(po(b,"display","none"),to(b,"aria-hidden","true"))})},f={getSocket:p=>Ga.getPart(p,n,"socket"),setSidebar:(p,b,y)=>{Ga.getPart(p,n,"sidebar").each(_=>((E,C,A)=>{yn.getCurrent(E).each(B=>{no.set(B,[EO(C)]);const L=A==null?void 0:A.toLowerCase();ko(L)&&Co(C,L)&&yn.getCurrent(B).each(U=>{el.showSlot(U,L),Rl.immediateGrow(B),_n(B.element,"width"),Zk(E.element,"region")})})})(_,b,y))},toggleSidebar:(p,b)=>{Ga.getPart(p,n,"sidebar").each(y=>((_,E)=>{yn.getCurrent(_).each(C=>{yn.getCurrent(C).each(A=>{Rl.hasGrown(C)?el.isShowing(A,E)?(Rl.shrink(C),Zk(_.element,"presentation")):(el.hideAllSlots(A),el.showSlot(A,E),Zk(_.element,"region")):(el.hideAllSlots(A),el.showSlot(A,E),Rl.grow(C),Zk(_.element,"region"))})})})(y,b))},whichSidebar:p=>Ga.getPart(p,n,"sidebar").bind(W6).getOrNull(),getHeader:p=>Ga.getPart(p,n,"header"),getToolbar:p=>Ga.getPart(p,n,"toolbar"),setToolbar:(p,b)=>{Ga.getPart(p,n,"toolbar").each(y=>{const _=et(b,Yk);y.getApis().setGroups(y,_)})},setToolbars:(p,b)=>{Ga.getPart(p,n,"multiple-toolbar").each(y=>{const _=et(b,E=>et(E,Yk));oS.setItems(y,_)})},refreshToolbar:p=>{Ga.getPart(p,n,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Ga.getPart(p,n,"toolbar").each(b=>{Xa(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Ga.getPart(p,n,"toolbar").each(b=>{Xa(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>Ga.getPart(p,n,"toolbar").bind(b=>O.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>Ga.getPart(p,n,"throbber"),focusToolbar:p=>{Ga.getPart(p,n,"toolbar").orThunk(()=>Ga.getPart(p,n,"multiple-toolbar")).each(b=>{qt.focusIn(b)})},setMenubar:(p,b)=>{Ga.getPart(p,n,"menubar").each(y=>{iS.setMenus(y,b)})},focusMenubar:p=>{Ga.getPart(p,n,"menubar").each(b=>{iS.focus(b)})},setViews:(p,b)=>{Ga.getPart(p,n,"viewWrapper").each(y=>{Xk.setViews(y,b)})},toggleView:(p,b)=>Ga.getPart(p,n,"viewWrapper").exists(y=>Xk.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>Ga.getPart(p,n,"viewWrapper").bind(Xk.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),Ga.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),po(y,"display","none"),to(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),Ga.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),_n(y,"display"),Wo(y,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:f,behaviours:n.behaviours}},configFields:[Ue("dom"),Ue("behaviours")],partFields:[fM,cM,uM,dM,pM,gM,mM,hM,bM,yM],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,l)=>{n.setSidebar(s,i,l)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const FO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},_S=n=>n.split(" "),HO=(n,s)=>{const i={...FO,...s.menus},l=jo(s.menus).length>0,u=s.menubar===void 0||s.menubar===!0?_S("file edit view insert format tools table help"):_S(s.menubar===!1?"":s.menubar),f=gn(u,b=>{const y=Co(FO,b);return l?y||ct(s.menus,b).exists(_=>Co(_,"items")):y}),p=et(f,b=>{const y=i[b];return((_,E,C)=>{const A=r3(C).split(/[ ,]/);return{text:_.title,getItems:()=>xn(_.items,B=>{const L=B.toLowerCase();return L.trim().length===0||Oo(A,U=>U===L)?[]:L==="separator"||L==="|"?[{type:"separator"}]:E.menuItems[L]?[E.menuItems[L]]:[]})}})({title:y.title,items:_S(y.items)},s,n)});return gn(p,b=>b.getItems().length>0&&Oo(b.getItems(),y=>ko(y)||y.type!=="separator"))},$O=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),wS=(n,s,i,l)=>(n.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),vM=async(n,s)=>{const i="ui/"+vx(n).getOr("default")+"/skin.css",l=tinymce.Resource.get(i);if(!ko(l)){const u=n.editorManager.suffix;return $O(n,s+`/skin${u}.css`,n.ui.styleSheetLoader)}wS(n,i,l,n.ui.styleSheetLoader)},xM=async(n,s)=>{var i;if(i=kt(n.getElement()),bi(i).isSome()){const l="ui/"+vx(n).getOr("default")+"/skin.shadowdom.css",u=tinymce.Resource.get(l);if(!ko(u)){const f=n.editorManager.suffix;return $O(n,s+`/skin.shadowdom${f}.css`,iy.DOM.styleSheetLoader)}wS(n,l,u,iy.DOM.styleSheetLoader)}},VO=(n,s)=>(async(i,l)=>{const u=()=>{const p=yx(l),b=l.editorManager.suffix;p&&l.contentCSS.push(p+(i?"/content.inline":"/content")+`${b}.css`)};vx(l).fold(u,p=>{const b="ui/"+p+(i?"/content.inline":"/content")+".css",y=tinymce.Resource.get(b);ko(y)?wS(l,b,y,l.ui.styleSheetLoader):u()});const f=yx(l);if(!ag(l)&&ko(f))return Promise.all([vM(l,f),xM(l,f)]).then()})(n,s).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(s),((i,l)=>()=>((u,f)=>{u.dispatch("SkinLoadError",f)})(i,{message:"Skin could not be loaded"}))(s)),jO=ht(VO,!1),kM=ht(VO,!0),ob=(n,s,i)=>fl(i)?n.translate(s):n.translate([s,n.translate(i)]),_M=(n,s)=>{const i=(f,p,b,y)=>{const _=n.shared.providers.translate(f.title);if(f.type==="separator")return O.some({type:"separator",text:_});if(f.type==="submenu"){const E=xn(f.getStyleItems(),C=>l(C,p,y));return p===0&&E.length<=0?O.none():O.some({type:"nestedmenuitem",text:_,enabled:E.length>0,getSubmenuItems:()=>xn(f.getStyleItems(),C=>l(C,p,y))})}return O.some({type:"togglemenuitem",text:_,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:i(f,p,!1,b).toArray():i(f,p,y,b).toArray()},u=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return xn(f,y=>l(y,b,p))};return{validateItems:u,getFetch:(f,p)=>(b,y)=>{const _=p(),E=u(_);y(Qh(E,gf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}))}}},Py=(n,s)=>{const i=s.dataset,l=i.type==="basic"?()=>et(i.data,u=>lO(u,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:_M(n,s),getStyleItems:l}},ev=(n,s,i,l,u,f)=>{const{items:p,getStyleItems:b}=Py(s,i),y=Ht(i.tooltip);return _C({text:i.icon.isSome()?O.none():i.text,icon:i.icon,ariaLabel:O.some(i.tooltip),tooltip:O.none(),role:O.none(),fetch:p.getFetch(s,b),onSetup:_=>{const E=C=>_.setTooltip(ob(n,l(C.value),C.value));return n.on(u,E),xy(Zh(n,"NodeChange",C=>{const A=C.getComponent();i.updateText(A),vo.set(C.getComponent(),!n.selection.isEditable())})(_),()=>n.off(u,E))},getApi:_=>({getComponent:ue(_),setTooltip:E=>{const C=s.shared.providers.translate(E);to(_.element,"aria-label",C),y.set(E)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[zs.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:_=>{if(i.tooltip!==y.get()){const E=s.shared.providers.translate(y.get());zs.setComponents(_,s.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",s.shared,f)};var nb;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(nb||(nb={}));const CS=(n,s,i)=>{const l=(u=((f,p)=>p===nb.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(n.options.get(s),i),et(u,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var u;return{type:"basic",data:l}},UO=ue("Alignment {0}"),ZO="left",SS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],ES=n=>{const s={type:"basic",data:SS};return{tooltip:ob(n,UO(),ZO),text:O.none(),icon:O.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:O.none,getPreviewFor:i=>O.none,onAction:i=>()=>H(SS,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=H(SS,u=>n.formatter.match(u.format)).fold(ue(ZO),u=>u.title.toLowerCase());jt(i,Zd,{icon:`align-${l}`}),((u,f)=>{u.dispatch("AlignTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},WO=(n,s)=>{const i=s(),l=et(i,u=>u.format);return O.from(n.formatter.closest(l)).bind(u=>H(i,f=>f.format===u))},zS=ue("Block {0}"),TS="Paragraph",OS=n=>{const s=CS(n,"block_formats",nb.SemiColon);return{tooltip:ob(n,zS(),TS),text:O.some(TS),icon:O.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:O.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?O.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):O.none()},onAction:kz(n),updateText:i=>{const l=WO(n,()=>s.data).fold(ue(TS),u=>u.title);jt(i,cd,{text:l}),((u,f)=>{u.dispatch("BlocksTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},qO=ue("Font {0}"),AS="System Font",wM=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],GO=n=>{const s=n.split(/\s*,\s*/);return et(s,i=>i.replace(/^['"]+|['"]+$/g,""))},KO=(n,s)=>s.length>0&&$i(s,i=>n.indexOf(i.toLowerCase())>-1),YO=n=>{const s=()=>{const l=_=>_?GO(_)[0]:"",u=n.queryCommandValue("FontName"),f=i.data,p=u?u.toLowerCase():"",b=bx(n);return{matchOpt:H(f,_=>{const E=_.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Fo(((_,E)=>{if(_.indexOf("-apple-system")===0||E.length>0){const C=GO(_.toLowerCase());return KO(C,wM)||KO(C,E)}return!1})(p,b),{title:AS,format:p})),font:u}},i=CS(n,"font_family_formats",nb.SemiColon);return{tooltip:ob(n,qO(),AS),text:O.some(AS),icon:O.none(),isSelectedFor:l=>u=>u.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>O.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:f}=s(),p=u.fold(ue(f),b=>b.title);jt(l,cd,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:Fe}},CM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},SM=(()=>{const n="[0-9]+",s="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(s),"\\."+n+i(s),n+i(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Jk=(n,s)=>O.from(SM.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((f,p)=>Oo(p,b=>Oo(CM[b],y=>f===y)))(u,s)?O.some({value:l,unit:u}):O.none()}),XO={tab:ue(9),escape:ue(27),enter:ue(13),backspace:ue(8),delete:ue(46),left:ue(37),up:ue(38),right:ue(39),down:ue(40),space:ue(32),home:ue(36),end:ue(35),pageUp:ue(33),pageDown:ue(34)},JO=ue("Font size {0}"),QO="12pt",EM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},eA={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},zM=(n,s)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,s||0)+"pt":ct(eA,n).getOr(n),TM=n=>ct(EM,n).getOr(""),tA=n=>{const s=()=>{let u=O.none();const f=l.data,p=n.queryCommandValue("FontSize");if(p)for(let b=3;u.isNone()&&b>=0;b--){const y=zM(p,b),_=TM(y);u=H(f,E=>E.format===p||E.format===y||E.format===_)}return{matchOpt:u,size:p}},i=ue(O.none),l=CS(n,"font_size_formats",nb.Space);return{tooltip:ob(n,JO(),QO),text:O.some(QO),icon:O.none(),isSelectedFor:u=>f=>f.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=s();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:f,size:p}=s(),b=f.fold(ue(p),y=>y.title);jt(u,cd,{text:b}),((y,_)=>{y.dispatch("FontSizeTextUpdate",_)})(n,{value:b})},dataset:l,shouldHide:!1,isInvalid:Fe}},oA=n=>fl(n)?"Formats":"Format {0}",nA=(n,s)=>{const i="Formats";return{tooltip:ob(n,oA(""),""),text:O.some(i),icon:O.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:O.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?O.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):O.none()},onAction:kz(n),updateText:l=>{const u=b=>sO(b)?xn(b.items,u):aO(b)?[{title:b.title,format:b.format}]:[],f=xn(iO(n),u),p=WO(n,ue(f)).fold(ue({title:i,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));jt(l,cd,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(n,{value:p.tooltipLabel})},shouldHide:n3(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:s}},NS=ue([Ue("toggleClass"),Ue("fetch"),Rd("onExecute"),we("getHotspot",O.some),we("getAnchorOverrides",ue({})),Ju(),Rd("onItemExecute"),Xo("lazySink"),Ue("dom"),un("onOpen"),Nt("splitDropdownBehaviours",[ps,qt,bo]),we("matchWidth",!1),we("useMinWidth",!1),we("eventOrder",{}),Xo("role"),Xo("listRole")].concat(T2())),OM=Ji({factory:Ci,schema:[Ue("dom")],name:"arrow",defaults:()=>({buttonBehaviours:at([bo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(Ad)},buttonBehaviours:at([co.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),AM=Ji({factory:Ci,schema:[Ue("dom")],name:"button",defaults:()=>({buttonBehaviours:at([bo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(i=>{n.onExecute(i,s)})}})}),NM=ue([OM,AM,od({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ue("text")],name:"aria-descriptor"}),wu({schema:[qm()],name:"menu",defaults:n=>({onExecute:(s,i)=>{s.getSystem().getByUid(n.uid).each(l=>{n.onItemExecute(l,s,i)})}})}),Lz()]),tv=cl({name:"SplitDropdown",configFields:NS(),partFields:NM(),factory:(n,s,i,l)=>{const u=_=>{yn.getCurrent(_).each(E=>{$n.highlightFirst(E),qt.focusIn(E)})},f=_=>{S2(n,Dt,_,l,u,Ii.HighlightMenuAndItem).get(st)},p=_=>{const E=dp(_,n,"button");return Ad(E),O.some(!0)},b={..._o([dr((_,E)=>{mr(_,n,"aria-descriptor").each(C=>{const A=At("aria");to(C.element,"id",A),to(_.element,"aria-describedby",A)})})]),...ay(O.some(f))},y={repositionMenus:_=>{co.isOn(_)&&Hz(_)}};return{uid:n.uid,dom:n.dom,components:s,apis:y,eventOrder:{...n.eventOrder,[si()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Do(n.splitDropdownBehaviours,[ps.config({others:{sandbox:_=>{const E=dp(_,n,"arrow");return z2(n,_,{onOpen:()=>{co.on(E),co.on(_)},onClose:()=>{co.off(E),co.off(_)}})}}}),qt.config({mode:"special",onSpace:p,onEnter:p,onDown:_=>(f(_),O.some(!0))}),bo.config({}),co.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(n,s)=>n.repositionMenus(s)}}),RS=n=>({isEnabled:()=>!vo.isDisabled(n),setEnabled:s=>vo.set(n,!s),setText:s=>jt(n,cd,{text:s}),setIcon:s=>jt(n,Zd,{icon:s})}),RM=n=>({setActive:s=>{co.set(n,s)},isActive:()=>co.isOn(n),isEnabled:()=>!vo.isDisabled(n),setEnabled:s=>vo.set(n,!s),setText:s=>jt(n,cd,{text:s}),setIcon:s=>jt(n,Zd,{icon:s})}),rA=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),DS=At("focus-button"),MS=(n,s,i,l,u,f)=>{const p=s.map(y=>Hn(kC(y,"tox-tbtn",u))),b=n.map(y=>Hn(Sg(y,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...rA(i,u),...Bt(f)?{"data-mce-name":f}:{}}},components:hy([b.map(y=>y.asSpec()),p.map(y=>y.asSpec())]),eventOrder:{[Ze()]:["focusing","alloy.base.behaviour",Cg],[ba()]:[Cg,"toolbar-group-button-events"]},buttonBehaviours:at([Hx(u.isDisabled),ya(),Po(Cg,[dr((y,_)=>zk(y)),Le(cd,(y,_)=>{p.bind(E=>E.getOpt(y)).each(E=>{no.set(E,[ms(u.translate(_.event.text))])})}),Le(Zd,(y,_)=>{b.bind(E=>E.getOpt(y)).each(E=>{no.set(E,[Sg(_.event.icon,u.icons)])})}),Le(Ze(),(y,_)=>{_.event.prevent(),Bo(y,DS)})])].concat(l.getOr([])))}},sA=(n,s,i,l)=>{var u;const f=Ht(st),p=MS(n.icon,n.text,n.tooltip,O.none(),i,l);return Ci.sketch({dom:p.dom,components:p.components,eventOrder:xC,buttonBehaviours:{...at([Po("toolbar-button-events",[(b={onAction:n.onAction,getApi:s.getApi},Tl((y,_)=>{S0(b,y)(E=>{jt(y,Ek,{buttonApi:E}),b.onAction(E)})})),gg(s,f),hp(s,f)]),...n.tooltip.map(y=>zs.config(i.tooltips.getConfig({tooltipText:i.translate(y)+n.shortcut.map(_=>` (${$x(_)})`).getOr("")}))).toArray(),Hx(()=>!n.enabled||i.isDisabled()),ya()].concat(s.toolbarButtonBehaviours)),[Cg]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[Cg]}});var b},aA=(n,s,i,l)=>sA(n,{toolbarButtonBehaviours:i.length>0?[Po("toolbarButtonWith",i)]:[],getApi:RS,onSetup:n.onSetup},s,l),iA=(n,s,i,l)=>sA(n,{toolbarButtonBehaviours:[no.config({}),co.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Po("toolbarToggleButtonWith",i)]:[]),getApi:RM,onSetup:n.onSetup},s,l),DM=(n,s,i)=>l=>hg(u=>s.fetch(u)).map(u=>O.from(O2(Un(qh(At("menu-value"),u,f=>{s.onItemAction(n(l),f)},s.columns,s.presets,gf.CLOSE_ON_EXECUTE,s.select.getOr(Fe),i),{movement:A0(s.columns,s.presets),menuBehaviours:C0(s.columns!=="auto"?[]:[dr((f,p)=>{e2(f,4,fg(s.presets)).each(({numRows:b,numColumns:y})=>{qt.setGridSize(f,b,y)})})])})))),MM=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Og=(n,s)=>(i,l,u,f)=>{const p=n(i).mapError(b=>oi(b)).getOrDie();return s(p,l,u,f)},BM={button:Og(K3,(n,s,i,l)=>((u,f,p)=>aA(u,f,[],p))(n,s.shared.providers,l)),togglebutton:Og(Lx,(n,s,i,l)=>((u,f,p)=>iA(u,f,[],p))(n,s.shared.providers,l)),menubutton:Og(CO,(n,s,i,l)=>Oy(n,"tox-tbtn",s,O.none(),!1,l)),splitbutton:Og(n=>xr("SplitButton",H6,n),(n,s,i,l)=>((u,f,p)=>{const b=Ht(u.tooltip.getOr("")),y=C=>({isEnabled:()=>!vo.isDisabled(C),setEnabled:A=>vo.set(C,!A),setIconFill:(A,B)=>{Pr(C.element,`svg path[class="${A}"], rect[class="${A}"]`).each(L=>{to(L,"fill",B)})},setActive:A=>{to(C.element,"aria-pressed",A),Pr(C.element,"span").each(B=>{C.getSystem().getByDom(B).each(L=>co.set(L,A))})},isActive:()=>Pr(C.element,"span").exists(A=>C.getSystem().getByDom(A).exists(co.isOn)),setText:A=>Pr(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>jt(L,cd,{text:A}))),setIcon:A=>Pr(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>jt(L,Zd,{icon:A}))),setTooltip:A=>{const B=f.providers.translate(A);to(C.element,"aria-label",B),b.set(A)}}),_=Ht(st),E={getApi:y,onSetup:u.onSetup};return tv.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rA(u.tooltip,f.providers),...Bt(p)?{"data-mce-name":p}:{}}},onExecute:C=>{const A=y(C);A.isEnabled()&&u.onAction(A)},onItemExecute:(C,A,B)=>{},splitDropdownBehaviours:at([az(f.providers.isDisabled),ya(),Po("split-dropdown-events",[dr((C,A)=>zk(C)),Le(DS,bo.focus),gg(E,_),hp(E,_)]),Kh.config({}),...u.tooltip.map(C=>zs.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(C),onShow:A=>{if(b.get()!==C){const B=f.providers.translate(b.get());zs.setComponents(A,f.providers.tooltips.getComponents({tooltipText:B}))}}})})).toArray()]),eventOrder:{[ba()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Sl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:DM(y,u,f.providers),parts:{menu:Rx(0,u.columns,u.presets)},components:[tv.parts.button(MS(u.icon,u.text,O.none(),O.some([co.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),f.providers)),tv.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:z3("chevron-down",f.providers.icons)},buttonBehaviours:at([az(f.providers.isDisabled),ya(),Ox()])}),tv.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(n,s.shared,l)),grouptoolbarbutton:Og(n=>xr("GroupToolbarButton",I6,n),(n,s,i,l)=>{const u=i.ui.registry.getAll().buttons,f={[Xi]:s.shared.header.isPositionedAtTop()?Nc.TopToBottom:Nc.BottomToTop};if(Mh(i)===Ld.floating)return((p,b,y,_,E)=>{const C=b.shared,A=Ht(st),B={toolbarButtonBehaviours:[],getApi:RS,onSetup:p.onSetup},L=[Po("toolbar-group-button-events",[gg(B,A),hp(B,A)])];return Cp.sketch({lazySink:C.getSink,fetch:()=>hg(U=>{U(et(y(p.items),Yk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:MS(p.icon,p.text,p.tooltip,O.some(L),C.providers,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(n,s,p=>Qk(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},s,O.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},ov={styles:(n,s)=>{const i={type:"advanced",...s.styles};return ev(n,s,nA(n,i),oA,"StylesTextUpdate","styles")},fontsize:(n,s)=>ev(n,s,tA(n),JO,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,s)=>((i,l,u,f)=>{let p=O.none();const b=Zh(i,"NodeChange SwitchMode",X=>{const te=X.getComponent();p=O.some(te),u.updateInputValue(te),vo.set(te,!i.selection.isEditable())}),y=X=>({getComponent:ue(X)}),_=Ht(st),E=At("custom-number-input-events"),C=(X,te,ne)=>{const pe=p.map(lt=>Ee.getValue(lt)).getOr(""),_e=u.getNewValue(pe,X),je=pe.length-`${_e}`.length,Ie=p.map(lt=>lt.element.dom.selectionStart-je),Me=p.map(lt=>lt.element.dom.selectionEnd-je);u.onAction(_e,ne),p.each(lt=>{Ee.setValue(lt,_e),te&&(Ie.each(Et=>lt.element.dom.selectionStart=Et),Me.each(Et=>lt.element.dom.selectionEnd=Et))})},A=(X,te)=>C((ne,pe)=>ne-pe,X,te),B=(X,te)=>C((ne,pe)=>ne+pe,X,te),L=X=>ua(X.element).fold(O.none,te=>(ki(te),O.some(!0))),U=X=>np(X.element)?(Ui(X.element).each(te=>ki(te)),O.some(!0)):O.none(),q=(X,te,ne,pe)=>{const _e=Ht(st),je=l.shared.providers.translate(ne),Ie=At("altExecuting"),Me=Zh(i,"NodeChange SwitchMode",Et=>{vo.set(Et.getComponent(),!i.selection.isEditable())}),lt=Et=>{vo.isDisabled(Et)||X(!0)};return Ci.sketch({dom:{tag:"button",attributes:{"aria-label":je,"data-mce-name":te},classes:pe.concat(te)},components:[V0(te,l.shared.providers.icons)],buttonBehaviours:at([vo.config({}),zs.config(l.shared.providers.tooltips.getConfig({tooltipText:je})),Po(Ie,[gg({onSetup:Me,getApi:y},_e),hp({getApi:y},_e),Le(Rr(),(Et,$t)=>{$t.event.raw.keyCode!==XO.space()&&$t.event.raw.keyCode!==XO.enter()||vo.isDisabled(Et)||X(!1)}),Le(Cs(),lt),Le(ie(),lt)])]),eventOrder:{[Rr()]:[Ie,"keying"],[Cs()]:[Ie,"alloy.base.behaviour"],[ie()]:[Ie,"alloy.base.behaviour"],[ba()]:["alloy.base.behaviour",Ie,"tooltipping"],[Sl()]:[Ie,"tooltipping"]}})},ee=Hn(q(X=>A(!1,X),"minus","Decrease font size",[])),W=Hn(q(X=>B(!1,X),"plus","Increase font size",[])),Z=Hn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[gp.sketch({inputBehaviours:at([vo.config({}),Po(E,[gg({onSetup:b,getApi:y},_),hp({getApi:y},_)]),Po("input-update-display-text",[Le(cd,(X,te)=>{Ee.setValue(X,te.event.text)}),Le(Zr(),X=>{u.onAction(Ee.getValue(X))}),Le(Sd(),X=>{u.onAction(Ee.getValue(X))})]),qt.config({mode:"special",onEnter:X=>(C(Dt,!0,!0),O.some(!0)),onEscape:L,onUp:X=>(B(!0,!1),O.some(!0)),onDown:X=>(A(!0,!1),O.some(!0)),onLeft:(X,te)=>(te.cut(),O.none()),onRight:(X,te)=>(te.cut(),O.none())})])})],behaviours:at([bo.config({}),qt.config({mode:"special",onEnter:U,onSpace:U,onEscape:L}),Po("input-wrapper-events",[Le(Vt(),X=>{St([ee,W],te=>{const ne=kt(te.get(X).element.dom);np(ne)&&nh(ne)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Bt(f)?{"data-mce-name":f}:{}}},components:[ee.asSpec(),Z.asSpec(),W.asSpec()],behaviours:at([bo.config({}),qt.config({mode:"flow",focusInside:Sh.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:X=>np(X.element)?O.none():(ki(X.element),O.some(!0))})])}})(n,s,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>jt(u,cd,{text:l()}),onAction:(u,f)=>i.execCommand("FontSize",!1,u,{skip_focus:!f}),getNewValue:(u,f)=>{Jk(u,["unsupportedLength","empty"]);const p=l(),b=Jk(u,["unsupportedLength","empty"]).or(Jk(p,["unsupportedLength","empty"])),y=b.map(B=>B.value).getOr(16),_=Ew(i),E=b.map(B=>B.unit).filter(B=>B!=="").getOr(_),C=f(y,(B=>{var L;return(L={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[B])!==null&&L!==void 0?L:{step:1}})(E).step),A=`${(B=>B>=0)(C)?C:y}${E}`;return A!==p&&((B,L)=>{B.dispatch("FontSizeInputTextUpdate",L)})(i,{value:A}),A}}})(n),"fontsizeinput"),fontfamily:(n,s)=>ev(n,s,YO(n),qO,"FontFamilyTextUpdate","fontfamily"),blocks:(n,s)=>ev(n,s,OS(n),zS,"BlocksTextUpdate","blocks"),align:(n,s)=>ev(n,s,ES(n),UO,"AlignTextUpdate","align")},Qk=(n,s,i,l)=>{const u=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(_=>{const E=et(MM,C=>{const A=gn(C.items,B=>Co(_,B)||Co(ov,B));return{name:C.name,items:A}});return gn(E,C=>C.items.length>0)})(y):ko(b)?(_=>{const E=_.split("|");return et(E,C=>({items:C.trim().split(" ")}))})(b):(_=>cr(_,E=>Co(E,"name")&&Co(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=et(u,p=>{const b=xn(p.items,y=>y.trim().length===0?[]:((_,E,C,A,B,L)=>ct(E,C.toLowerCase()).orThunk(()=>L.bind(U=>ao(U,q=>ct(E,q+C.toLowerCase())))).fold(()=>ct(ov,C.toLowerCase()).map(U=>U(_,B)),U=>U.type!=="grouptoolbarbutton"||A?((q,ee,W,Z)=>ct(BM,q.type).fold(()=>(console.error("skipping button defined by",q),O.none()),X=>O.some(X(q,ee,W,Z))))(U,B,_,C.toLowerCase()):(console.warn(`Ignoring the '${C}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(n,s.buttons,y,s.allowToolbarGroups,i,l).toArray());return{title:O.from(n.translate(p.name)),items:b}});return gn(f,p=>p.items.length>0)},lA=(n,s,i,l)=>{const u=s.mainUi.outerContainer,f=i.toolbar,p=i.buttons;if(cr(f,ko)){const b=f.map(y=>{const _={toolbar:y,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return Qk(n,_,l,O.none())});kr.setToolbars(u,b)}else kr.setToolbar(u,Qk(n,i,l,O.none()))},cA=Vs(),PM=cA.os.isiOS()&&cA.os.version.major<=12;var o8=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=s,b=Ht(0),y=f.outerContainer;jO(n);const _=kt(u.targetNode),E=bn(Tr(_));De(_,f.mothership),((L,U,q)=>{pp(L)&&De(q.mainUi.mothership.element,q.popupUi.mothership),A1(U,q.dialogUi.mothership)})(n,E,s),n.on("SkinLoaded",()=>{kr.setSidebar(y,i.sidebar,hx(n)),lA(n,s,i,l),b.set(n.getWin().innerWidth),kr.setMenubar(y,HO(n,i)),kr.setViews(y,i.views),((L,U)=>{const{uiMotherships:q}=U,ee=L.dom;let W=L.getWin();const Z=L.getDoc().documentElement,X=Ht(ae(W.innerWidth,W.innerHeight)),te=Ht(ae(Z.offsetWidth,Z.offsetHeight)),ne=()=>{const Ie=X.get();Ie.left===W.innerWidth&&Ie.top===W.innerHeight||(X.set(ae(W.innerWidth,W.innerHeight)),Uh(L))},pe=()=>{const Ie=L.getDoc().documentElement,Me=te.get();Me.left===Ie.offsetWidth&&Me.top===Ie.offsetHeight||(te.set(ae(Ie.offsetWidth,Ie.offsetHeight)),Uh(L))},_e=Ie=>{((Me,lt)=>{Me.dispatch("ScrollContent",lt)})(L,Ie)};ee.bind(W,"resize",ne),ee.bind(W,"scroll",_e);const je=k1(kt(L.getBody()),"load",pe);L.on("hide",()=>{St(q,Ie=>{po(Ie.element,"display","none")})}),L.on("show",()=>{St(q,Ie=>{_n(Ie.element,"display")})}),L.on("NodeChange",pe),L.on("remove",()=>{je.unbind(),ee.unbind(W,"resize",ne),ee.unbind(W,"scroll",_e),W=null})})(n,s)});const C=kr.getSocket(y).getOrDie("Could not find expected socket element");if(PM){Ai(C.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const L=((q,ee)=>{let W=null;return{cancel:()=>{Xn(W)||(clearTimeout(W),W=null)},throttle:(...Z)=>{Xn(W)&&(W=setTimeout(()=>{W=null,q.apply(null,Z)},20))}}})(()=>{n.dispatch("ScrollContent")}),U=_i(C.element,"scroll",L.throttle);n.on("remove",U.unbind)}sz(n,s),n.addCommand("ToggleSidebar",(L,U)=>{kr.toggleSidebar(y,U),(q=>{q.dispatch("ToggleSidebar")})(n)}),n.addQueryValueHandler("ToggleSidebar",()=>{var L;return(L=kr.whichSidebar(y))!==null&&L!==void 0?L:""}),n.addCommand("ToggleView",(L,U)=>{if(kr.toggleView(y,U)){const q=y.element;f.mothership.broadcastOn([S()],{target:q}),St(p,ee=>{ee.broadcastOn([S()],{target:q})}),Xn(kr.whichView(y))&&(n.focus(),n.nodeChanged(),kr.refreshToolbar(y)),(ee=>{ee.dispatch("ToggleView")})(n)}}),n.addQueryValueHandler("ToggleView",()=>{var L;return(L=kr.whichView(y))!==null&&L!==void 0?L:""});const A=Mh(n);A!==Ld.sliding&&A!==Ld.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const L=n.getWin().innerWidth;L!==b.get()&&(kr.refreshToolbar(s.mainUi.outerContainer),b.set(L))});const B={setEnabled:L=>{Vh(s,!L)},isEnabled:()=>!vo.isDisabled(y)};return{iframeContainer:C.element.dom,editorContainer:y.element.dom,api:B}}});const nv=n=>/^[0-9\.]+(|px)$/i.test(""+n)?O.some(parseInt(""+n,10)):O.none(),Ag=n=>cn(n)?n+"px":n,rv=(n,s,i)=>{const l=s.filter(f=>n<f),u=i.filter(f=>n>f);return l.or(u).getOr(n)},BS=n=>{const s=J1(n),i=Q1(n),l=cy(n);return nv(s).map(u=>rv(u,i,l))},{ToolbarLocation:PS,ToolbarMode:dA}=s0,LM=(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=i,b=iy.DOM,y=Bh(n),_=mp(n),E=cy(n).or(BS(n)),C=l.shared.header,A=C.isPositionedAtTop,B=Mh(n),L=B===dA.sliding||B===dA.floating,U=Ht(!1),q=()=>U.get()&&!n.removed,ee=te=>L?te.fold(ue(0),ne=>ne.components().length>1?yr(ne.components()[1].element):0):0,W=()=>{St(p,te=>{te.broadcastOn([N()],{})})},Z=te=>{if(!q())return;y||u.on(_e=>{const je=E.getOrThunk(()=>ws().width-rt(s).left-10);po(_e.element,"max-width",je+"px")});const ne=ar(),pe=!(y||y||!(Pe(f.outerContainer.element).left+Dn(f.outerContainer.element)>=window.innerWidth-40||Hr(f.outerContainer.element,"width").isSome())||(po(f.outerContainer.element,"position","absolute"),po(f.outerContainer.element,"left","0px"),_n(f.outerContainer.element,"width"),0));if(L&&kr.refreshToolbar(f.outerContainer),!y){const _e=ar(),je=Fo(ne.left!==_e.left,ne);((Ie,Me)=>{u.on(lt=>{const Et=kr.getToolbar(f.outerContainer),$t=ee(Et),Xt=ds(s),xo=((Io,fn)=>pp(Io)?Xl(fn):O.none())(n,f.outerContainer.element),Qo=xo.fold(()=>Xt.x,Io=>{const fn=ds(Io);return kn(Io,Sa())?Xt.x:Xt.x-fn.x}),_r=Fo(Ie,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(Io=>Io>150).map(Io=>{const fn=Me.getOr(ar()),oo=window.innerWidth-(Qo-fn.left),Ir=Math.max(Math.min(Io,oo),150);return oo<Io&&po(f.outerContainer.element,"width",Ir+"px"),{width:Ir+"px"}}).getOr({width:"max-content"}),Lr={position:"absolute",left:Math.round(Qo)+"px",top:xo.fold(()=>A()?Math.max(Xt.y-yr(lt.element)+$t,0):Xt.bottom,Io=>{var fn;const oo=ds(Io),Ir=(fn=Io.dom.scrollTop)!==null&&fn!==void 0?fn:0,Kn=kn(Io,Sa())?Math.max(Xt.y-yr(lt.element)+$t,0):Xt.y-oo.y+Ir-yr(lt.element)+$t;return A()?Kn:Xt.bottom})+"px"};Ai(f.outerContainer.element,{...Lr,..._r})})})(pe,je),je.each(Ie=>{xd(Ie.left,_e.top)})}_&&u.on(te),W()},X=()=>!(y||!_||!q())&&u.get().exists(te=>{const ne=C.getDockingMode(),pe=(je=>{switch(sg(n)){case PS.auto:const Ie=kr.getToolbar(f.outerContainer),Me=ee(Ie),lt=yr(je.element)-Me,Et=ds(s);if(Et.y>lt)return"top";{const $t=ji(s),Xt=Math.max($t.dom.scrollHeight,yr($t));return Et.bottom<Xt-lt||Rs().bottom<Et.bottom-lt?"bottom":"top"}case PS.bottom:return"bottom";case PS.top:default:return"top"}})(te);return pe!==ne&&(_e=pe,u.on(je=>{Br.setModes(je,[_e]),C.setDockingMode(_e);const Ie=A()?Nc.TopToBottom:Nc.BottomToTop;to(je.element,Xi,Ie)}),!0);var _e});return{isVisible:q,isPositionedAtTop:A,show:()=>{U.set(!0),po(f.outerContainer.element,"display","flex"),b.addClass(n.getBody(),"mce-edit-focus"),St(p,te=>{_n(te.element,"display")}),X(),pp(n)?Z(te=>Br.isDocked(te)?Br.reset(te):Br.refresh(te)):Z(Br.refresh)},hide:()=>{U.set(!1),po(f.outerContainer.element,"display","none"),b.removeClass(n.getBody(),"mce-edit-focus"),St(p,te=>{po(te.element,"display","none")})},update:Z,updateMode:()=>{X()&&Z(Br.reset)},repositionPopups:W}},uA=(n,s)=>{const i=ds(n);return{pos:s?i.y:i.bottom,bounds:i}};var IM=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f}=s,p=dn(),b=kt(u.targetNode),y=LM(n,b,s,l,p),_=s3(n);kM(n);const E=()=>{if(p.isSet())return void y.show();p.set(kr.getHeader(f.outerContainer).getOrDie());const A=kx(n);pp(n)?(De(b,f.mothership),De(b,s.popupUi.mothership)):A1(A,f.mothership),A1(A,s.dialogUi.mothership);const B=()=>{lA(n,s,i,l),kr.setMenubar(f.outerContainer,HO(n,i)),y.show(),((L,U,q,ee)=>{const W=Ht(uA(U,q.isPositionedAtTop())),Z=pe=>{const{pos:_e,bounds:je}=uA(U,q.isPositionedAtTop()),{pos:Ie,bounds:Me}=W.get(),lt=je.height!==Me.height||je.width!==Me.width;W.set({pos:_e,bounds:je}),lt&&Uh(L,pe),q.isVisible()&&(Ie!==_e?q.update(Br.reset):lt&&(q.updateMode(),q.repositionPopups()))};ee||(L.on("activate",q.show),L.on("deactivate",q.hide)),L.on("SkinLoaded ResizeWindow",()=>q.update(Br.reset)),L.on("NodeChange keydown",pe=>{requestAnimationFrame(()=>Z(pe))});let X=0;const te=cC(()=>q.update(Br.refresh),33);L.on("ScrollWindow",()=>{const pe=ar().left;pe!==X&&(X=pe,te.throttle()),q.updateMode()}),pp(L)&&L.on("ElementScroll",pe=>{q.update(Br.refresh)});const ne=yl();ne.set(k1(kt(L.getBody()),"load",pe=>Z(pe.raw))),L.on("remove",()=>{ne.clear()})})(n,b,y,_),n.nodeChanged()};_?n.once("SkinLoaded",B):B()};n.on("show",E),n.on("hide",y.hide),_||(n.on("focus",E),n.on("blur",y.hide)),n.on("init",()=>{(n.hasFocus()||_)&&E()}),sz(n,s);const C={show:E,hide:y.hide,setEnabled:A=>{Vh(s,!A)},isEnabled:()=>!vo.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:C}}});const fA="contexttoolbar-hide",mA=(n,s)=>Le(Ek,(i,l)=>{const u=(f=>({hide:()=>Bo(f,Hm()),getValue:()=>Ee.getValue(f)}))(n.get(i));s.onAction(u,l.event.buttonApi)}),FM=(n,s)=>{const i=n.label.fold(()=>({}),f=>({"aria-label":f})),l=Hn(gp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:at([qt.config({mode:"special",onEnter:f=>u.findPrimary(f).map(p=>(Ad(p),!0)),onLeft:(f,p)=>(p.cut(),O.none()),onRight:(f,p)=>(p.cut(),O.none())})])})),u=((f,p,b)=>{const y=et(p,_=>Hn(((E,C,A)=>(B=>B.type==="contextformtogglebutton")(C)?((B,L,U)=>{const{primary:q,...ee}=L.original,W=Fa(Lx({...ee,type:"togglebutton",onAction:st}));return iA(W,U,[mA(B,L)])})(E,C,A):((B,L,U)=>{const{primary:q,...ee}=L.original,W=Fa(K3({...ee,type:"button",onAction:st}));return aA(W,U,[mA(B,L)])})(E,C,A))(f,_,b)));return{asSpecs:()=>et(y,_=>_.asSpec()),findPrimary:_=>ao(p,(E,C)=>E.primary?O.from(y[C]).bind(A=>A.getOpt(_)).filter(ss(vo.isDisabled)):O.none())}})(l,n.commands,s);return[{title:O.none(),items:[l.asSpec()]},{title:O.none(),items:u.asSpecs()}]},pA=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,LS=n=>{const s=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ls(kt(i.startContainer),i.startOffset).element;return(ca(u)?As(u):O.some(u)).filter(rr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=ar();return $o(i.left+s.left,i.top+s.top,s.width,s.height)}{const i=La(kt(n.getBody()));return $o(i.x+s.left,i.y+s.top,s.width,s.height)}},gA=(n,s,i,l=0)=>{const u=ws(window),f=ds(kt(n.getContentAreaContainer())),p=o0(n)||n0(n)||r0(n),{x:b,width:y}=((_,E,C)=>{const A=Math.max(_.x+C,E.x);return{x:A,width:Math.min(_.right-C,E.right)-A}})(f,u,l);if(n.inline&&!p)return $o(b,u.y,y,u.height);{const _=s.header.isPositionedAtTop(),{y:E,bottom:C}=((A,B,L,U,q,ee)=>{const W=kt(A.getContainer()),Z=Pr(W,".tox-editor-header").getOr(W),X=ds(Z),te=X.y>=B.bottom,ne=U&&!te;if(A.inline&&ne)return{y:Math.max(X.bottom+ee,L.y),bottom:L.bottom};if(A.inline&&!ne)return{y:L.y,bottom:Math.min(X.y-ee,L.bottom)};const pe=q==="line"?ds(W):B;return ne?{y:Math.max(X.bottom+ee,L.y),bottom:Math.min(pe.bottom-ee,L.bottom)}:{y:Math.max(pe.y+ee,L.y),bottom:Math.min(X.y-ee,L.bottom)}})(n,f,u,_,i,l);return $o(b,E,y,C-E)}},IS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},rb={maxHeightFunction:rp(),maxWidthFunction:pS()},Ng=n=>n==="node",HM=(n,s,i,l,u)=>{const f=LS(n),p=l.lastElement().exists(b=>kn(i,b));return((b,y)=>{const _=b.selection.getRng(),E=ls(kt(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&kn(E.element,y)})(n,i)?p?Ik:vn:p?((b,y,_)=>{const E=Hr(b,"position");po(b,"position",y);const C=pA(f,ds(s),-20)&&!l.isReposition()?ZC:Ik;return E.each(A=>po(b,"position",A)),C})(s,l.getMode()):(l.getMode()==="fixed"?u.y+ar().top:u.y)+(yr(s)+12)<=f.y?vn:xm},hA=(n,s,i,l)=>{const u=p=>(b,y,_,E,C)=>({...HM(n,E,p,i,C)({...b,y:C.y,height:C.height},y,_,E,C),alwaysFit:!0}),f=p=>Ng(l)?[u(p)]:[];return s?{onLtr:p=>[bs,os,ns,Ss,qn,Gr].concat(f(p)),onRtl:p=>[bs,ns,os,qn,Ss,Gr].concat(f(p))}:{onLtr:p=>[Gr,bs,Ss,os,qn,ns].concat(f(p)),onRtl:p=>[Gr,bs,qn,ns,Ss,os].concat(f(p))}},e_=(n,s)=>{const i=gn(s,f=>f.predicate(n.dom)),{pass:l,fail:u}=as(i,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},t_=(n,s)=>{const i={},l=[],u=[],f={},p={},b=jo(n);return St(b,y=>{const _=n[y];_.type==="contextform"?((E,C)=>{const A=Fa(xr("ContextForm",iD,C));i[E]=A,A.launch.map(B=>{f["form:"+E]={...C.launch,type:B.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(A)}}}),A.scope==="editor"?u.push(A):l.push(A),p[E]=A})(y,_):_.type==="contexttoolbar"&&((E,C)=>{var A;(A=C,xr("ContextToolbar",X3,A)).each(B=>{C.scope==="editor"?u.push(B):l.push(B),p[E]=B})})(y,_)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:f}},bA=At("forward-slide"),Ly=At("backward-slide"),sb=At("change-slide-event"),FS="tox-pop--resizing",HS="tox-pop--transition",$M=(n,s,i,l)=>{const u=l.backstage,f=u.shared,p=Vs().deviceType.isTouch,b=dn(),y=dn(),_=dn(),E=Aa((ne=>{const pe=Ht([]);return Vr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:_e=>{pe.set([]),Vr.getContent(_e).each(je=>{_n(je.element,"visibility")}),Ut(_e.element,FS),_n(_e.element,"width")},inlineBehaviours:at([Po("context-toolbar-events",[Nd(Fm(),(_e,je)=>{je.event.raw.propertyName==="width"&&(Ut(_e.element,FS),_n(_e.element,"width"))}),Le(sb,(_e,je)=>{const Ie=_e.element;_n(Ie,"width");const Me=No(Ie);Vr.setContent(_e,je.event.contents),ut(Ie,FS);const lt=No(Ie);po(Ie,"width",Me+"px"),Vr.getContent(_e).each(Et=>{je.event.focus.bind($t=>(ki($t),ys(Ie))).orThunk(()=>(qt.focusIn(Et),Jc(Tr(Ie))))}),setTimeout(()=>{po(_e.element,"width",lt+"px")},0)}),Le(bA,(_e,je)=>{Vr.getContent(_e).each(Ie=>{pe.set(pe.get().concat([{bar:Ie,focus:Jc(Tr(_e.element))}]))}),jt(_e,sb,{contents:je.event.forwardContents,focus:O.none()})}),Le(Ly,(_e,je)=>{Xe(pe.get()).each(Ie=>{pe.set(pe.get().slice(0,pe.get().length-1)),jt(_e,sb,{contents:Mi(Ie.bar),focus:Ie.focus})})})]),qt.config({mode:"special",onEscape:_e=>Xe(pe.get()).fold(()=>ne.onEscape(),je=>(Bo(_e,Ly),O.some(!0)))})]),lazySink:()=>Uo.value(ne.sink)})})({sink:i,onEscape:()=>(n.focus(),O.some(!0))})),C=()=>{const ne=_.get().getOr("node"),pe=Ng(ne)?1:0;return gA(n,f,ne,pe)},A=()=>!(n.removed||p()&&u.isContextMenuOpen()),B=()=>{if(A()){const ne=C(),pe=Hs(_.get(),"node")?((_e,je)=>je.filter(Ie=>Ns(Ie)&&pi(Ie)).map(La).getOrThunk(()=>LS(_e)))(n,b.get()):LS(n);return ne.height<=0||!pA(pe,ne,.01)}return!0},L=()=>{b.clear(),y.clear(),_.clear(),Vr.hide(E)},U=()=>{if(Vr.isOpen(E)){const ne=E.element;_n(ne,"display"),B()?po(ne,"display","none"):(y.set(0),Vr.reposition(E))}},q=ne=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ne],behaviours:at([qt.config({mode:"acyclic"}),Po("pop-dialog-wrap-events",[dr(pe=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>qt.focusIn(pe))}),wc(pe=>{n.shortcuts.remove("ctrl+F9")})])])}),ee=Ho(()=>t_(s,ne=>{const pe=W([ne]);jt(E,bA,{forwardContents:q(pe)})})),W=ne=>{const{buttons:pe}=n.ui.registry.getAll(),_e={...pe,...ee().formNavigators},je=Mh(n)===Ld.scrolling?Ld.scrolling:Ld.default,Ie=Cr(et(ne,Me=>Me.type==="contexttoolbar"?((lt,Et)=>Qk(n,{buttons:lt,toolbar:Et.items,allowToolbarGroups:!1},l.backstage,O.some(["form:"])))(_e,Me):((lt,Et)=>FM(lt,Et))(Me,f.providers)));return vS({type:je,uid:At("context-toolbar"),initGroups:Ie,onEscape:O.none,cyclicKeying:!0,providers:f.providers})},Z=(ne,pe)=>{if(te.cancel(),!A())return;const _e=W(ne),je=ne[0].position,Ie=((lt,Et)=>{const $t=lt==="node"?f.anchors.node(Et):f.anchors.cursor(),Xt=((xo,Qo,_r,Lr)=>Qo==="line"?{bubble:Jl(12,0,IS),layouts:{onLtr:()=>[Mb],onRtl:()=>[Bb]},overrides:rb}:{bubble:Jl(0,12,IS,1/12),layouts:hA(xo,_r,Lr,Qo),overrides:rb})(n,lt,p(),{lastElement:b.get,isReposition:()=>Hs(y.get(),0),getMode:()=>Wa.getMode(i)});return Un($t,Xt)})(je,pe);_.set(je),y.set(1);const Me=E.element;_n(Me,"display"),(lt=>Hs(nt(lt,b.get(),kn),!0))(pe)||(Ut(Me,HS),Wa.reset(i,E)),Vr.showWithinBounds(E,q(_e),{anchor:Ie,transition:{classes:[HS],mode:"placement"}},()=>O.some(C())),pe.fold(b.clear,b.set),B()&&po(Me,"display","none")};let X=!1;const te=cC(()=>{!n.hasFocus()||n.removed||X||(Jo(E.element,HS)?te.throttle():((ne,pe)=>{const _e=kt(pe.getBody()),je=Me=>kn(Me,_e),Ie=kt(pe.selection.getNode());return(Me=>!je(Me)&&!Xr(_e,Me))(Ie)?O.none():((Me,lt,Et)=>{const $t=e_(Me,lt);if($t.contextForms.length>0)return O.some({elem:Me,toolbars:[$t.contextForms[0]]});{const Xt=e_(Me,Et);if(Xt.contextForms.length>0)return O.some({elem:Me,toolbars:[Xt.contextForms[0]]});if($t.contextToolbars.length>0||Xt.contextToolbars.length>0){const xo=(Qo=>{if(Qo.length<=1)return Qo;{const _r=oo=>Oo(Qo,Ir=>Ir.position===oo),Lr=oo=>gn(Qo,Ir=>Ir.position===oo),Io=_r("selection"),fn=_r("node");if(Io||fn){if(fn&&Io){const oo=Lr("node"),Ir=et(Lr("selection"),Kn=>({...Kn,position:"node"}));return oo.concat(Ir)}return Lr(Io?"selection":"node")}return Lr("line")}})($t.contextToolbars.concat(Xt.contextToolbars));return O.some({elem:Me,toolbars:xo})}return O.none()}})(Ie,ne.inNodeScope,ne.inEditorScope).orThunk(()=>((Me,lt,Et)=>Me(lt)?O.none():xc(lt,$t=>{if(rr($t)){const{contextToolbars:Xt,contextForms:xo}=e_($t,Et.inNodeScope),Qo=xo.length>0?xo:(_r=>{if(_r.length<=1)return _r;{const Lr=Io=>H(_r,fn=>fn.position===Io);return Lr("selection").orThunk(()=>Lr("node")).orThunk(()=>Lr("line")).map(Io=>Io.position).fold(()=>[],Io=>gn(_r,fn=>fn.position===Io))}})(Xt);return Qo.length>0?O.some({elem:$t,toolbars:Qo}):O.none()}return O.none()},Me))(je,Ie,ne))})(ee(),n).fold(L,ne=>{Z(ne.toolbars,O.some(ne.elem))}))},17);n.on("init",()=>{n.on("remove",L),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",U),n.on("click keyup focus SetContent",te.throttle),n.on(fA,L),n.on("contexttoolbar-show",ne=>{const pe=ee();ct(pe.lookupTable,ne.toolbarKey).each(_e=>{Z([_e],Fo(ne.target!==n,ne.target)),Vr.getContent(E).each(qt.focusIn)})}),n.on("focusout",ne=>{dx.setEditorTimeout(n,()=>{ys(i.element).isNone()&&ys(E.element).isNone()&&L()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&L()}),n.on("ExecCommand",({command:ne})=>{ne.toLowerCase()==="toggleview"&&L()}),n.on("AfterProgressState",ne=>{ne.state?L():n.hasFocus()&&te.throttle()}),n.on("dragstart",()=>{X=!0}),n.on("dragend drop",()=>{X=!1}),n.on("NodeChange",ne=>{ys(E.element).fold(te.throttle,st)})})},yA=(n,s)=>{const i=()=>{const l=s.getOptions(n),u=s.getCurrent(n).map(s.hash),f=dn();return et(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=E=>{E&&(f.on(C=>C.setActive(!1)),f.set(b)),b.setActive(E)};y(Hs(u,s.hash(p)));const _=s.watcher(n,p,y);return()=>{f.clear(),_()}},onAction:()=>s.setCurrent(n,p)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},VM=n=>{yA(n,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:f3,hash:i=>((l,u)=>Jk(l,["fixed","relative","empty"]).map(({value:f,unit:p})=>f+p))(i).getOr(i),display:Dt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>O.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:va(s),onMenuSetup:va(s)}))(n)),(s=>O.from(ww(s)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ue(i),hash:l=>Ur(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=kt(l.selection.getNode());return Wc(u,f=>O.some(f).filter(rr).bind(p=>Er(p,"lang").map(b=>({code:b,customCode:Er(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=yl();return l.setActive(s.formatter.match("lang",{},void 0,!0)),u.set(s.formatter.formatChanged("lang",l.setActive,!0)),xy(u.clear,va(s)(l))},onMenuSetup:va(s)})))(n).each(s=>yA(n,s))},jM=n=>Zh(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),sv=(n,s)=>i=>{i.setActive(s.get());const l=u=>{s.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),xy(()=>n.off("PastePlainTextToggle",l),va(n)(i))},$S=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},VS=n=>{(s=>{(i=>{_p.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:hf(i,l.name),onAction:$S(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,f=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:hf(i,u),onAction:$S(i,u),shortcut:f})}})(s),(i=>{_p.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:tc(i,l.action),shortcut:l.shortcut})}),_p.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:va(i),onAction:tc(i,l.action)})})})(s),(i=>{_p.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:tc(i,l.action),onSetup:hf(i,l.name)})})})(s)})(n),(s=>{_p.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:tc(s,i.action)})}),_p.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:va(s),onAction:tc(s,i.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:va(s),onAction:$S(s,"code")})})(n)},o_=(n,s)=>Zh(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),UM=n=>Zh(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),ZM=(n,s)=>{(i=>{St([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:tc(i,l.cmd),onSetup:hf(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:va(i),onAction:tc(i,"JustifyNone")})})(n),VS(n),((i,l)=>{((u,f)=>{const p=Py(f,ES(u));u.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:va(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=Py(f,YO(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:va(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p={type:"advanced",...f.styles},b=Py(f,nA(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:va(u),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((u,f)=>{const p=Py(f,OS(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:va(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=Py(f,tA(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:va(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,s),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:o_(l,"hasUndo"),onAction:tc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:o_(l,"hasRedo"),onAction:tc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:o_(l,"hasUndo"),onAction:tc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:o_(l,"hasRedo"),onAction:tc(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(b=>{b.addCommand("mceApplyTextcolor",(y,_)=>{((E,C,A)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(C,{value:A}),E.nodeChanged()})})(b,y,_)}),b.addCommand("mceRemoveTextcolor",y=>{((_,E)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(E,{value:null},void 0,!0),_.nodeChanged()})})(b,y)})})(i);const l=Sz(i),u=Ez(i),f=Ht(l),p=Ht(u);k2(i,"forecolor","forecolor",f),k2(i,"backcolor","hilitecolor",p),_y(i,"forecolor","forecolor","Text color",f),_y(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:tc(l,"mceToggleVisualAid")})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:UM(l),onAction:tc(l,"mceToggleVisualAid")})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:jM(l),onAction:tc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:va(l),onAction:tc(l,"indent")})})(i)})(n),VM(n),(i=>{const l=Ht(d3(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:sv(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:sv(i,l)})})(n)},vA=n=>ko(n)?n.split(/[ ,]/):n,xA=n=>s=>s.options.get(n),kA=xA("contextmenu_never_use_native"),WM=xA("contextmenu_avoid_overlap"),jS=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:gn(i,l=>Co(s,l))},av=(n,s)=>({type:"makeshift",x:n,y:s}),_A=n=>n.type==="longpress"||n.type.indexOf("touch")===0,qM=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?(i=>{if(_A(i)){const l=i.touches[0];return av(l.pageX,l.pageY)}return av(i.pageX,i.pageY)})(s):((i,l)=>{const u=iy.DOM.getPos(i);return((f,p,b)=>av(f.x+p,f.y+b))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(_A(i)){const l=i.touches[0];return av(l.clientX,l.clientY)}return av(i.clientX,i.clientY)})(s)):wA(n),wA=n=>({type:"selection",root:kt(n.selection.getNode())}),CA=(n,s,i)=>{switch(i){case"node":return(l=>({type:"node",node:O.some(kt(l.selection.getNode())),root:kt(l.getBody())}))(n);case"point":return qM(n,s);case"selection":return wA(n)}},SA=(n,s,i,l,u,f)=>{const p=i(),b=CA(n,s,f);Qh(p,gf.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:O.none()}).map(y=>{s.preventDefault(),Vr.showMenuAt(u,{anchor:b},{menu:{markers:Ih("normal")},data:y})})},EA={onLtr:()=>[bs,os,ns,Ss,qn,Gr,vn,xm,q0,Tg,nc,oc],onRtl:()=>[bs,ns,os,qn,Ss,Gr,vn,xm,nc,oc,q0,Tg]},GM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},KM=(n,s,i,l,u,f)=>{const p=Vs(),b=p.os.isiOS(),y=p.os.isMacOS(),_=p.os.isAndroid(),E=p.deviceType.isTouch(),C=()=>{const A=i();((B,L,U,q,ee,W,Z)=>{const X=((te,ne,pe)=>{const _e=CA(te,ne,pe);return{bubble:Jl(0,pe==="point"?12:0,GM),layouts:EA,overrides:{maxWidthFunction:pS(),maxHeightFunction:rp()},..._e}})(B,L,W);Qh(U,gf.CLOSE_ON_EXECUTE,q,{isHorizontalMenu:!0,search:O.none()}).map(te=>{L.preventDefault();const ne=Z?Ii.HighlightMenuAndItem:Ii.HighlightNone;Vr.showMenuWithinBounds(ee,{anchor:X},{menu:{markers:Ih("normal"),highlightOnOpen:ne},data:te,type:"horizontal"},()=>O.some(gA(B,q.shared,W==="node"?"node":"selection"))),B.dispatch(fA)})})(n,s,A,l,u,f,!(_||b||y&&E))};if((y||b)&&f!=="node"){const A=()=>{(B=>{const L=B.selection.getRng(),U=()=>{dx.setEditorTimeout(B,()=>{B.selection.setRng(L)},10),W()};B.once("touchend",U);const q=Z=>{Z.preventDefault(),Z.stopImmediatePropagation()};B.on("mousedown",q,!0);const ee=()=>W();B.once("longpresscancel",ee);const W=()=>{B.off("touchend",U),B.off("longpresscancel",ee),B.off("mousedown",q)}})(n),C()};((B,L)=>{const U=B.selection;if(U.isCollapsed()||L.touches.length<1)return!1;{const q=L.touches[0],ee=U.getRng();return S1(B.getWin(),of.domRange(ee)).exists(W=>W.left<=q.clientX&&W.right>=q.clientX&&W.top<=q.clientY&&W.bottom>=q.clientY)}})(n,s)?A():(n.once("selectionchange",A),n.once("touchend",()=>n.off("selectionchange",A)))}else C()},zA=n=>ko(n)?n==="|":n.type==="separator",US={type:"separator"},TA=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(ko(n))return n;switch(n.type){case"separator":return US;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return ko(l)?l:et(l,TA)}};default:const i=n;return{type:"menuitem",...s(i),onAction:uo(i.onAction)}}},ZS=(n,s)=>{if(s.length===0)return n;const i=Xe(n).filter(l=>!zA(l)).fold(()=>[],l=>[US]);return n.concat(i).concat(s).concat([US])},ab=(n,s)=>!(i=>i.type==="longpress"||Co(i,"touches"))(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),OA=(n,s)=>ab(n,s)?n.selection.getStart(!0):s.target,YM=(n,s,i)=>{const l=Vs().deviceType.isTouch,u=Aa(Vr.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:at([Po("dismissContextMenu",[Le(ju(),(b,y)=>{x.close(b),n.focus()})])])})),f=()=>Vr.hide(u),p=b=>{if(kA(n)&&b.preventDefault(),((_,E)=>E.ctrlKey&&!kA(_))(n,b)||(_=>jS(_).length===0)(n))return;const y=((_,E)=>{const C=WM(_),A=ab(_,E)?"selection":"point";if(mi(C)){const B=OA(_,E);return Cy(kt(B),C)?"node":A}return A})(n,b);(l()?KM:SA)(n,b,()=>{const _=OA(n,b),E=n.ui.registry.getAll(),C=jS(n);return((A,B,L)=>{const U=wo(B,(q,ee)=>ct(A,ee.toLowerCase()).map(W=>{const Z=W.update(L);if(ko(Z)&&mi(Oi(Z)))return ZS(q,Z.split(" "));if(Kr(Z)&&Z.length>0){const X=et(Z,TA);return ZS(q,X)}return q}).getOrThunk(()=>q.concat([ee])),[]);return U.length>0&&zA(U[U.length-1])&&U.pop(),U})(E.contextMenus,C,_)},i,u,y)};n.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(b,f),n.on("longpress contextmenu",p)})},WS=xi([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),ib=n=>s=>s.translate(-n.left,-n.top),rc=n=>s=>s.translate(n.left,n.top),yf=n=>(s,i)=>wo(n,(l,u)=>u(l),ae(s,i)),iv=(n,s,i)=>n.fold(yf([rc(i),ib(s)]),yf([ib(s)]),yf([])),Iy=(n,s,i)=>n.fold(yf([rc(i)]),yf([]),yf([rc(s)])),AA=(n,s,i)=>n.fold(yf([]),yf([ib(i)]),yf([rc(s),ib(i)])),NA=(n,s,i)=>{const l=n.fold((u,f)=>({position:O.some("absolute"),left:O.some(u+"px"),top:O.some(f+"px")}),(u,f)=>({position:O.some("absolute"),left:O.some(u-i.left+"px"),top:O.some(f-i.top+"px")}),(u,f)=>({position:O.some("fixed"),left:O.some(u+"px"),top:O.some(f+"px")}));return{right:O.none(),bottom:O.none(),...l}},qS=(n,s,i,l)=>{const u=(f,p)=>(b,y)=>{const _=f(s,i,l);return p(b.getOr(_.left),y.getOr(_.top))};return n.fold(u(AA,lv),u(Iy,Sp),u(iv,lb))},lv=WS.offset,Sp=WS.absolute,lb=WS.fixed,RA=(n,s)=>{const i=cs(n,s);return Ur(i)?NaN:parseInt(i,10)},DA=(n,s,i,l,u,f)=>{const p=((_,E,C,A)=>((B,L)=>{const U=B.element,q=RA(U,L.leftAttr),ee=RA(U,L.topAttr);return isNaN(q)||isNaN(ee)?O.none():O.some(ae(q,ee))})(_,E).fold(()=>C,B=>lb(B.left+A.left,B.top+A.top)))(n,s,i,l),b=s.mustSnap?BA(n,s,p,u,f):PA(n,s,p,u,f),y=iv(p,u,f);return((_,E,C)=>{const A=_.element;to(A,E.leftAttr,C.left+"px"),to(A,E.topAttr,C.top+"px")})(n,s,y),b.fold(()=>({coord:lb(y.left,y.top),extra:O.none()}),_=>({coord:_.output,extra:_.extra}))},MA=(n,s,i,l)=>ao(n,u=>{const f=u.sensor;return((b,y,_,E,C,A)=>{const B=Iy(b,C,A),L=Iy(y,C,A);return Math.abs(B.left-L.left)<=_&&Math.abs(B.top-L.top)<=E})(s,f,u.range.left,u.range.top,i,l)?O.some({output:qS(u.output,s,i,l),extra:u.extra}):O.none()}),BA=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return MA(f,i,l,u).orThunk(()=>wo(f,(b,y)=>{const _=y.sensor,E=((C,A,B,L,U,q)=>{const ee=Iy(C,U,q),W=Iy(A,U,q),Z=Math.abs(ee.left-W.left),X=Math.abs(ee.top-W.top);return ae(Z,X)})(i,_,y.range.left,y.range.top,l,u);return b.deltas.fold(()=>({deltas:O.some(E),snap:O.some(y)}),C=>(E.left+E.top)/2<=(C.left+C.top)/2?{deltas:O.some(E),snap:O.some(y)}:b)},{deltas:O.none(),snap:O.none()}).snap.map(b=>({output:qS(b.output,i,l,u),extra:b.extra})))},PA=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return MA(f,i,l,u)};var LA=Object.freeze({__proto__:null,snapTo:(n,s,i,l)=>{const u=s.getTarget(n.element);if(s.repositionTarget){const f=da(n.element),p=ar(f),b=Cc(u),y=((E,C,A)=>({coord:qS(E.output,E.output,C,A),extra:E.extra}))(l,p,b),_=NA(y.coord,0,b);ei(u,_)}}});const GS="data-initial-z-index",IA=(n,s)=>{n.getSystem().addToGui(s),(i=>{As(i.element).filter(rr).each(l=>{Hr(l,"z-index").each(u=>{to(l,GS,u)}),po(l,"z-index",br(i.element,"z-index"))})})(s)},XM=n=>{(s=>{As(s.element).filter(rr).each(i=>{Er(i,GS).fold(()=>_n(i,"z-index"),l=>po(i,"z-index",l)),Wo(i,GS)})})(n),n.getSystem().removeFromGui(n)},FA=(n,s,i)=>n.getSystem().build(zu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var JM=Nr("snaps",[Ue("getSnapPoints"),un("onSensor"),Ue("leftAttr"),Ue("topAttr"),we("lazyViewport",Rs),we("mustSnap",!1)]);const KS=[we("useFixed",Fe),Ue("blockerClass"),we("getTarget",Dt),we("onDrag",st),we("repositionTarget",!0),we("onDrop",st),ir("getBounds",Rs),JM],YS=n=>{return(s=Hr(n,"left"),i=Hr(n,"top"),l=Hr(n,"position"),s.isSome()&&i.isSome()&&l.isSome()?O.some(((u,f,p)=>(p==="fixed"?lb:lv)(parseInt(u,10),parseInt(f,10)))(s.getOrDie(),i.getOrDie(),l.getOrDie())):O.none()).getOrThunk(()=>{const u=Pe(n);return Sp(u.left,u.top)});var s,i,l},HA=(n,s)=>({bounds:n.getBounds(),height:Ea(s.element),width:Dn(s.element)}),XS=(n,s,i,l,u)=>{const f=i.update(l,u),p=i.getStartData().getOrThunk(()=>HA(s,n));f.each(b=>{((y,_,E,C)=>{const A=_.getTarget(y.element);if(_.repositionTarget){const B=da(y.element),L=ar(B),U=Cc(A),q=YS(A),ee=((Z,X,te,ne,pe,_e,je)=>((Ie,Me,lt,Et,$t)=>{const Xt=$t.bounds,xo=Iy(Me,lt,Et),Qo=Ec(xo.left,Xt.x,Xt.x+Xt.width-$t.width),_r=Ec(xo.top,Xt.y,Xt.y+Xt.height-$t.height),Lr=Sp(Qo,_r);return Me.fold(()=>{const Io=AA(Lr,lt,Et);return lv(Io.left,Io.top)},ue(Lr),()=>{const Io=iv(Lr,lt,Et);return lb(Io.left,Io.top)})})(0,X.fold(()=>{const Ie=(Me=te,lt=_e.left,Et=_e.top,Me.fold((Xt,xo)=>lv(Xt+lt,xo+Et),(Xt,xo)=>Sp(Xt+lt,xo+Et),(Xt,xo)=>lb(Xt+lt,xo+Et)));var Me,lt,Et;const $t=iv(Ie,ne,pe);return lb($t.left,$t.top)},Ie=>{const Me=DA(Z,Ie,te,_e,ne,pe);return Me.extra.each(lt=>{Ie.onSensor(Z,lt)}),Me.coord}),ne,pe,je))(y,_.snaps,q,L,U,C,E),W=NA(ee,0,U);ei(A,W)}_.onDrag(y,A,C)})(n,s,p,b)})},JS=(n,s,i,l)=>{s.each(XM),i.snaps.each(f=>{((p,b)=>{((y,_)=>{const E=y.element;Wo(E,_.leftAttr),Wo(E,_.topAttr)})(p,b)})(n,f)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},QS=n=>(s,i)=>{const l=u=>{i.setStartData(HA(s,u))};return _o([Le(Pf(),u=>{i.getStartData().each(()=>l(u))}),...n(s,i,l)])};var QM=Object.freeze({__proto__:null,getData:n=>O.from(ae(n.x,n.y)),getDelta:(n,s)=>ae(s.left-n.left,s.top-n.top)});const $A=(n,s,i)=>[Le(Ze(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const f=()=>JS(l,O.some(y),n,s),p=A2(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:_=>{p.cancel(),XS(l,n,s,QM,_)}},y=FA(l,n.blockerClass,(_=>_o([Le(Ze(),_.forceDrop),Le(go(),_.drop),Le(eo(),(E,C)=>{_.move(C.event)}),Le(Eo(),_.delayDrop)]))(b));i(l),IA(l,y)})],eB=[...KS,ur("dragger",{handlers:QS($A)})];var VA=Object.freeze({__proto__:null,getData:n=>{const s=n.raw.touches;return s.length===1?(i=>{const l=i[0];return O.some(ae(l.clientX,l.clientY))})(s):O.none()},getDelta:(n,s)=>ae(s.left-n.left,s.top-n.top)});const jA=(n,s,i)=>{const l=dn(),u=f=>{JS(f,l.get(),n,s),l.clear()};return[Le(D(),(f,p)=>{p.stop();const b=()=>u(f),y={drop:b,delayDrop:st,forceDrop:b,move:E=>{XS(f,n,s,VA,E)}},_=FA(f,n.blockerClass,(E=>_o([Le(D(),E.forceDrop),Le(ie(),E.drop),Le(me(),E.drop),Le(V(),(C,A)=>{E.move(A.event)})]))(y));l.set(_),i(f),IA(f,_)}),Le(V(),(f,p)=>{p.stop(),XS(f,n,s,VA,p.event)}),Le(ie(),(f,p)=>{p.stop(),u(f)}),Le(me(),u)]},tB=eB,UA=[...KS,ur("dragger",{handlers:QS(jA)})],ZA=[...KS,ur("dragger",{handlers:QS((n,s,i)=>[...$A(n,s,i),...jA(n,s,i)])})];var oB=Object.freeze({__proto__:null,mouse:tB,touch:UA,mouseOrTouch:ZA}),nB=Object.freeze({__proto__:null,init:()=>{let n=O.none(),s=O.none();const i=ue({});return Us({readState:i,reset:()=>{n=O.none(),s=O.none()},update:(l,u)=>l.getData(u).bind(f=>((p,b)=>{const y=n.map(_=>p.getDelta(_,b));return n=O.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=O.some(l)}})}});const cb=k({branchKey:"mode",branches:oB,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:O.from(n.extra)})},state:nB,apis:LA}),WA=(n,s,i,l,u,f)=>n.fold(()=>cb.snap({sensor:Sp(i-20,l-20),range:ae(u,f),output:Sp(O.some(i),O.some(l)),extra:{td:s}}),p=>{const b=i-20,y=l-20,_=p.element.dom.getBoundingClientRect();return cb.snap({sensor:Sp(b,y),range:ae(40,40),output:Sp(O.some(i-_.width/2),O.some(l-_.height/2)),extra:{td:s}})}),qA=(n,s,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const f=u.td;((p,b)=>p.exists(y=>kn(y,b)))(s.get(),f)||(s.set(f),i(f))},mustSnap:!0}),GA=n=>Hn(Ci.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:at([cb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Kh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),KA=(n,s)=>{const i=Ht([]),l=Ht([]),u=Ht(!1),f=dn(),p=dn(),b=W=>{const Z=La(W);return WA(C.getOpt(s),W,Z.x,Z.y,Z.width,Z.height)},y=W=>{const Z=La(W);return WA(A.getOpt(s),W,Z.right,Z.bottom,Z.width,Z.height)},_=qA(()=>et(i.get(),W=>b(W)),f,W=>{p.get().each(Z=>{n.dispatch("TableSelectorChange",{start:W,finish:Z})})}),E=qA(()=>et(l.get(),W=>y(W)),p,W=>{f.get().each(Z=>{n.dispatch("TableSelectorChange",{start:Z,finish:W})})}),C=GA(_),A=GA(E),B=Aa(C.asSpec()),L=Aa(A.asSpec()),U=(W,Z,X,te)=>{const ne=X(Z);cb.snapTo(W,ne),((pe,_e,je,Ie)=>{const Me=_e.dom.getBoundingClientRect();_n(pe.element,"display");const lt=md(kt(n.getBody())).dom.innerHeight,Et=Me[te]<0,$t=((Xt,xo)=>Xt[te]>xo)(Me,lt);(Et||$t)&&po(pe.element,"display","none")})(W,Z)},q=W=>U(B,W,b,"top"),ee=W=>U(L,W,y,"bottom");if(Vs().deviceType.isTouch()){const W=Z=>et(Z,kt);n.on("TableSelectionChange",Z=>{u.get()||(af(s,B),af(s,L),u.set(!0));const X=kt(Z.start),te=kt(Z.finish);f.set(X),p.set(te),O.from(Z.otherCells).each(ne=>{i.set(W(ne.upOrLeftCells)),l.set(W(ne.downOrRightCells)),q(X),ee(te)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(q),p.get().each(ee)}),n.on("TableSelectionClear",()=>{u.get()&&(Pi(B),Pi(L),u.set(!1)),f.clear(),p.clear()})}},YA=(n,s,i)=>{var l;const u=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:at([qt.config({mode:"flow",selector:"div[role=button]"}),vo.config({disabled:i.isDisabled}),ya(),lr.config({}),no.config({}),Po("elementPathEvents",[dr((f,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>qt.focusIn(f)),n.on("NodeChange",b=>{const y=(E=>{const C=[];let A=E.length;for(;A-- >0;){const L=E[A];if(L.nodeType===1&&(B=L).nodeName!=="BR"&&!B.getAttribute("data-mce-bogus")&&B.getAttribute("data-mce-type")!=="bookmark"){const U=xz(n,L);if(U.isDefaultPrevented()||C.push({name:U.name,element:L}),U.isPropagationStopped())break}}var B;return C})(b.parents),_=y.length>0?wo(y,(E,C,A)=>{const B=((L,U,q)=>Ci.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":q}},components:[ms(L)],action:ee=>{n.focus(),n.selection.select(U),n.nodeChanged()},buttonBehaviours:at([zs.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",U.nodeName.toLowerCase()]),onShow:(ee,W)=>{((Z,X)=>{const te=O.from(cs(Z,"id")).getOrThunk(()=>{const ne=At("aria");return to(X,"id",ne),ne});to(Z,"aria-describedby",te)})(ee.element,W.element)},onHide:ee=>{var W;W=ee.element,Wo(W,"aria-describedby")}})}),ci(i.isDisabled),ya()])}))(C.name,C.element,A);return A===0?E.concat([B]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ms(` ${u} `)]},B])},[]):[];no.set(f,_)})})])]),components:[]}};var Ep;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Ep||(Ep={}));const n_=(n,s,i)=>{const l=kt(n.getContainer()),u=((f,p,b,y,_)=>{const E={height:rv(y+p.top,ly(f),ux(f))};return b===Ep.Both&&(E.width=rv(_+p.left,Q1(f),cy(f))),E})(n,s,i,yr(l),No(l));Jn(u,(f,p)=>{cn(f)&&po(l,p,Ag(f))}),(f=>{f.dispatch("ResizeEditor")})(n)},r_=(n,s,i,l)=>{const u=ae(20*i,20*l);return n_(n,u,s),O.some(!0)},XA=(n,s)=>{const i=()=>{const l=[],u=zw(n),f=c3(n),p=Mc(n)||n.hasPlugin("wordcount");return f&&l.push(YA(n,{},s)),u&&l.push((()=>{const b=$x("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ms(Id.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return n.hasPlugin("wordcount")&&b.push(((y,_)=>{const E=(C,A,B)=>no.set(C,[ms(_.translate(["{0} "+B,A[B]]))]);return Ci.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:at([ci(_.isDisabled),ya(),lr.config({}),no.config({}),Ee.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Po("wordcount-events",[Tl(C=>{const A=Ee.getValue(C),B=A.mode==="words"?"characters":"words";Ee.setValue(C,{mode:B,count:A.count}),E(C,A.count,B)}),dr(C=>{y.on("wordCountUpdate",A=>{const{mode:B}=Ee.getValue(C);Ee.setValue(C,{mode:B,count:A.wordCount}),E(C,A.wordCount,B)})})])]),eventOrder:{[si()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,s)),Mc(n)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:at([bo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(u){const _="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[_,y]:[_,b]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((f,p)=>{const b=(_=>{const E=qa(_);return E===!1?Ep.None:E==="both"?Ep.Both:Ep.Vertical})(f);if(b===Ep.None)return O.none();const y=b===Ep.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(Bc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[cb.config({mode:"mouse",repositionTarget:!1,onDrag:(_,E,C)=>n_(f,C,b),blockerClass:"tox-blocker"}),qt.config({mode:"special",onLeft:()=>r_(f,b,-1,0),onRight:()=>r_(f,b,1,0),onUp:()=>r_(f,b,0,-1),onDown:()=>r_(f,b,0,1)}),lr.config({}),bo.config({}),zs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(n,s);return l.concat(u.toArray())})()}},JA=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),rB=(n,s)=>{const i=n.inline,l=i?IM:o8,u=mp(n)?L6:P6,f=(()=>{const ne=dn(),pe=dn(),_e=dn();return{dialogUi:ne,popupUi:pe,mainUi:_e,getUiMotherships:()=>{const je=ne.get().map(Me=>Me.mothership),Ie=pe.get().map(Me=>Me.mothership);return je.fold(()=>Ie.toArray(),Me=>Ie.fold(()=>[Me],lt=>kn(Me.element,lt.element)?[Me]:[Me,lt]))},lazyGetInOuterOrDie:(je,Ie)=>()=>_e.get().bind(Me=>Ie(Me.outerContainer)).getOrDie(`Could not find ${je} element in OuterContainer`)}})(),p=dn(),b=dn(),y=dn(),_=Vs().deviceType.isTouch()?["tox-platform-touch"]:[],E=Tw(n),C=Mh(n),A=Hn({dom:{tag:"div",classes:["tox-anchorbar"]}}),B=Hn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),L=()=>f.mainUi.get().map(ne=>ne.outerContainer).bind(kr.getHeader),U=f.lazyGetInOuterOrDie("anchor bar",A.getOpt),q=f.lazyGetInOuterOrDie("bottom anchor bar",B.getOpt),ee=f.lazyGetInOuterOrDie("toolbar",kr.getToolbar),W=f.lazyGetInOuterOrDie("throbber",kr.getThrobber),Z=((ne,pe,_e,je)=>{const Ie=Ht(!1),Me=(fn=>{const oo=Ht(Tw(fn)?"bottom":"top");return{isPositionedAtTop:()=>oo.get()==="top",getDockingMode:oo.get,setDockingMode:oo.set}})(pe),lt={icons:()=>pe.ui.registry.getAll().icons,menuItems:()=>pe.ui.registry.getAll().menuItems,translate:Id.translate,isDisabled:()=>pe.mode.isReadOnly()||!pe.ui.isEnabled(),getOption:pe.options.get,tooltips:YC(ne.dialog)},Et=bO(pe),$t=(fn=>{const oo=Da=>()=>fn.formatter.match(Da),Ir=Da=>()=>{const xa=fn.formatter.get(Da);return xa!==void 0?O.some({tag:xa.length>0&&(xa[0].inline||xa[0].block)||"div",styles:fn.dom.parseStyle(fn.formatter.getCssText(Da))}):O.none()},Kn=Ht([]),Si=Ht([]),Ei=Ht(!1);return fn.on("PreInit",Da=>{const xa=iO(fn),zp=KC(fn,xa,oo,Ir);Kn.set(zp)}),fn.on("addStyleModifications",Da=>{const xa=KC(fn,Da.items,oo,Ir);Si.set(xa),Ei.set(Da.replace)}),{getData:()=>{const Da=Ei.get()?[]:Kn.get(),xa=Si.get();return Da.concat(xa)}}})(pe),Xt=(fn=>({colorPicker:_6(fn),hasCustomColors:w6(fn),getColors:C6(fn),getColorCols:S6(fn)}))(pe),xo=(fn=>({isDraggableModal:rO(fn)}))(pe),Qo={shared:{providers:lt,anchors:k6(pe,_e,je,Me.isPositionedAtTop),header:Me},urlinput:Et,styles:$t,colorinput:Xt,dialog:xo,isContextMenuOpen:()=>Ie.get(),setContextMenuState:fn=>Ie.set(fn)},_r=fn=>O.none(),Lr={...Qo,shared:{...Qo.shared,interpreter:fn=>QT(fn,{},Lr,_r),getSink:ne.popup}},Io={...Qo,shared:{...Qo.shared,interpreter:fn=>QT(fn,{},Io,_r),getSink:ne.dialog}};return{popup:Lr,dialog:Io}})({popup:()=>Uo.fromOption(f.popupUi.get().map(ne=>ne.sink),"(popup) UI has not been rendered"),dialog:()=>Uo.fromOption(f.dialogUi.get().map(ne=>ne.sink),"UI has not been rendered")},n,U,q),X=()=>{const ne=(()=>{const Qo={attributes:{[Xi]:E?Nc.BottomToTop:Nc.TopToBottom}},_r=kr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Z.popup,onEscape:()=>{n.focus()}}),Lr=kr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Z.popup.shared.getSink,providers:Z.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:xa=>{((zp,jy)=>{zp.dispatch("ToggleToolbarDrawer",{state:jy})})(n,xa)},type:C,lazyToolbar:ee,lazyHeader:()=>L().getOrDie("Could not find header element"),...Qo}),Io=kr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Z.popup.shared.providers,onEscape:()=>{n.focus()},type:C}),fn=r0(n),oo=n0(n),Ir=o0(n),Kn=u3(n),Si=kr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ei=fn||oo||Ir,Da=Kn?[Si,_r]:[_r];return kr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ei?[]:["tox-editor-header--empty"]),...Qo},components:Cr([Ir?Da:[],fn?[Io]:oo?[Lr]:[],Bh(n)?[]:[A.asSpec()]]),sticky:mp(n),editor:n,sharedBackstage:Z.popup.shared})})(),pe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[kr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),kr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},_e=kr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Z.popup}),je=kr.parts.viewWrapper({backstage:Z.popup}),Ie=l3(n)&&!i?O.some(XA(n,Z.popup.shared.providers)):O.none(),Me=Cr([E?[]:[ne],i?[]:[pe],E?[ne]:[]]),lt=kr.parts.editorContainer({components:Cr([Me,i?[]:[B.asSpec()]])}),Et=_x(n),$t={role:"application",...Id.isRtl()?{dir:"rtl"}:{},...Et?{"aria-hidden":"true"}:{}},Xt=Aa(kr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...Et?{opacity:"0",border:"0"}:{}},attributes:$t},components:[lt,...i?[]:[je,...Ie.toArray()],_e],behaviours:at([ya(),vo.config({disableClass:"tox-tinymce--disabled"}),qt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),xo=Qx(Xt);return p.set(xo),{mothership:xo,outerContainer:Xt}},te=ne=>{const pe=Ag((je=>(Me=>{const lt=X1(Me),Et=ly(Me),$t=ux(Me);return nv(lt).map(Xt=>rv(Xt,Et,$t))})(je).getOr(X1(je)))(n)),_e=Ag((je=>BS(je).getOr(J1(je)))(n));return n.inline||($s("div","width",_e)&&po(ne.element,"width",_e),$s("div","height",pe)?po(ne.element,"height",pe):po(ne.element,"height","400px")),pe};return{popups:{backstage:Z.popup,getMothership:()=>JA("popups",y)},dialogs:{backstage:Z.dialog,getMothership:()=>JA("dialogs",b)},renderUI:()=>{const ne=X(),pe=(()=>{const je=kx(n),Ie=kn(Sa(),je)&&br(je,"display")==="grid",Me={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...Id.isRtl()?{dir:"rtl"}:{}}},behaviours:at([Wa.config({useFixed:()=>u.isDocked(L)})])},lt={dom:{styles:{width:document.body.clientWidth+"px"}},events:_o([Le(zd(),Xt=>{po(Xt.element,"width",document.body.clientWidth+"px")})])},Et=Aa(Un(Me,Ie?lt:{})),$t=Qx(Et);return b.set($t),{sink:Et,mothership:$t}})(),_e=pp(n)?(()=>{const je={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...Id.isRtl()?{dir:"rtl"}:{}}},behaviours:at([Wa.config({useFixed:()=>u.isDocked(L),getBounds:()=>s.getPopupSinkBounds()})])},Ie=Aa(je),Me=Qx(Ie);return y.set(Me),{sink:Ie,mothership:Me}})():(je=>(y.set(je.mothership),je))(pe);return f.dialogUi.set(pe),f.popupUi.set(_e),f.mainUi.set(ne),(je=>{const{mainUi:Ie,popupUi:Me,uiMotherships:lt}=je;In(mx(n),(oo,Ir)=>{n.ui.registry.addGroupToolbarButton(Ir,oo)});const{buttons:Et,menuItems:$t,contextToolbars:Xt,sidebars:xo,views:Qo}=n.ui.registry.getAll(),_r=xx(n),Lr={menuItems:$t,menus:ig(n),menubar:fp(n),toolbar:_r.getOrThunk(()=>uy(n)),allowToolbarGroups:C===Ld.floating,buttons:Et,sidebar:xo,views:Qo};var Io;Io=Ie.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{kr.focusMenubar(Io)}),n.addShortcut("alt+F10","focus toolbar",()=>{kr.focusToolbar(Io)}),n.addCommand("ToggleToolbarDrawer",(oo,Ir)=>{Ir!=null&&Ir.skipFocus?kr.toggleToolbarDrawerWithoutFocusing(Io):kr.toggleToolbarDrawer(Io)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>kr.isToolbarDrawerToggled(Io)),((oo,Ir,Kn)=>{const Si=(An,zm)=>{St([Ir,...Kn],Du=>{Du.broadcastEvent(An,zm)})},Ei=(An,zm)=>{St([Ir,...Kn],Du=>{Du.broadcastOn([An],zm)})},Da=An=>Ei(S(),{target:An.target}),xa=Pa(),zp=_i(xa,"touchstart",Da),jy=_i(xa,"touchmove",An=>Si(It(),An)),Rg=_i(xa,"touchend",An=>Si(Gl(),An)),Tp=_i(xa,"mousedown",Da),vv=_i(xa,"mouseup",An=>{An.raw.button===0&&Ei(R(),{target:An.target})}),Dg=An=>Ei(S(),{target:kt(An.target)}),Sm=An=>{An.button===0&&Ei(R(),{target:kt(An.target)})},ub=()=>{St(oo.editorManager.get(),An=>{oo!==An&&An.dispatch("DismissPopups",{relatedTarget:oo})})},fb=An=>Si(Pf(),vu(An)),Uy=An=>{Ei(N(),{}),Si(zd(),vu(An))},m_=Tr(kt(oo.getElement())),xv=k1(m_,"scroll",An=>{requestAnimationFrame(()=>{if(oo.getContainer()!=null){const zm=lg(oo,Ir.element).map(Du=>[Du.element,...Du.others]).getOr([]);Oo(zm,Du=>kn(Du,An.target))&&(oo.dispatch("ElementScroll",{target:An.target.dom}),Si(Lf(),An))}})}),Mg=()=>Ei(N(),{}),Em=An=>{An.state&&Ei(S(),{target:kt(oo.getContainer())})},Op=An=>{Ei(S(),{target:kt(An.relatedTarget.getContainer())})},kv=An=>oo.dispatch("focusin",An),_v=An=>oo.dispatch("focusout",An);oo.on("PostRender",()=>{oo.on("click",Dg),oo.on("tap",Dg),oo.on("mouseup",Sm),oo.on("mousedown",ub),oo.on("ScrollWindow",fb),oo.on("ResizeWindow",Uy),oo.on("ResizeEditor",Mg),oo.on("AfterProgressState",Em),oo.on("DismissPopups",Op),St([Ir,...Kn],An=>{An.element.dom.addEventListener("focusin",kv),An.element.dom.addEventListener("focusout",_v)})}),oo.on("remove",()=>{oo.off("click",Dg),oo.off("tap",Dg),oo.off("mouseup",Sm),oo.off("mousedown",ub),oo.off("ScrollWindow",fb),oo.off("ResizeWindow",Uy),oo.off("ResizeEditor",Mg),oo.off("AfterProgressState",Em),oo.off("DismissPopups",Op),St([Ir,...Kn],An=>{An.element.dom.removeEventListener("focusin",kv),An.element.dom.removeEventListener("focusout",_v)}),Tp.unbind(),zp.unbind(),jy.unbind(),Rg.unbind(),vv.unbind(),xv.unbind()}),oo.on("detach",()=>{St([Ir,...Kn],I_),St([Ir,...Kn],An=>An.destroy())})})(n,Ie.mothership,lt),u.setup(n,Z.popup.shared,L),ZM(n,Z.popup),YM(n,Z.popup.shared.getSink,Z.popup),(oo=>{const{sidebars:Ir}=oo.ui.registry.getAll();St(jo(Ir),Kn=>{const Si=Ir[Kn],Ei=()=>Hs(O.from(oo.queryCommandValue("ToggleSidebar")),Kn);oo.ui.registry.addToggleButton(Kn,{icon:Si.icon,tooltip:Si.tooltip,onAction:Da=>{oo.execCommand("ToggleSidebar",!1,Kn),Da.setActive(Ei())},onSetup:Da=>{Da.setActive(Ei());const xa=()=>Da.setActive(Ei());return oo.on("ToggleSidebar",xa),()=>{oo.off("ToggleSidebar",xa)}}})})})(n),zO(n,W,Z.popup.shared),$M(n,Xt,Me.sink,{backstage:Z.popup}),KA(n,Me.sink);const fn={targetNode:n.getElement(),height:te(Ie.outerContainer)};return l.render(n,je,Lr,Z.popup,fn)})({popupUi:_e,dialogUi:pe,mainUi:ne,uiMotherships:f.getUiMotherships()})}}},sB=ue([Ue("lazySink"),Xo("dragBlockClass"),ir("getBounds",Rs),we("useTabstopAt",Pt),we("firstTabstop",0),we("eventOrder",{}),Nt("modalBehaviours",[qt]),Gi("onExecute"),ai("onEscape")]),e4={sketch:Dt},t4=ue([od({name:"draghandle",overrides:(n,s)=>({behaviours:at([cb.config({mode:"mouse",getTarget:i=>Gf(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),Ji({schema:[Ue("dom")],name:"title"}),Ji({factory:e4,schema:[Ue("dom")],name:"close"}),Ji({factory:e4,schema:[Ue("dom")],name:"body"}),od({factory:e4,schema:[Ue("dom")],name:"footer"}),wu({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[we("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),we("components",[])],name:"blocker"})]),rs=cl({name:"ModalDialog",configFields:sB(),partFields:t4(),factory:(n,s,i,l)=>{const u=dn(),f=At("modal-events"),p={...n.eventOrder,[ba()]:[f].concat(n.eventOrder["alloy.system.attached"]||[])},b=Vs();return{uid:n.uid,dom:n.dom,components:s,apis:{show:y=>{u.set(y);const _=n.lazySink(y).getOrDie(),E=l.blocker(),C=_.getSystem().build({...E,components:E.components.concat([Mi(y)]),behaviours:at([bo.config({}),Po("dialog-blocker-events",[Nd(zn(),()=>{Gd.isBlocked(y)||qt.focusIn(y)})])])});af(_,C),qt.focusIn(y)},hide:y=>{u.clear(),As(y.element).each(_=>{y.getSystem().getByDom(_).each(E=>{Pi(E)})})},getBody:y=>dp(y,n,"body"),getFooter:y=>mr(y,n,"footer"),setIdle:y=>{Gd.unblock(y)},setBusy:(y,_)=>{Gd.block(y,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Do(n.modalBehaviours,[no.config({}),qt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),Gd.config({getRoot:u.get}),Po(f,[dr(y=>{const _=dp(y,n,"title").element,E=(C=>C.dom.textContent)(_);b.os.isMacOS()&&Bt(E)?to(y.element,"aria-label",E):((C,A)=>{const B=Er(C,"id").fold(()=>{const L=At("dialog-label");return to(A,"id",L),L},Dt);to(C,"aria-labelledby",B)})(y.element,_)})])])}},apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),aB=Kt([Gs,Uw].concat($h)),cv=il,o4=[Xw("button"),Hd,wl("align","end",["start","end"]),Bx,$d,Vu("buttonType",["primary","secondary"])],s_=[...o4,Fd],n4=[kl("type",["submit","cancel","custom"]),...s_],iB=[kl("type",["menu"]),pg,_0,Hd,ni("items",aB),...o4],lB=[...o4,kl("type",["togglebutton"]),_0,Hd,pg,fs("active",!1)],QA=us("type",{submit:n4,cancel:n4,custom:n4,menu:iB,togglebutton:lB}),cB=[Gs,Fd,kl("level",["info","warn","error","success"]),qw,we("url","")],r4=Kt(cB),s4=[Gs,Fd,$d,Xw("button"),Hd,t8,Vu("buttonType",["primary","secondary","toolbar"]),Bx],a4=Kt(s4),Fy=[Gs,Uw],Ra=Fy.concat([Gw]),dB=Fy.concat([Zw,$d]),uB=Kt(dB),e5=il,t5=Ra.concat([q3("auto")]),fB=Kt(t5),mB=hc([Fh,Fd,qw]),pB=Ra.concat([vi("storageKey","default")]),gB=Kt(pB),hB=Ms,bB=Kt(Ra),yB=Ms,o5=Fy.concat([vi("tag","textarea"),Or("scriptId"),Or("scriptUrl"),Wl("onFocus"),$a("settings",void 0,Lp)]),vB=Fy.concat([vi("tag","textarea"),Ha("init")]),xB=Cd(n=>xr("customeditor.old",Ds(vB),n).orThunk(()=>xr("customeditor.new",Ds(o5),n))),kB=Ms,n5=Kt(Ra),i4=gc(pc),r5=n=>[Gs,au("columns"),n],s5=[Gs,Or("html"),wl("presets","presentation",["presentation","document"]),ir("onInit",st),fs("stretched",!1)],a5=Kt(s5),i5=Ra.concat([fs("border",!1),fs("sandboxed",!0),fs("streamContent",!1),fs("transparent",!0)]),l4=Kt(i5),_B=Ms,c4=Kt(Fy.concat([Ar("height")])),Hy=Kt([Or("url"),vc("zoom"),vc("cachedWidth"),vc("cachedHeight")]),l5=Ra.concat([Ar("inputMode"),Ar("placeholder"),fs("maximized",!1),$d]),c5=Kt(l5),d5=Ms,wB=n=>[Gs,Zw,n,wl("align","start",["start","center","end"]),Ar("for")],CB=[Fd,Fh],a_=[Fd,ni("items",Af(0,()=>u5))],u5=ru([Kt(CB),Kt(a_)]),SB=Ra.concat([ni("items",u5),$d]),f5=Kt(SB),m5=Ms,d4=Ra.concat([iu("items",[Fd,Fh]),ts("size",1),$d]),p5=Kt(d4),Dl=Ms,g5=Ra.concat([fs("constrain",!0),$d]),EB=Kt(g5),h5=Kt([Or("width"),Or("height")]),b5=Fy.concat([Zw,ts("min",0),ts("max",0)]),zB=Kt(b5),TB=Zc,OB=[Gs,ni("header",Ms),ni("cells",gc(Ms))],y5=Kt(OB),Cm=Ra.concat([Ar("placeholder"),fs("maximized",!1),$d]),u4=Kt(Cm),v5=Ms,dv=[kl("type",["directory","leaf"]),Ww,Or("id"),es("menu",wO)],i_=Kt(dv),AB=dv.concat([ni("children",Af(0,()=>yc("type",{directory:x5,leaf:i_})))]),x5=Kt(AB),NB=yc("type",{directory:x5,leaf:i_}),RB=[Gs,ni("items",NB),Wl("onLeafAction"),Wl("onToggleExpand"),Mn("defaultExpandedIds",[],Ms),Ar("defaultSelectedId")],DB=Kt(RB),MB=Ra.concat([wl("filetype","file",["image","media","file"]),$d,Ar("picker_text")]),BB=Kt(MB),k5=Kt([Fh,Pc]),f4=n=>Qr("items","items",{tag:"required",process:{}},gc(Cd(s=>xr(`Checking item of ${n}`,Ru,s).fold(i=>Uo.error(oi(i)),i=>Uo.value(i))))),Ru=Hu(()=>{return yc("type",{alertbanner:r4,bar:Kt((n=f4("bar"),[Gs,n])),button:a4,checkbox:uB,colorinput:gB,colorpicker:bB,dropzone:n5,grid:Kt(r5(f4("grid"))),iframe:l4,input:c5,listbox:f5,selectbox:p5,sizeinput:EB,slider:zB,textarea:u4,urlinput:BB,customeditor:xB,htmlpanel:a5,imagepreview:c4,collection:fB,label:Kt(wB(f4("label"))),table:y5,tree:DB,panel:_5});var n}),l_=[Gs,we("classes",[]),ni("items",Ru)],_5=Kt(l_),PB=[Xw("tab"),Ww,ni("items",Ru)],w5=[Gs,iu("tabs",PB)],C5=Kt(w5),m4=s_,c_=QA,uv=Kt([Or("title"),js("body",yc("type",{panel:_5,tabpanel:C5})),vi("size","normal"),Mn("buttons",[],c_),we("initialData",{}),ir("onAction",st),ir("onChange",st),ir("onSubmit",st),ir("onClose",st),ir("onCancel",st),ir("onTabChange",st)]),fv=Kt([kl("type",["cancel","custom"]),...m4]),S5=Kt([Or("title"),Or("url"),vc("height"),vc("width"),Im("buttons",fv),ir("onAction",st),ir("onCancel",st),ir("onClose",st),ir("onMessage",st)]),d_=n=>tr(n)?[n].concat(xn(Xs(n),d_)):Kr(n)?xn(n,d_):[],E5=n=>ko(n.type)&&ko(n.name),z5={checkbox:e5,colorinput:hB,colorpicker:yB,dropzone:i4,input:d5,iframe:_B,imagepreview:Hy,selectbox:Dl,sizeinput:h5,slider:TB,listbox:m5,size:h5,textarea:v5,urlinput:k5,customeditor:kB,collection:mB,togglemenuitem:cv},LB=n=>{const s=(l=>gn(d_(l),E5))(n),i=xn(s,l=>(u=>O.from(z5[u.type]))(l).fold(()=>[],u=>[js(l.name,u)]));return Kt(i)},T5=n=>{var s;return{internalDialog:Fa(xr("dialog",uv,n)),dataValidator:LB(n),initialData:(s=n.initialData)!==null&&s!==void 0?s:{}}},db={open:(n,s)=>{const i=T5(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>n(Fa(xr("dialog",S5,s))),redial:n=>T5(n)};var IB=Object.freeze({__proto__:null,events:(n,s)=>{const i=(l,u)=>{n.updateState.each(f=>{const p=f(l,u);s.set(p)}),n.renderComponents.each(f=>{const p=f(u,s.get());(n.reuseDom?gw:Ah)(l,p)})};return _o([Le(Di(),(l,u)=>{const f=u;if(!f.universal){const p=n.channel;$e(f.channels,p)&&i(l,f.data)}}),dr((l,u)=>{n.initialData.each(f=>{i(l,f)})})])}}),FB=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),O5=[Ue("channel"),Xo("renderComponents"),Xo("updateState"),Xo("initialData"),fs("reuseDom",!0)];const sc=Zs({fields:O5,name:"reflecting",active:IB,apis:FB,state:Object.freeze({__proto__:null,init:()=>{const n=Ht(O.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(O.none())}}})}),A5=n=>{const s=[],i={};return Jn(n,(l,u)=>{l.fold(()=>{s.push(u)},f=>{i[u]=f})}),s.length>0?Uo.error(s):Uo.value(i)},N5=(n,s,i,l)=>{const u=Hn(_g.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:et(n.items,b=>Pk(p,b,s,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:at([qt.config({mode:"acyclic",useTabstopAt:ss(zy)}),(f=u,yn.config({find:f.getOpt})),aC(u,{postprocess:p=>A5(p).fold(b=>(console.error(b),{}),Dt)}),Po("dialog-body-panel",[Le(zn(),(p,b)=>{p.getSystem().broadcastOn([Sk],{newFocus:O.some(b.event.target)})})])])};var f},HB=nd({name:"TabButton",configFields:[we("uid",void 0),Ue("value"),Qr("dom","dom",on(()=>({attributes:{role:"tab",id:At("aria"),"aria-selected":"false"}})),Ri()),Xo("action"),we("domModification",{}),Nt("tabButtonBehaviours",[bo,qt,Ee]),Ue("view")],factory:(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:ay(n.action),behaviours:Do(n.tabButtonBehaviours,[bo.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0}),Ee.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),R5=ue([Ue("tabs"),Ue("dom"),we("clickToDismiss",!1),Nt("tabbarBehaviours",[$n,qt]),Gm(["tabClass","selectedClass"])]),mv=Kv({factory:HB,name:"tabs",unit:"tab",overrides:n=>{const s=(l,u)=>{$n.dehighlight(l,u),jt(l,it(),{tabbar:l,button:u})},i=(l,u)=>{$n.highlight(l,u),jt(l,If(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),f=$n.isHighlighted(u,l);(f&&n.clickToDismiss?s:f?st:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),$B=ue([mv]),p4=cl({name:"Tabbar",configFields:R5(),partFields:$B(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Do(n.tabbarBehaviours,[$n.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,f)=>{to(f.element,"aria-selected","true")},onDehighlight:(u,f)=>{to(f.element,"aria-selected","false")}}),qt.config({mode:"flow",getInitial:u=>$n.getHighlighted(u).map(f=>f.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),VB=nd({name:"Tabview",configFields:[Nt("tabviewBehaviours",[no])],factory:(n,s)=>({uid:n.uid,dom:n.dom,behaviours:Do(n.tabviewBehaviours,[no.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),jB=ue([we("selectFirst",!0),un("onChangeTab"),un("onDismissTab"),we("tabs",[]),Nt("tabSectionBehaviours",[])]),UB=Ji({factory:p4,schema:[Ue("dom"),_l("markers",[Ue("tabClass"),Ue("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),ZB=Ji({factory:VB,name:"tabview"}),D5=ue([UB,ZB]),$y=cl({name:"TabSection",configFields:jB(),partFields:D5(),factory:(n,s,i,l)=>{const u=(f,p)=>{mr(f,n,"tabbar").each(b=>{p(b).each(Ad)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:io(n.tabSectionBehaviours),events:_o(Cr([n.selectFirst?[dr((f,p)=>{u(f,$n.getFirst)})]:[],[Le(If(),(f,p)=>{(b=>{const y=Ee.getValue(b);mr(b,n,"tabview").each(_=>{H(n.tabs,E=>E.value===y).each(E=>{const C=E.view();Er(b.element,"id").each(A=>{to(_.element,"aria-labelledby",A)}),no.set(_,C),n.onChangeTab(_,b,C)})})})(p.event.button)}),Le(it(),(f,p)=>{const b=p.event.button;n.onDismissTab(f,b)})]])),apis:{getViewItems:f=>mr(f,n,"tabview").map(p=>no.contents(p)).getOr([]),showTab:(f,p)=>{u(f,b=>{const y=$n.getCandidates(b);return H(y,_=>Ee.getValue(_)===p).filter(_=>!$n.isHighlighted(b,_))})}}}},apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),g4=(n,s)=>{po(n,"height",s+"px"),po(n,"flex-basis",s+"px")},Vy=(n,s,i)=>{Gf(n,'[role="dialog"]').each(l=>{Pr(l,'[role="tablist"]').each(u=>{i.get().map(f=>(po(s,"height","0"),po(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const _=ji(p).dom,E=Gf(p,".tox-dialog-wrap").getOr(p);let C;C=br(E,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const A=yr(b),B=b.dom.offsetLeft>=y.dom.offsetLeft+No(y)?Math.max(yr(y),A):A,L=parseInt(br(p,"margin-top"),10)||0,U=parseInt(br(p,"margin-bottom"),10)||0;return C-(yr(p)+L+U-B)})(l,s,u)))).each(f=>{g4(s,f)})})})},vf=n=>Pr(n,'[role="tabpanel"]'),u_="send-data-to-section",h4="send-data-to-view",M5=(n,s,i,l)=>{const u=Ht({}),f=E=>{const C=Ee.getValue(E),A=A5(C).getOr({}),B=u.get(),L=Un(B,A);u.set(L)},p=E=>{const C=u.get();Ee.setValue(E,C)},b=Ht(null),y=et(n.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ms(i.shared.providers.translate(E.title))],view:()=>[_g.sketch(C=>({dom:{tag:"div",classes:["tox-form"]},components:et(E.items,A=>Pk(C,A,s,i,l)),formBehaviours:at([qt.config({mode:"acyclic",useTabstopAt:ss(zy)}),Po("TabView.form.events",[dr(p),wc(f)]),Yi.config({channels:Wi([{key:u_,value:{onReceive:f}},{key:h4,value:{onReceive:p}}])})])}))]})),_=(E=>{const C=dn();return{extraEvents:[dr(B=>{const L=B.element;vf(L).each(U=>{po(U,"visibility","hidden"),B.getSystem().getByDom(U).toOptional().each(q=>{const ee=((Z,X,te)=>et(Z,(ne,pe)=>{no.set(te,Z[pe].view());const _e=X.dom.getBoundingClientRect();return no.set(te,[]),_e.height}))(E,U,q);(Z=>tt(Te(Z,(X,te)=>X>te?-1:X<te?1:0)))(ee).fold(C.clear,C.set)}),Vy(L,U,C),_n(U,"visibility"),((q,ee)=>{tt(q).each(W=>$y.showTab(ee,W.value))})(E,B),requestAnimationFrame(()=>{Vy(L,U,C)})})}),Le(zd(),B=>{const L=B.element;vf(L).each(U=>{Vy(L,U,C)})}),Le(tk,(B,L)=>{const U=B.element;vf(U).each(q=>{const ee=Jc(Tr(q));po(q,"visibility","hidden");const W=Hr(q,"height").map(X=>parseInt(X,10));_n(q,"height"),_n(q,"flex-basis");const Z=q.dom.getBoundingClientRect().height;W.forall(X=>Z>X)?(C.set(Z),Vy(U,q,C)):W.each(X=>{g4(q,X)}),_n(q,"visibility"),ee.each(ki)})})],selectFirst:!1}})(y);return $y.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,C,A)=>{const B=Ee.getValue(C);jt(E,qz,{name:B,oldName:b.get()}),b.set(B)},tabs:y,components:[$y.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[p4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:at([lr.config({})])}),$y.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:at([Po("tabpanel",_.extraEvents),qt.config({mode:"acyclic"}),yn.config({find:E=>tt($y.getViewItems(E))}),Jh(O.none(),E=>(E.getSystem().broadcastOn([u_],{}),u.get()),(E,C)=>{u.set(C),E.getSystem().broadcastOn([h4],{})})])})},f_=(n,s,i,l,u,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:at([rC(0),sc.config({channel:`${wT}-${s}`,updateState:(p,b)=>O.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[M5(b,p.initialData,l,f)]:[N5(b,p.initialData,l,f)]},initialData:n})])}),B5=ff.deviceType.isTouch(),pv=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),b4=(n,s)=>rs.parts.close(Ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:at([lr.config({})])})),y4=()=>rs.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),P5=(n,s)=>rs.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:cm(`<p>${S3(s.translate(n))}</p>`)}]}]}),L5=n=>rs.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),I5=(n,s)=>[zu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),zu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],v4=n=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",u=s+"__disable-scroll";return rs.sketch({lazySink:n.lazySink,onEscape:f=>(n.onEscape(f),O.some(!0)),useTabstopAt:f=>!zy(f),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:cm(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:B5?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:at([bo.config({}),Po("dialog-events",n.dialogEvents.concat([Nd(zn(),(f,p)=>{Gd.isBlocked(f)||qt.focusIn(f)}),Le(Fp(),(f,p)=>{f.getSystem().broadcastOn([Sk],{newFocus:p.event.newFocus})})])),Po("scroll-lock",[dr(()=>{ut(Sa(),u)}),wc(()=>{Ut(Sa(),u)})]),...n.extraBehaviours]),eventOrder:{[si()]:["dialog-events"],[ba()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Sl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},F5=n=>Ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:at([lr.config({}),zs.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[Bc("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{Bo(s,vp)}}),x4=(n,s,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:at([sc.config({channel:`${pC}-${s}`,initialData:n,renderComponents:u=>[ms(l.translate(u.title))]})])}),k4=()=>({dom:cm('<div class="tox-dialog__draghandle"></div>')}),H5=(n,s,i)=>((l,u,f)=>{const p=rs.parts.title(x4(l,u,O.none(),f)),b=rs.parts.draghandle(k4()),y=rs.parts.close(F5(f)),_=[p].concat(l.draggable?[b]:[]).concat([y]);return zu.sketch({dom:cm('<div class="tox-dialog__header"></div>'),components:_})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),$5=(n,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:cm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),V5=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=Pr(n().element,".tox-dialog__header").map(f=>yr(f));rs.setBusy(n(),(f,p)=>$5(l.message,p,s,u))},onUnblock:()=>{rs.setIdle(n())}}),gv="tox-dialog--fullscreen",_4="tox-dialog--width-lg",w4="tox-dialog--width-md",hv=n=>{switch(n){case"large":return O.some(_4);case"medium":return O.some(w4);default:return O.none()}},C4=(n,s)=>{const i=kt(s.element.dom);Jo(i,gv)||(Bn(i,[_4,w4]),hv(n).each(l=>ut(i,l)))},j5=(n,s)=>{const i=kt(n.element.dom),l=Ws(i),u=H(l,f=>f===_4||f===w4).or(hv(s));((f,p)=>{St(p,b=>{((y,_)=>{J(y)?y.dom.classList.toggle(_):((E,C)=>$e(he(E),C)?dt(E,C):Ve(E,C))(y,_),ho(y)})(f,b)})})(i,[gv,...u.toArray()])},U5=(n,s,i)=>Aa(v4({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[$0({}),...n.extraBehaviours],onEscape:l=>{Bo(l,vp)},dialogEvents:s,eventOrder:{[Di()]:[sc.name(),Yi.name()],[ba()]:["scroll-lock",sc.name(),"messages","dialog-events","alloy.base.behaviour"],[Sl()]:["alloy.base.behaviour","dialog-events","messages",sc.name(),"scroll-lock"]}})),bv=(n,s={})=>et(n,i=>i.type==="menu"?(l=>{const u=et(l.items,f=>{const p=ct(s,f.name).getOr(Ht(!1));return{...f,storage:p}});return{...l,items:u}})(i):i),Z5=n=>wo(n,(s,i)=>i.type==="menu"?wo(i.items,(l,u)=>(l[u.name]=u.storage,l),s):s,{}),S4=(n,s)=>[Zu(zn(),t6),n(vg,(i,l,u,f)=>{Jc(Tr(f.element)).fold(st,nh),s.onClose(),l.onClose()}),n(vp,(i,l,u,f)=>{l.onCancel(i),Bo(f,vg)}),Le(M2,(i,l)=>s.onUnblock()),Le(D2,(i,l)=>s.onBlock(l.event))],W5=(n,s,i)=>{const l=(f,p)=>Le(f,(b,y)=>{u(b,(_,E)=>{p(n(),_,y.event,b)})}),u=(f,p)=>{sc.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...S4(l,s),l(P0,(f,p)=>p.onSubmit(f)),l(Fi,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(bf,(f,p,b,y)=>{const _=()=>y.getSystem().isConnected()?qt.focusIn(y):void 0,E=B=>$c(B,"disabled")||Er(B,"aria-disabled").exists(L=>L==="true"),C=Tr(y.element),A=Jc(C);p.onAction(f,{name:b.name,value:b.value}),Jc(C).fold(_,B=>{E(B)||A.exists(L=>Xr(B,L)&&E(L))?_():i().toOptional().filter(L=>!Xr(L.element,B)).each(_)})}),l(qz,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),wc(f=>{const p=n();Ee.setValue(f,p.getData())})]},WB=(n,s)=>{const i=s.map(f=>f.footerButtons).getOr([]),l=as(i,f=>f.align==="start"),u=(f,p)=>zu.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:et(p,b=>b.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},q5=(n,s,i)=>({dom:cm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:at([sc.config({channel:`${CT}-${s}`,initialData:n,updateState:(l,u)=>{const f=et(u.buttons,p=>{const b=Hn(((y,_)=>Ay(y,y.type,_))(p,i));return{name:p.name,align:p.align,memento:b}});return O.some({lookupByName:p=>((b,y,_)=>H(y,E=>E.name===_).bind(E=>E.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:WB})])}),E4=(n,s,i)=>rs.parts.footer(q5(n,s,i)),yv=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const i=yn.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return _g.getField(i,s).orThunk(()=>n.getFooter().bind(u=>sc.getState(u).get()).bind(u=>u.lookupByName(s)))}return O.none()},G5=(n,s,i)=>{const l=f=>{const p=n.getRoot();p.getSystem().isConnected()&&f(p)},u={getData:()=>{const f=n.getRoot(),p=f.getSystem().isConnected()?n.getFormWrapper():f;return{...Ee.getValue(p),...In(i,b=>b.get())}},setData:f=>{l(p=>{const b=u.getData(),y=Un(b,f),_=((C,A)=>{const B=C.getRoot();return sc.getState(B).get().map(L=>Fa(xr("data",L.dataValidator,A))).getOr(A)})(n,y),E=n.getFormWrapper();Ee.setValue(E,_),Jn(i,(C,A)=>{Co(y,A)&&C.set(y[A])})})},setEnabled:(f,p)=>{yv(n,f).each(p?vo.enable:vo.disable)},focus:f=>{yv(n,f).each(bo.focus)},block:f=>{if(!ko(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{jt(p,D2,{message:f})})},unblock:()=>{l(f=>{Bo(f,M2)})},showTab:f=>{l(p=>{const b=n.getBody();sc.getState(b).get().exists(y=>y.isTabPanel())&&yn.getCurrent(b).each(y=>{$y.showTab(y,f)})})},redial:f=>{l(p=>{const b=n.getId(),y=s(f),_=bv(y.internalDialog.buttons,i);p.getSystem().broadcastOn([`${wg}-${b}`],y),p.getSystem().broadcastOn([`${pC}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${wT}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${CT}-${b}`],{...y.internalDialog,buttons:_}),u.setData(y.initialData)})},close:()=>{l(f=>{Bo(f,vg)})},toggleFullscreen:n.toggleFullscreen};return u},K5=(n,s,i,l=!1,u)=>{const f=At("dialog"),p=At("dialog-label"),b=At("dialog-content"),y=n.internalDialog,_=Ht(y.size),E=hv(_.get()).toArray(),C=Hn(((te,ne,pe,_e)=>zu.sketch({dom:cm('<div class="tox-dialog__header"></div>'),components:[x4(te,ne,O.some(pe),_e),k4(),F5(_e)],containerBehaviours:at([cb.config({mode:"mouse",blockerClass:"blocker",getTarget:je=>Dd(je,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:y.title,draggable:!0},f,p,i.shared.providers)),A=Hn(((te,ne,pe,_e,je,Ie)=>f_(te,ne,O.some(pe),_e,je,Ie))({body:y.body,initialData:y.initialData},f,b,i,l,te=>yv(Z,te))),B=bv(y.buttons),L=Z5(B),U=Fo(B.length!==0,Hn(((te,ne,pe)=>q5(te,ne,pe))({buttons:B},f,i))),q=W5(()=>X,{onBlock:te=>{Gd.block(W,(ne,pe)=>{const _e=C.getOpt(W).map(je=>yr(je.element));return $5(te.message,pe,i.shared.providers,_e)})},onUnblock:()=>{Gd.unblock(W)},onClose:()=>s.closeWindow()},i.shared.getSink),ee=Vs().os,W=Aa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...ee.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[Di()]:[sc.name(),Yi.name()],[si()]:["execute-on-form"],[ba()]:["reflecting","execute-on-form"]},behaviours:at([qt.config({mode:"cyclic",onEscape:te=>(Bo(te,vg),O.some(!0)),useTabstopAt:te=>!zy(te)&&(Ja(te)!=="button"||cs(te,"disabled")!=="disabled"),firstTabstop:1}),sc.config({channel:`${wg}-${f}`,updateState:(te,ne)=>(_.set(ne.internalDialog.size),C4(ne.internalDialog.size,te),u(),O.some(ne)),initialData:n}),bo.config({}),Po("execute-on-form",q.concat([Nd(zn(),(te,ne)=>{qt.focusIn(te)}),Le(Fp(),(te,ne)=>{te.getSystem().broadcastOn([Sk],{newFocus:ne.event.newFocus})})])),Gd.config({getRoot:()=>O.some(W)}),no.config({}),$0({})]),components:[C.asSpec(),A.asSpec(),...U.map(te=>te.asSpec()).toArray()]}),Z={getId:ue(f),getRoot:ue(W),getFooter:()=>U.map(te=>te.get(W)),getBody:()=>A.get(W),getFormWrapper:()=>{const te=A.get(W);return yn.getCurrent(te).getOr(te)},toggleFullscreen:()=>{j5(W,_.get())}},X=G5(Z,s.redial,L);return{dialog:W,instanceApi:X}};var z4=tinymce.util.Tools.resolve("tinymce.util.URI");const qB=["insertContent","setContent","execCommand","close","block","unblock"],T4=n=>tr(n)&&qB.indexOf(n.mceAction)!==-1,GB=(n,s,i,l)=>{const u=At("dialog"),f=H5(n.title,u,l),p=(ee=>{const W={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[fC(O.none(),{dom:{tag:"iframe",attributes:{src:ee.url}},behaviours:at([lr.config({}),bo.config({})])})]}],behaviours:at([qt.config({mode:"acyclic",useTabstopAt:ss(zy)})])};return rs.parts.body(W)})(n),b=n.buttons.bind(ee=>ee.length===0?O.none():O.some(E4({buttons:ee},u,l))),y=((ee,W)=>{const Z=(te,ne)=>Le(te,(pe,_e)=>{X(pe,(je,Ie)=>{ne(q,je,_e.event,pe)})}),X=(te,ne)=>{sc.getState(te).get().each(pe=>{ne(pe,te)})};return[...S4(Z,W),Z(bf,(te,ne,pe)=>{ne.onAction(te,{name:pe.name})})]})(0,V5(()=>U,l.shared.providers,s)),_={...n.height.fold(()=>({}),ee=>({height:ee+"px","max-height":ee+"px"})),...n.width.fold(()=>({}),ee=>({width:ee+"px","max-width":ee+"px"}))},E=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],C=new z4(n.url,{base_uri:new z4(window.location.href)}),A=`${C.protocol}://${C.host}${C.port?":"+C.port:""}`,B=yl(),L=[sc.config({channel:`${wg}-${u}`,updateState:(ee,W)=>O.some(W),initialData:n}),Po("messages",[dr(()=>{const ee=_i(kt(window),"message",W=>{if(C.isSameOrigin(new z4(W.raw.origin))){const Z=W.raw.data;T4(Z)?((X,te,ne)=>{switch(ne.mceAction){case"insertContent":X.insertContent(ne.content);break;case"setContent":X.setContent(ne.content);break;case"execCommand":const pe=!!pn(ne.ui)&&ne.ui;X.execCommand(ne.cmd,pe,ne.value);break;case"close":te.close();break;case"block":te.block(ne.message);break;case"unblock":te.unblock()}})(i,q,Z):(X=>!T4(X)&&tr(X)&&Co(X,"mceAction"))(Z)&&n.onMessage(q,Z)}});B.set(ee)}),wc(B.clear)]),Yi.config({channels:{[gC]:{onReceive:(ee,W)=>{Pr(ee.element,"iframe").each(Z=>{const X=Z.dom.contentWindow;Bt(X)&&X.postMessage(W,A)})}}}})],U=U5({id:u,header:f,body:p,footer:b,extraClasses:E,extraBehaviours:L,extraStyles:_},y,l),q=(ee=>{const W=Z=>{ee.getSystem().isConnected()&&Z(ee)};return{block:Z=>{if(!ko(Z))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");W(X=>{jt(X,D2,{message:Z})})},unblock:()=>{W(Z=>{Bo(Z,M2)})},close:()=>{W(Z=>{Bo(Z,vg)})},sendMessage:Z=>{W(X=>{X.getSystem().broadcastOn([gC],Z)})}}})(U);return{dialog:U,instanceApi:q}},O4=(n,s)=>Fa(xr("data",s,n)),Y5=n=>Cy(n,".tox-alert-dialog")||Cy(n,".tox-confirm-dialog"),KB=(n,s,i)=>s&&i?[]:[Br.config({contextual:{lazyContext:()=>O.some(ds(kt(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>lg(n,l.element).map(u=>({bounds:cg(u),optScrollEnv:O.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:Pe(u.element).top})})).getOrThunk(()=>({bounds:Rs(),optScrollEnv:O.none()}))})],YB=n=>{const s=n.editor,i=mp(s),l=(y=>{const _=y.shared;return{open:(E,C)=>{const A=()=>{rs.hide(q),C()},B=Hn(Ay({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",y)),L=y4(),U=b4(A,_.providers),q=Aa(v4({lazySink:()=>_.getSink(),header:pv(L,U),body:P5(E,_.providers),footer:O.some(L5(I5([],[B.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Le(vp,A)],eventOrder:{}}));rs.show(q);const ee=B.get(q);bo.focus(ee)}}})(n.backstages.dialog),u=(y=>{const _=y.shared;return{open:(E,C)=>{const A=Z=>{rs.hide(ee),C(Z)},B=Hn(Ay({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",y)),L=Ay({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",y),U=y4(),q=b4(()=>A(!1),_.providers),ee=Aa(v4({lazySink:()=>_.getSink(),header:pv(U,q),body:P5(E,_.providers),footer:O.some(L5(I5([],[L,B.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Le(vp,()=>A(!1)),Le(P0,()=>A(!0))],eventOrder:{}}));rs.show(ee);const W=B.get(ee);bo.focus(W)}}})(n.backstages.dialog),f=(y,_)=>db.open((E,C,A)=>{const B=C,L=((U,q,ee)=>{const W=At("dialog"),Z=U.internalDialog,X=H5(Z.title,W,ee),te=Ht(Z.size),ne=hv(te.get()).toArray(),pe=((xo,Qo,_r,Lr)=>{const Io=f_(xo,Qo,O.none(),_r,!1,Lr);return rs.parts.body(Io)})({body:Z.body,initialData:Z.initialData},W,ee,xo=>yv($t,xo)),_e=bv(Z.buttons),je=Z5(_e),Ie=Fo(_e.length!==0,E4({buttons:_e},W,ee)),Me=W5(()=>Xt,V5(()=>Et,ee.shared.providers,q),ee.shared.getSink),lt={id:W,header:X,body:pe,footer:Ie,extraClasses:ne,extraBehaviours:[sc.config({channel:`${wg}-${W}`,updateState:(xo,Qo)=>(te.set(Qo.internalDialog.size),C4(Qo.internalDialog.size,xo),O.some(Qo)),initialData:U})],extraStyles:{}},Et=U5(lt,Me,ee),$t={getId:ue(W),getRoot:ue(Et),getBody:()=>rs.getBody(Et),getFooter:()=>rs.getFooter(Et),getFormWrapper:()=>{const xo=rs.getBody(Et);return yn.getCurrent(xo).getOr(xo)},toggleFullscreen:()=>{j5(Et,te.get())}},Xt=G5($t,q.redial,je);return{dialog:Et,instanceApi:Xt}})({dataValidator:A,initialData:B,internalDialog:E},{redial:db.redial,closeWindow:()=>{rs.hide(L.dialog),_(L.instanceApi)}},n.backstages.dialog);return rs.show(L.dialog),L.instanceApi.setData(B),L.instanceApi},y),p=(y,_,E,C)=>db.open((A,B,L)=>{const U=O4(B,L),q=dn(),ee=n.backstages.popup.shared.header.isPositionedAtTop(),W=()=>q.on(te=>{Vr.reposition(te),i&&ee||Br.refresh(te)}),Z=K5({dataValidator:L,initialData:U,internalDialog:A},{redial:db.redial,closeWindow:()=>{q.on(Vr.hide),s.off("ResizeEditor",W),q.clear(),E(Z.instanceApi)}},n.backstages.popup,C.ariaAttrs,W),X=Aa(Vr.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:at([Po("window-manager-inline-events",[Le(ju(),(te,ne)=>{Bo(Z.dialog,vp)})]),...KB(s,i,ee)]),isExtraPart:(te,ne)=>Y5(ne)}));return q.set(X),Vr.showWithinBounds(X,Mi(Z.dialog),{anchor:_},()=>{const te=s.inline?Sa():kt(s.getContainer()),ne=ds(te);return O.some(ne)}),i&&ee||(Br.refresh(X),s.on("ResizeEditor",W)),Z.instanceApi.setData(U),qt.focusIn(Z.dialog),Z.instanceApi},y),b=(y,_,E,C)=>db.open((A,B,L)=>{const U=O4(B,L),q=dn(),ee=n.backstages.popup.shared.header.isPositionedAtTop(),W=()=>q.on(te=>{Vr.reposition(te),Br.refresh(te)}),Z=K5({dataValidator:L,initialData:U,internalDialog:A},{redial:db.redial,closeWindow:()=>{q.on(Vr.hide),s.off("ResizeEditor ScrollWindow ElementScroll",W),q.clear(),E(Z.instanceApi)}},n.backstages.popup,C.ariaAttrs,W),X=Aa(Vr.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:at([Po("window-manager-inline-events",[Le(ju(),(te,ne)=>{Bo(Z.dialog,vp)})]),Br.config({contextual:{lazyContext:()=>O.some(ds(kt(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:te=>lg(s,te.element).map(ne=>({bounds:cg(ne),optScrollEnv:O.some({currentScrollTop:ne.element.dom.scrollTop,scrollElmTop:Pe(ne.element).top})})).getOrThunk(()=>({bounds:Rs(),optScrollEnv:O.none()}))})]),isExtraPart:(te,ne)=>Y5(ne)}));return q.set(X),Vr.showWithinBounds(X,Mi(Z.dialog),{anchor:_},()=>n.backstages.popup.shared.getSink().toOptional().bind(te=>{const ne=lg(s,te.element).map(je=>cg(je)).getOr(Rs()),pe=ds(kt(s.getContentAreaContainer())),_e=$l(pe,ne);return O.some($o(_e.x,_e.y,_e.width,_e.height-15))})),Br.refresh(X),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",W),Z.instanceApi.setData(U),qt.focusIn(Z.dialog),Z.instanceApi},y);return{open:(y,_,E)=>{if(!Ur(_)){if(_.inline==="toolbar")return p(y,n.backstages.popup.shared.anchors.inlineDialog(),E,_);if(_.inline==="bottom")return b(y,n.backstages.popup.shared.anchors.inlineBottomDialog(),E,_);if(_.inline==="cursor")return p(y,n.backstages.popup.shared.anchors.cursor(),E,_)}return f(y,E)},openUrl:(y,_)=>((E,C)=>db.openUrl(A=>{const B=GB(A,{closeWindow:()=>{rs.hide(B.dialog),C(B.instanceApi)}},s,n.backstages.dialog);return rs.show(B.dialog),B.instanceApi},E))(y,_),alert:(y,_)=>{l.open(y,_)},close:y=>{y.close()},confirm:(y,_)=>{u.open(y,_)}}};ou.add("silver",n=>{(b=>{o3(b),(y=>{const _=y.options.register,E=A=>cr(A,ko)?{value:hD(A),valid:!0}:{valid:!1,message:"Must be an array of strings."},C=A=>cn(A)&&A>0?{value:A,valid:!0}:{valid:!1,message:"Must be a positive number."};_("color_map",{processor:E,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),_("color_map_background",{processor:E}),_("color_map_foreground",{processor:E}),_("color_cols",{processor:C,default:qx(y)}),_("color_cols_foreground",{processor:C,default:Cz(y,f2)}),_("color_cols_background",{processor:C,default:Cz(y,m2)}),_("custom_colors",{processor:"boolean",default:!0}),_("color_default_foreground",{processor:"string",default:O0}),_("color_default_background",{processor:"string",default:O0})})(b),(y=>{const _=y.options.register;_("contextmenu_avoid_overlap",{processor:"string",default:""}),_("contextmenu_never_use_native",{processor:"boolean",default:!1}),_("contextmenu",{processor:E=>E===!1?{value:[],valid:!0}:ko(E)||cr(E,ko)?{value:vA(E),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(b)})(n);let s=()=>Rs();const{dialogs:i,popups:l,renderUI:u}=rB(n,{getPopupSinkBounds:()=>s()});jz(n,l.backstage.shared);const f=YB({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=dn();return{renderUI:()=>{const b=u();return lg(n,l.getMothership().element).each(y=>{s=()=>cg(y)}),b},getWindowManagerImpl:ue(f),getNotificationManagerImpl:()=>O3(n,{backstage:l.backstage},l.getMothership(),p)}})})();(function(){var ia=tinymce.util.Tools.resolve("tinymce.ModelManager");const Ls=m=>h=>(x=>{const S=typeof x;return x===null?"null":S==="object"&&Array.isArray(x)?"array":S==="object"&&(N=R=x,(F=String).prototype.isPrototypeOf(N)||((j=R.constructor)===null||j===void 0?void 0:j.name)===F.name)?"string":S;var N,R,F,j})(h)===m,ui=m=>h=>typeof h===m,Is=m=>h=>m===h,Yn=Ls("string"),ko=Ls("object"),tr=Ls("array"),nr=Is(null),Kr=ui("boolean"),Xn=Is(void 0),pn=m=>!(h=>h==null)(m),Ur=ui("function"),Fs=ui("number"),Bt=()=>{},so=m=>()=>m,cn=m=>m,cr=(m,h)=>m===h;function st(m,...h){return(...x)=>{const S=h.concat(x);return m.apply(null,S)}}const uo=m=>h=>!m(h),Tt=m=>m(),ue=so(!1),Dt=so(!0);class ye{constructor(h,x){this.tag=h,this.value=x}static some(h){return new ye(!0,h)}static none(){return ye.singletonNone}fold(h,x){return this.tag?x(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ye.some(h(this.value)):ye.none()}bind(h){return this.tag?h(this.value):ye.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ye.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return pn(h)?ye.some(h):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const ht=Array.prototype.slice,ss=Array.prototype.indexOf,gr=Array.prototype.push,Lo=(m,h)=>{return x=m,S=h,ss.call(x,S)>-1;var x,S},Fe=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return!0;return!1},Pt=(m,h)=>{const x=[];for(let S=0;S<m;S++)x.push(h(S));return x},O=(m,h)=>{const x=m.length,S=new Array(x);for(let N=0;N<x;N++){const R=m[N];S[N]=h(R,N)}return S},ot=(m,h)=>{for(let x=0,S=m.length;x<S;x++)h(m[x],x)},Qe=(m,h)=>{const x=[],S=[];for(let N=0,R=m.length;N<R;N++){const F=m[N];(h(F,N)?x:S).push(F)}return{pass:x,fail:S}},Ft=(m,h)=>{const x=[];for(let S=0,N=m.length;S<N;S++){const R=m[S];h(R,S)&&x.push(R)}return x},Zo=(m,h,x)=>(((S,N)=>{for(let R=S.length-1;R>=0;R--)N(S[R],R)})(m,(S,N)=>{x=h(x,S,N)}),x),$e=(m,h,x)=>(ot(m,(S,N)=>{x=h(x,S,N)}),x),Oo=(m,h)=>((x,S,N)=>{for(let R=0,F=x.length;R<F;R++){const j=x[R];if(S(j,R))return ye.some(j);if(N(j,R))break}return ye.none()})(m,h,ue),la=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return ye.some(x);return ye.none()},wt=m=>{const h=[];for(let x=0,S=m.length;x<S;++x){if(!tr(m[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+m);gr.apply(h,m[x])}return h},et=(m,h)=>wt(O(m,h)),St=(m,h)=>{for(let x=0,S=m.length;x<S;++x)if(h(m[x],x)!==!0)return!1;return!0},as=(m,h)=>{const x={};for(let S=0,N=m.length;S<N;S++){const R=m[S];x[String(R)]=h(R,S)}return x},gn=(m,h)=>h>=0&&h<m.length?ye.some(m[h]):ye.none(),hn=m=>gn(m,0),wo=m=>gn(m,m.length-1),H=(m,h)=>{for(let x=0;x<m.length;x++){const S=h(m[x],x);if(S.isSome())return S}return ye.none()},wa=Object.keys,Cr=Object.hasOwnProperty,xn=(m,h)=>{const x=wa(m);for(let S=0,N=x.length;S<N;S++){const R=x[S];h(m[R],R)}},$i=(m,h)=>Bl(m,(x,S)=>({k:S,v:h(x,S)})),Bl=(m,h)=>{const x={};return xn(m,(S,N)=>{const R=h(S,N);x[R.k]=R.v}),x},tn=(m,h)=>{const x=[];return xn(m,(S,N)=>{x.push(h(S,N))}),x},Sn=m=>tn(m,cn),Ko=(m,h)=>Cr.call(m,h),Te=typeof window<"u"?window:Function("return this;")(),yt=(m,h)=>((x,S)=>{let N=S??Te;for(let R=0;R<x.length&&N!=null;++R)N=N[x[R]];return N})(m.split("."),h),tt=Object.getPrototypeOf,Xe=m=>{const h=yt("ownerDocument.defaultView",m);return ko(m)&&((x=>((S,N)=>{const R=((F,j)=>yt(F,j))(S,N);if(R==null)throw new Error(S+" not available on this browser");return R})("HTMLElement",x))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(tt(m).constructor.name))},Wt=m=>m.dom.nodeName.toLowerCase(),ao=m=>m.dom.nodeType,jo=m=>h=>ao(h)===m,En=m=>ao(m)===8||Wt(m)==="#comment",Jn=m=>In(m)&&Xe(m.dom),In=jo(1),Tn=jo(3),Yr=jo(9),Ys=jo(11),Fn=m=>h=>In(h)&&Wt(h)===m,Sr=(m,h,x)=>{if(!(Yn(x)||Kr(x)||Fs(x)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",x,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,x+"")},Yo=(m,h,x)=>{Sr(m.dom,h,x)},Xs=(m,h)=>{const x=m.dom;xn(h,(S,N)=>{Sr(x,N,S)})},ct=(m,h)=>{const x=m.dom.getAttribute(h);return x===null?void 0:x},Co=(m,h)=>ye.from(ct(m,h)),Vo=(m,h)=>{m.dom.removeAttribute(h)},Hs=m=>$e(m.dom.attributes,(h,x)=>(h[x.name]=x.value,h),{}),fi=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},nt={fromHtml:(m,h)=>{const x=(h||document).createElement("div");if(x.innerHTML=m,!x.hasChildNodes()||x.childNodes.length>1){const S="HTML does not have a single root node";throw console.error(S,m),new Error(S)}return fi(x.childNodes[0])},fromTag:(m,h)=>{const x=(h||document).createElement(m);return fi(x)},fromText:(m,h)=>{const x=(h||document).createTextNode(m);return fi(x)},fromDom:fi,fromPoint:(m,h,x)=>ye.from(m.dom.elementFromPoint(h,x)).map(fi)},Xa=(m,h)=>{const x=m.dom;if(x.nodeType!==1)return!1;{const S=x;if(S.matches!==void 0)return S.matches(h);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(h);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(h);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Fo=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,Ti=(m,h)=>{const x=h===void 0?document:h.dom;return Fo(x)?ye.none():ye.from(x.querySelector(m)).map(nt.fromDom)},Vn=(m,h)=>m.dom===h.dom,is=(m,h)=>{const x=m.dom,S=h.dom;return x!==S&&x.contains(S)},ul=Xa,nl=m=>nt.fromDom(m.dom.ownerDocument),Oi=m=>Yr(m)?m:nl(m),mi=m=>ye.from(m.dom.parentNode).map(nt.fromDom),fl=m=>ye.from(m.dom.parentElement).map(nt.fromDom),Nn=(m,h)=>{const x=Ur(h)?h:ue;let S=m.dom;const N=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const R=S.parentNode,F=nt.fromDom(R);if(N.push(F),x(F)===!0)break;S=R}return N},mo=m=>ye.from(m.dom.previousSibling).map(nt.fromDom),Ba=m=>ye.from(m.dom.nextSibling).map(nt.fromDom),Os=m=>O(m.dom.childNodes,nt.fromDom),ud=(m,h)=>{const x=m.dom.childNodes;return ye.from(x[h]).map(nt.fromDom)},kt=(m,h)=>{mi(m).each(x=>{x.dom.insertBefore(h.dom,m.dom)})},_s=(m,h)=>{Ba(m).fold(()=>{mi(m).each(x=>{hr(x,h)})},x=>{kt(x,h)})},Jd=(m,h)=>{(S=>ud(S,0))(m).fold(()=>{hr(m,h)},S=>{m.dom.insertBefore(h.dom,S.dom)})},hr=(m,h)=>{m.dom.appendChild(h.dom)},fd=(m,h)=>{kt(m,h),hr(h,m)},Ja=(m,h)=>{ot(h,(x,S)=>{const N=S===0?m:h[S-1];_s(N,x)})},Vi=(m,h)=>{ot(h,x=>{hr(m,x)})},pi=m=>{m.dom.textContent="",ot(Os(m),h=>{rr(h)})},rr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},ca=m=>{const h=Os(m);h.length>0&&Ja(m,h),rr(m)},Qa=(m,h)=>nt.fromDom(m.dom.cloneNode(h)),Qd=m=>Qa(m,!1),cc=m=>Qa(m,!0),gi=(m,h)=>{const x=nt.fromTag(h),S=Hs(m);return Xs(x,S),x},eu=["tfoot","thead","tbody","colgroup"],Hc=(m,h,x)=>({element:m,rowspan:h,colspan:x}),kn=(m,h,x)=>({element:m,cells:h,section:x}),Xr=(m,h,x)=>({element:m,isNew:h,isLocked:x}),da=(m,h,x,S)=>({element:m,cells:h,section:x,isNew:S}),Bu=m=>nt.fromDom(m.dom.host),ji=m=>{const h=Tn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const x=h.ownerDocument;return(R=>{const F=(Q=>nt.fromDom(Q.dom.getRootNode()))(R);return Ys(j=F)&&pn(j.dom.host)?ye.some(F):ye.none();var j})(nt.fromDom(h)).fold(()=>x.body.contains(h),(S=ji,N=Bu,R=>S(N(R))));var S,N},md=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return nt.fromDom(h)},As=(m,h)=>{let x=[];return ot(Os(m),S=>{h(S)&&(x=x.concat([S])),x=x.concat(As(S,h))}),x},ua=(m,h,x)=>((S,N,R)=>Ft(Nn(S,R),F=>Xa(F,h)))(m,0,x),hi=(m,h)=>((x,S)=>Ft(Os(x),N=>Xa(N,h)))(m),Rn=(m,h)=>((x,S)=>{const N=S===void 0?document:S.dom;return Fo(N)?[]:O(N.querySelectorAll(x),nt.fromDom)})(h,m);var sr=(m,h,x,S,N)=>m(x,S)?ye.some(x):Ur(N)&&N(x)?ye.none():h(x,S,N);const Ui=(m,h,x)=>{let S=m.dom;const N=Ur(x)?x:ue;for(;S.parentNode;){S=S.parentNode;const R=nt.fromDom(S);if(h(R))return ye.some(R);if(N(R))break}return ye.none()},dc=(m,h,x)=>sr((S,N)=>N(S),Ui,m,h,x),ls=(m,h,x)=>Ui(m,S=>Xa(S,h),x),ml=(m,h)=>((x,S)=>Oo(x.dom.childNodes,N=>{return R=nt.fromDom(N),Xa(R,h);var R}).map(nt.fromDom))(m),Tr=(m,h)=>Ti(h,m),bn=(m,h,x)=>sr((S,N)=>Xa(S,N),ls,m,h,x),bi=(m,h,x=cr)=>m.exists(S=>x(S,h)),Ca=m=>{const h=[],x=S=>{h.push(S)};for(let S=0;S<m.length;S++)m[S].each(x);return h},Ns=(m,h)=>m?ye.some(h):ye.none(),Sa=(m,h,x)=>h===""||m.length>=h.length&&m.substr(x,x+h.length)===h,Fr=(m,h,x=0,S)=>{const N=m.indexOf(h,x);return N!==-1&&(!!Xn(S)||N+h.length<=S)},pd=(m,h)=>Sa(m,h,0),to=(m,h)=>Sa(m,h,m.length-h.length),pl=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),cs=m=>m.length>0,Er=m=>m.style!==void 0&&Ur(m.style.getPropertyValue),$c=(m,h,x)=>{if(!Yn(x))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",x,":: Element ",m),new Error("CSS value must be a string: "+x);Er(m)&&m.style.setProperty(h,x)},Wo=(m,h,x)=>{const S=m.dom;$c(S,h,x)},Pl=(m,h)=>{const x=m.dom;xn(h,(S,N)=>{$c(x,N,S)})},fa=(m,h)=>{const x=m.dom,S=window.getComputedStyle(x).getPropertyValue(h);return S!==""||ji(m)?S:po(x,h)},po=(m,h)=>Er(m)?m.style.getPropertyValue(h):"",Ai=(m,h)=>{const x=m.dom,S=po(x,h);return ye.from(S).filter(N=>N.length>0)},ei=(m,h)=>{((x,S)=>{Er(x)&&x.style.removeProperty(S)})(m.dom,h),bi(Co(m,"style").map(pl),"")&&Vo(m,"style")},br=(m,h,x=0)=>Co(m,h).map(S=>parseInt(S,10)).getOr(x),Ll=(m,h)=>br(m,h,1),Hr=m=>Fn("col")(m)?br(m,"span",1)>1:Ll(m,"colspan")>1,uc=(m,h)=>parseInt(fa(m,h),10),$s=so(10),_n=so(10),gl=(m,h)=>Vc(m,h,Dt),Vc=(m,h,x)=>et(Os(m),S=>Xa(S,h)?x(S)?[S]:[]:Vc(S,h,x)),gd=(m,h)=>((x,S,N=ue)=>N(S)?ye.none():Lo(x,Wt(S))?ye.some(S):ls(S,x.join(","),R=>Xa(R,"table")||N(R)))(["td","th"],m,h),yr=m=>gl(m,"th,td"),Ea=m=>Xa(m,"colgroup")?hi(m,"col"):et(xe(m),h=>hi(h,"col")),G=(m,h)=>bn(m,"table",h),ae=m=>gl(m,"tr"),xe=m=>G(m).fold(so([]),h=>hi(h,"colgroup")),Pe=(m,h)=>O(m,x=>{if(Wt(x)==="colgroup"){const S=O(Ea(x),N=>{const R=br(N,"span",1);return Hc(N,1,R)});return kn(x,S,"colgroup")}{const S=O(yr(x),N=>{const R=br(N,"rowspan",1),F=br(N,"colspan",1);return Hc(N,R,F)});return kn(x,S,h(x))}}),rt=m=>mi(m).map(h=>{const x=Wt(h);return(S=>Lo(eu,S))(x)?x:"tbody"}).getOr("tbody"),Lt=m=>{const h=ae(m),x=[...xe(m),...h];return Pe(x,rt)},No=m=>{let h,x=!1;return(...S)=>(x||(x=!0,h=m.apply(null,S)),h)},Dn=()=>Ho(0,0),Ho=(m,h)=>({major:m,minor:h}),jn={nu:Ho,detect:(m,h)=>{const x=String(h).toLowerCase();return m.length===0?Dn():((S,N)=>{const R=((j,Q)=>{for(let le=0;le<j.length;le++){const be=j[le];if(be.test(Q))return be}})(S,N);if(!R)return{major:0,minor:0};const F=j=>Number(N.replace(R,"$"+j));return Ho(F(1),F(2))})(m,x)},unknown:Dn},$r=(m,h)=>{const x=String(h).toLowerCase();return Oo(m,S=>S.search(x))},Mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rl=m=>h=>Fr(h,m),Il=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>Fr(m,"edge/")&&Fr(m,"chrome")&&Fr(m,"safari")&&Fr(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mo],search:m=>Fr(m,"chrome")&&!Fr(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>Fr(m,"msie")||Fr(m,"trident")},{name:"Opera",versionRegexes:[Mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rl("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rl("firefox")},{name:"Safari",versionRegexes:[Mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(Fr(m,"safari")||Fr(m,"mobile/"))&&Fr(m,"applewebkit")}],fc=[{name:"Windows",search:rl("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>Fr(m,"iphone")||Fr(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rl("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rl("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rl("linux"),versionRegexes:[]},{name:"Solaris",search:rl("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rl("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rl("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mm={browsers:so(Il),oses:so(fc)},Ig="Edge",Ni="Chromium",Bm="Opera",Fg="Firefox",Sf="Safari",Mp=m=>{const h=m.current,x=m.version,S=N=>()=>h===N;return{current:h,version:x,isEdge:S(Ig),isChromium:S(Ni),isIE:S("IE"),isOpera:S(Bm),isFirefox:S(Fg),isSafari:S(Sf)}},ft=()=>Mp({current:void 0,version:jn.unknown()}),hd=Mp,bd="Windows",Ef="Android",ma="Linux",yd="macOS",tu="Solaris",Hg="FreeBSD",Bp="ChromeOS",Pp=m=>{const h=m.current,x=m.version,S=N=>()=>h===N;return{current:h,version:x,isWindows:S(bd),isiOS:S("iOS"),isAndroid:S(Ef),isMacOS:S(yd),isLinux:S(ma),isSolaris:S(tu),isFreeBSD:S(Hg),isChromeOS:S(Bp)}},bb=()=>Pp({current:void 0,version:jn.unknown()}),$g=Pp,yb=m=>window.matchMedia(m).matches;let zf=No(()=>((m,h,x)=>{const S=Mm.browsers(),N=Mm.oses(),R=h.bind(Q=>((le,be)=>H(be.brands,se=>{const ce=se.brand.toLowerCase();return Oo(le,fe=>{var Ce;return ce===((Ce=fe.brand)===null||Ce===void 0?void 0:Ce.toLowerCase())}).map(fe=>({current:fe.name,version:jn.nu(parseInt(se.version,10),0)}))}))(S,Q)).orThunk(()=>((Q,le)=>$r(Q,le).map(be=>{const se=jn.detect(be.versionRegexes,le);return{current:be.name,version:se}}))(S,m)).fold(ft,hd),F=((Q,le)=>$r(Q,le).map(be=>{const se=jn.detect(be.versionRegexes,le);return{current:be.name,version:se}}))(N,m).fold(bb,$g),j=((Q,le,be,se)=>{const ce=Q.isiOS()&&/ipad/i.test(be)===!0,fe=Q.isiOS()&&!ce,Ce=Q.isiOS()||Q.isAndroid(),Se=Ce||se("(pointer:coarse)"),qe=ce||!fe&&Ce&&se("(min-device-width:768px)"),Ge=fe||Ce&&!qe,We=le.isSafari()&&Q.isiOS()&&/safari/i.test(be)===!1,Ye=!Ge&&!qe&&!We;return{isiPad:so(ce),isiPhone:so(fe),isTablet:so(qe),isPhone:so(Ge),isTouch:so(Se),isAndroid:Q.isAndroid,isiOS:Q.isiOS,isWebView:so(We),isDesktop:so(Ye)}})(F,R,m,x);return{browser:R,os:F,deviceType:j}})(window.navigator.userAgent,ye.from(window.navigator.userAgentData),yb));const Fl=()=>zf(),jc=(m,h)=>{const x=N=>{const R=h(N);if(R<=0||R===null){const F=fa(N,m);return parseFloat(F)||0}return R},S=(N,R)=>$e(R,(F,j)=>{const Q=fa(N,j),le=Q===void 0?0:parseInt(Q,10);return isNaN(le)?F:F+le},0);return{set:(N,R)=>{if(!Fs(R)&&!R.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+R);const F=N.dom;Er(F)&&(F.style[m]=R+"px")},get:x,getOuter:x,aggregate:S,max:(N,R,F)=>{const j=S(N,F);return R>j?R-j:0}}},Hl=(m,h,x)=>((S,N)=>(R=>{const F=parseFloat(R);return isNaN(F)?ye.none():ye.some(F)})(S).getOr(N))(fa(m,h),x),Vs=jc("width",m=>m.dom.offsetWidth),yi=m=>Vs.get(m),vd=m=>Vs.getOuter(m),rn=m=>((h,x)=>{const S=h.dom,N=S.getBoundingClientRect().width||S.offsetWidth;return x==="border-box"?N:((R,F,j,Q)=>F-Hl(R,`padding-${j}`,0)-Hl(R,`padding-${Q}`,0)-Hl(R,`border-${j}-width`,0)-Hl(R,`border-${Q}-width`,0))(h,N,"left","right")})(m,"content-box"),hl=(m,h,x)=>{const S=m.cells,N=S.slice(0,h),R=S.slice(h),F=N.concat(x).concat(R);return ti(m,F)},Pu=(m,h,x)=>hl(m,h,[x]),Lu=(m,h,x)=>{m.cells[h]=x},ti=(m,h)=>da(m.element,h,m.section,m.isNew),Jr=(m,h)=>m.cells[h],vr=(m,h)=>Jr(m,h).element,Js=m=>m.cells.length,ar=m=>{const h=Qe(m,x=>x.section==="colgroup");return{rows:h.fail,cols:h.pass}},xd=(m,h,x)=>{const S=O(m.cells,x);return da(h(m.element),S,m.section,!0)},kd="data-snooker-locked-cols",ws=m=>Co(m,kd).bind(h=>ye.from(h.match(/\d+/g))).map(h=>as(h,Dt)),Pa=m=>{const h=$e(ar(m).rows,(S,N)=>(ot(N.cells,(R,F)=>{R.isLocked&&(S[F]=!0)}),S),{}),x=tn(h,(S,N)=>parseInt(N,10));return((S,N)=>{const R=ht.call(S,0);return R.sort(void 0),R})(x)},za=(m,h)=>m+","+h,gs=(m,h)=>{const x=et(m.all,S=>S.cells);return Ft(x,h)},Uc=m=>{const h={},x=[],S=hn(m).map(ce=>ce.element).bind(G).bind(ws).getOr({});let N=0,R=0,F=0;const{pass:j,fail:Q}=Qe(m,ce=>ce.section==="colgroup");ot(Q,ce=>{const fe=[];ot(ce.cells,Ce=>{let Se=0;for(;h[za(F,Se)]!==void 0;)Se++;const qe=((We,Ye)=>Ko(We,Ye)&&We[Ye]!==void 0&&We[Ye]!==null)(S,Se.toString()),Ge=((We,Ye,mt,bt,Ee,Nt)=>({element:We,rowspan:Ye,colspan:mt,row:bt,column:Ee,isLocked:Nt}))(Ce.element,Ce.rowspan,Ce.colspan,F,Se,qe);for(let We=0;We<Ce.colspan;We++)for(let Ye=0;Ye<Ce.rowspan;Ye++){const mt=Se+We,bt=za(F+Ye,mt);h[bt]=Ge,R=Math.max(R,mt+1)}fe.push(Ge)}),N++,x.push(kn(ce.element,fe,ce.section)),F++});const{columns:le,colgroups:be}=wo(j).map(ce=>{const fe=(Se=>{const qe={};let Ge=0;return ot(Se.cells,We=>{const Ye=We.colspan;Pt(Ye,mt=>{const bt=Ge+mt;qe[bt]=((Ee,Nt,io)=>({element:Ee,colspan:Nt,column:io}))(We.element,Ye,bt)}),Ge+=Ye}),qe})(ce);return{colgroups:[((Se,qe)=>({element:Se,columns:qe}))(ce.element,Sn(fe))],columns:fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((ce,fe)=>({rows:ce,columns:fe}))(N,R),access:h,all:x,columns:le,colgroups:be}},$o=m=>{const h=Lt(m);return Uc(h)},ds=Uc,La=(m,h,x)=>ye.from(m.access[za(h,x)]),$l=(m,h,x)=>{const S=gs(m,N=>x(h,N.element));return S.length>0?ye.some(S[0]):ye.none()},Rs=gs,Ht=m=>et(m.all,h=>h.cells),bl=m=>Sn(m.columns),yl=m=>wa(m.columns).length>0,dn=(m,h)=>ye.from(m.columns[h]),ou=(m,h=Dt)=>{const x=m.grid,S=Pt(x.columns,cn),N=Pt(x.rows,cn);return O(S,R=>Pm(()=>et(N,F=>La(m,F,R).filter(j=>j.column===R).toArray()),F=>F.colspan===1&&h(F.element),()=>La(m,0,R)))},Pm=(m,h,x)=>{const S=m();return Oo(S,h).orThunk(()=>ye.from(S[0]).orThunk(x)).map(N=>N.element)},Vl=m=>{const h=m.grid,x=Pt(h.rows,cn),S=Pt(h.columns,cn);return O(x,N=>Pm(()=>et(S,R=>La(m,N,R).filter(F=>F.row===N).fold(so([]),F=>[F])),R=>R.rowspan===1,()=>La(m,N,0)))},Uo=(m,h)=>x=>Ta(x)==="rtl"?h:m,Ta=m=>fa(m,"direction")==="rtl"?"rtl":"ltr",Iu=jc("height",m=>{const h=m.dom;return ji(m)?h.getBoundingClientRect().height:h.offsetHeight}),mc=m=>Iu.get(m),Tf=m=>Iu.getOuter(m),vl=(m,h)=>({left:m,top:h,translate:(x,S)=>vl(m+x,h+S)}),Ia=vl,jl=(m,h)=>m!==void 0?m:h!==void 0?h:0,_d=m=>{const h=m.dom.ownerDocument,x=h.body,S=h.defaultView,N=h.documentElement;if(x===m.dom)return Ia(x.offsetLeft,x.offsetTop);const R=jl(S==null?void 0:S.pageYOffset,N.scrollTop),F=jl(S==null?void 0:S.pageXOffset,N.scrollLeft),j=jl(N.clientTop,x.clientTop),Q=jl(N.clientLeft,x.clientLeft);return de(m).translate(F-Q,R-j)},de=m=>{const h=m.dom,x=h.ownerDocument.body;return x===h?Ia(x.offsetLeft,x.offsetTop):ji(m)?(S=>{const N=S.getBoundingClientRect();return Ia(N.left,N.top)})(h):Ia(0,0)},nu=(m,h)=>({row:m,y:h}),Un=(m,h)=>({col:m,x:h}),Lm=m=>_d(m).left+vd(m),Fu=m=>_d(m).left,sl=(m,h)=>Un(m,Fu(h)),on=(m,h)=>Un(m,Lm(h)),pa=m=>_d(m).top,Zi=(m,h)=>nu(m,pa(h)),al=(m,h)=>nu(m,pa(h)+Tf(h)),Ul=(m,h,x)=>{if(x.length===0)return[];const S=O(x.slice(1),(R,F)=>R.map(j=>m(F,j))),N=x[x.length-1].map(R=>h(x.length-1,R));return S.concat([N])},pc={delta:cn,positions:m=>Ul(Zi,al,m),edge:pa},Qs=Uo({delta:cn,edge:Fu,positions:m=>Ul(sl,on,m)},{delta:m=>-m,edge:Lm,positions:m=>Ul(on,sl,m)}),wd={delta:(m,h)=>Qs(h).delta(m,h),positions:(m,h)=>Qs(h).positions(m,h),edge:m=>Qs(m).edge(m)},Hu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Of=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,x=N=>`(?:${N})?`,S=["Infinity",m+"\\."+x(m)+x(h),"\\."+m+x(h),m+x(h)].join("|");return new RegExp(`^([+-]?(?:${S}))(.*)$`)})(),Ds=/(\d+(\.\d+)?)%/,Kt=/(\d+(\.\d+)?)px|em/,gc=Fn("col"),ru=Fn("tr"),ga=(m,h,x)=>{const S=fl(m).getOrThunk(()=>md(nl(m)));return h(m)/x(S)*100},hc=(m,h)=>{Wo(m,"width",h+"px")},Ri=(m,h)=>{Wo(m,"width",h+"%")},bc=(m,h)=>{Wo(m,"height",h+"px")},Zc=m=>{const h=(x=>{return Hl(S=x,"height",S.dom.offsetHeight)+"px";var S})(m);return h?((x,S,N,R)=>{const F=parseFloat(x);return to(x,"%")&&Wt(S)!=="table"?((j,Q,le,be)=>{const se=G(j).map(ce=>{const fe=le(ce);return Math.floor(Q/100*fe)}).getOr(Q);return be(j,se),se})(S,F,N,R):F})(h,m,mc,bc):mc(m)},Ms=(m,h)=>Ai(m,h).orThunk(()=>Co(m,h).map(x=>x+"px")),il=m=>Ms(m,"width"),Zl=m=>ga(m,yi,rn),su=m=>{return gc(m)?yi(m):Hl(h=m,"width",h.dom.offsetWidth);var h},Lp=m=>ru(m)?mc(m):((h,x,S)=>S(h)/Ll(h,"rowspan"))(m,0,Zc),yc=(m,h,x)=>{Wo(m,"width",h+x)},Cd=m=>ga(m,yi,rn)+"%",$u=so(Ds),xr=Fn("col"),Fa=m=>il(m).getOrThunk(()=>su(m)+"px"),ea=m=>{return(h=m,Ms(h,"height")).getOrThunk(()=>Lp(m)+"px");var h},oi=(m,h,x,S,N,R)=>m.filter(S).fold(()=>R(((F,j)=>{if(j<0||j>=F.length-1)return ye.none();const Q=F[j].fold(()=>{const be=(se=>{const ce=ht.call(se,0);return ce.reverse(),ce})(F.slice(0,j));return H(be,(se,ce)=>se.map(fe=>({value:fe,delta:ce+1})))},be=>ye.some({value:be,delta:0})),le=F[j+1].fold(()=>{const be=F.slice(j+1);return H(be,(se,ce)=>se.map(fe=>({value:fe,delta:ce+1})))},be=>ye.some({value:be,delta:1}));return Q.bind(be=>le.map(se=>{const ce=se.delta+be.delta;return Math.abs(se.value-be.value)/ce}))})(x,h)),F=>N(F)),us=(m,h,x,S)=>{const N=ou(m),R=yl(m)?(Q=>O(bl(Q),le=>ye.from(le.element)))(m):N,F=[ye.some(wd.edge(h))].concat(O(wd.positions(N,h),Q=>Q.map(le=>le.x))),j=uo(Hr);return O(R,(Q,le)=>oi(Q,le,F,j,be=>{if((ce=>{const fe=Fl().browser,Ce=fe.isChromium()||fe.isFirefox();return!xr(ce)||Ce})(be))return x(be);{const ce=(se=N[le])!=null?cn(se):ye.none();return oi(ce,le,F,j,fe=>S(ye.some(yi(fe))),S)}var se},S))},Af=m=>m.map(h=>h+"px").getOr(""),Qr=(m,h,x)=>us(m,h,su,S=>S.getOrThunk(x.minCellWidth)),ta=(m,h,x,S)=>{const N=Vl(m),R=O(m.all,j=>ye.some(j.element)),F=[ye.some(pc.edge(h))].concat(O(pc.positions(N,h),j=>j.map(Q=>Q.y)));return O(R,(j,Q)=>oi(j,Q,F,Dt,x,S))},xl=(m,h)=>()=>ji(m)?h(m):parseFloat(Ai(m,"width").getOr("0")),Ue=m=>{const h=xl(m,S=>parseFloat(Cd(S))),x=xl(m,yi);return{width:h,pixelWidth:x,getWidths:(S,N)=>((R,F,j)=>us(R,F,Zl,Q=>Q.fold(()=>j.minCellWidth(),le=>le/j.pixelWidth()*100)))(S,m,N),getCellDelta:S=>S/x()*100,singleColumnWidth:(S,N)=>[100-S],minCellWidth:()=>$s()/x()*100,setElementWidth:Ri,adjustTableWidth:S=>{const N=h();Ri(m,N+S/100*N)},isRelative:!0,label:"percent"}},js=m=>{const h=xl(m,yi);return{width:h,pixelWidth:h,getWidths:(x,S)=>Qr(x,m,S),getCellDelta:cn,singleColumnWidth:(x,S)=>[Math.max($s(),x+S)-x],minCellWidth:$s,setElementWidth:hc,adjustTableWidth:x=>{const S=h()+x;hc(m,S)},isRelative:!1,label:"pixel"}},au=m=>il(m).fold(()=>(h=>{const x=xl(h,yi),S=so(0);return{width:x,pixelWidth:x,getWidths:(N,R)=>Qr(N,h,R),getCellDelta:S,singleColumnWidth:so([0]),minCellWidth:S,setElementWidth:Bt,adjustTableWidth:Bt,isRelative:!0,label:"none"}})(m),h=>((x,S)=>$u().exec(S)!==null?Ue(x):js(x))(m,h)),Or=js,kl=Ue,Ha=(m,h,x)=>{const S=m[x].element,N=nt.fromTag("td");hr(N,nt.fromTag("br")),(h?hr:Jd)(S,N)},_l=((m,h)=>{const x=S=>m(S)?ye.from(S.dom.nodeValue):ye.none();return{get:S=>{if(!m(S))throw new Error("Can only get text value of a text node");return x(S).getOr("")},getOption:x,set:(S,N)=>{if(!m(S))throw new Error("Can only set raw text value of a text node");S.dom.nodeValue=N}}})(Tn),iu=m=>_l.get(m),ni=m=>_l.getOption(m),Xo=(m,h)=>_l.set(m,h),es=m=>Wt(m)==="img"?1:ni(m).fold(()=>Os(m).length,h=>h.length),vc=["img","br"],Ar=m=>ni(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Lo(vc,Wt(m))||(h=>Jn(h)&&ct(h,"contenteditable")==="false")(m),Vu=m=>((h,x)=>{const S=N=>{for(let R=0;R<N.childNodes.length;R++){const F=nt.fromDom(N.childNodes[R]);if(x(F))return ye.some(F);const j=S(N.childNodes[R]);if(j.isSome())return j}return ye.none()};return S(h.dom)})(m,Ar),Wl=m=>Im(m,Ar),Im=(m,h)=>{const x=S=>{const N=Os(S);for(let R=N.length-1;R>=0;R--){const F=N[R];if(h(F))return ye.some(F);const j=x(F);if(j.isSome())return j}return ye.none()};return x(m)},Nr={scope:["row","col"]},we=m=>()=>{const h=nt.fromTag("td",m.dom);return hr(h,nt.fromTag("br",m.dom)),h},$a=m=>()=>nt.fromTag("col",m.dom),ts=m=>()=>nt.fromTag("colgroup",m.dom),vi=m=>()=>nt.fromTag("tr",m.dom),wl=(m,h,x)=>{const S=((N,R)=>{const F=gi(N,R),j=Os(cc(N));return Vi(F,j),F})(m,h);return xn(x,(N,R)=>{N===null?Vo(S,R):Yo(S,R,N)}),S},fs=m=>m,ir=(m,h,x)=>{const S=(N,R)=>{((F,j)=>{const Q=F.dom,le=j.dom;Er(Q)&&Er(le)&&(le.style.cssText=Q.style.cssText)})(N.element,R),ei(R,"height"),N.colspan!==1&&ei(R,"width")};return{col:N=>{const R=nt.fromTag(Wt(N.element),h.dom);return S(N,R),m(N.element,R),R},colgroup:ts(h),row:vi(h),cell:N=>{const R=nt.fromTag(Wt(N.element),h.dom),F=x.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),j=F.length>0?((Q,le,be)=>Vu(Q).map(se=>{const ce=be.join(","),fe=ua(se,ce,Ce=>Vn(Ce,Q));return Zo(fe,(Ce,Se)=>{const qe=Qd(Se);return hr(Ce,qe),qe},le)}).getOr(le))(N.element,R,F):R;return hr(j,nt.fromTag("br")),S(N,R),((Q,le)=>{xn(Nr,(be,se)=>Co(Q,se).filter(ce=>Lo(be,ce)).each(ce=>Yo(le,se,ce)))})(N.element,R),m(N.element,R),R},replace:wl,colGap:$a(h),gap:we(h)}},Mn=m=>({col:$a(m),colgroup:ts(m),row:vi(m),cell:we(m),replace:fs,colGap:$a(m),gap:we(m)}),ha=m=>h=>h.options.get(m),xi="100%",ri=m=>{var h;const x=m.dom,S=(h=x.getParent(m.selection.getStart(),x.isBlock))!==null&&h!==void 0?h:m.getBody();return rn(nt.fromDom(S))+"px"},Wi=m=>ye.from(m.options.get("table_clone_elements")),ql=ha("table_header_type"),xc=ha("table_column_resizing"),Wc=m=>xc(m)==="preservetable",Nf=m=>xc(m)==="resizetable",Rf=ha("table_sizing_mode"),kc=m=>Rf(m)==="relative",w=m=>Rf(m)==="fixed",D=m=>Rf(m)==="responsive",V=ha("table_resize_bars"),ie=ha("table_style_by_css"),me=ha("table_merge_content_on_paste"),Ze=m=>{const h=m.options,x=h.get("table_default_attributes");return h.isSet("table_default_attributes")?x:((S,N)=>D(S)||ie(S)?N:w(S)?{...N,width:ri(S)}:{...N,width:xi})(m,x)},eo=ha("table_use_colgroups"),Eo=m=>bn(m,"[contenteditable]"),go=(m,h=!1)=>ji(m)?m.dom.isContentEditable:Eo(m).fold(so(h),x=>Vt(x)==="true"),Vt=m=>m.dom.contentEditable,zn=m=>nt.fromDom(m.getBody()),Zr=m=>h=>Vn(h,zn(m)),Rr=m=>{Vo(m,"data-mce-style");const h=x=>Vo(x,"data-mce-style");ot(yr(m),h),ot(Ea(m),h),ot(ae(m),h)},Cl=m=>nt.fromDom(m.selection.getStart()),lu=m=>m.getBoundingClientRect().width,Sd=m=>m.getBoundingClientRect().height,Cs=m=>(h,x)=>{const S=h.dom.getStyle(x,m)||h.dom.getAttrib(x,m);return ye.from(S).filter(cs)},Vg=Cs("width"),Fm=Cs("height"),Ip=m=>dc(m,Fn("table")).exists(go),Oa=(m,h)=>{const x=h.column,S=h.column+h.colspan-1,N=h.row,R=h.row+h.rowspan-1;return x<=m.finishCol&&S>=m.startCol&&N<=m.finishRow&&R>=m.startRow},Wr=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,oa=(m,h,x)=>{const S=$l(m,h,Vn),N=$l(m,x,Vn);return S.bind(R=>N.map(F=>{return j=R,Q=F,{startRow:Math.min(j.row,Q.row),startCol:Math.min(j.column,Q.column),finishRow:Math.max(j.row+j.rowspan-1,Q.row+Q.rowspan-1),finishCol:Math.max(j.column+j.colspan-1,Q.column+Q.colspan-1)};var j,Q}))},qc=(m,h,x)=>oa(m,h,x).map(S=>{const N=Rs(m,st(Oa,S));return O(N,R=>R.element)}),Df=(m,h)=>$l(m,h,(x,S)=>is(S,x)).map(x=>x.element),Mf=(m,h,x)=>{const S=si(m);return qc(S,h,x)},Di=(m,h,x,S,N)=>{const R=si(m),F=Vn(m,x)?ye.some(h):Df(R,h),j=Vn(m,N)?ye.some(S):Df(R,S);return F.bind(Q=>j.bind(le=>qc(R,Q,le)))},si=$o;var Bf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],_c=()=>({up:so({selector:ls,closest:bn,predicate:Ui,all:Nn}),down:so({selector:Rn,predicate:As}),styles:so({get:fa,getRaw:Ai,set:Wo,remove:ei}),attrs:so({get:ct,set:Yo,remove:Vo,copyTo:(m,h)=>{const x=Hs(m);Xs(h,x)}}),insert:so({before:kt,after:_s,afterAll:Ja,append:hr,appendAll:Vi,prepend:Jd,wrap:fd}),remove:so({unwrap:ca,remove:rr}),create:so({nu:nt.fromTag,clone:m=>nt.fromDom(m.dom.cloneNode(!1)),text:nt.fromText}),query:so({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:mo,nextSibling:Ba}),property:so({children:Os,name:Wt,parent:mi,document:m=>Oi(m).dom,isText:Tn,isComment:En,isElement:In,isSpecial:m=>{const h=Wt(m);return Lo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>In(m)?Co(m,"lang"):ye.none(),getText:iu,setText:Xo,isBoundary:m=>!!In(m)&&(Wt(m)==="body"||Lo(Bf,Wt(m))),isEmptyTag:m=>!!In(m)&&Lo(["br","img","hr","input"],Wt(m)),isNonEditable:m=>In(m)&&ct(m,"contenteditable")==="false"}),eq:Vn,is:ul});const Jy=(m,h,x,S)=>{const N=h(m,x);return Zo(S,(R,F)=>{const j=h(m,F);return Hm(m,R,j)},N)},Hm=(m,h,x)=>h.bind(S=>x.filter(st(m.eq,S))),Gc=_c(),Ed=(m,h)=>((x,S,N)=>N.length>0?((R,F,j,Q)=>Q(R,F,j[0],j.slice(1)))(x,S,N,Jy):ye.none())(Gc,(x,S)=>m(S),h),It=m=>ls(m,"table"),Gl=(m,h,x)=>{const S=N=>R=>x!==void 0&&x(R)||Vn(R,N);return Vn(m,h)?ye.some({boxes:ye.some([m]),start:m,finish:h}):It(m).bind(N=>It(h).bind(R=>{if(Vn(N,R))return ye.some({boxes:Mf(N,m,h),start:m,finish:h});if(is(N,R)){const F=ua(h,"td,th",S(N)),j=F.length>0?F[F.length-1]:h;return ye.some({boxes:Di(N,m,N,h,R),start:m,finish:j})}if(is(R,N)){const F=ua(m,"td,th",S(R)),j=F.length>0?F[F.length-1]:m;return ye.some({boxes:Di(R,m,N,h,R),start:m,finish:j})}return((F,j,Q)=>((le,be,se,ce=ue)=>{const fe=[be].concat(le.up().all(be)),Ce=[se].concat(le.up().all(se)),Se=Ye=>la(Ye,ce).fold(()=>Ye,mt=>Ye.slice(0,mt+1)),qe=Se(fe),Ge=Se(Ce),We=Oo(qe,Ye=>Fe(Ge,((mt,bt)=>st(mt.eq,bt))(le,Ye)));return{firstpath:qe,secondpath:Ge,shared:We}})(Gc,F,j,void 0))(m,h).shared.bind(F=>bn(F,"table",x).bind(j=>{const Q=ua(h,"td,th",S(j)),le=Q.length>0?Q[Q.length-1]:h,be=ua(m,"td,th",S(j)),se=be.length>0?be[be.length-1]:m;return ye.some({boxes:Di(j,m,N,h,R),start:se,finish:le})}))}))},Pf=(m,h)=>{const x=Rn(m,h);return x.length>0?ye.some(x):ye.none()},zd=(m,h,x)=>Tr(m,h).bind(S=>Tr(m,x).bind(N=>Ed(It,[S,N]).map(R=>({first:S,last:N,table:R})))),ba=(m,h,x,S,N)=>((R,F)=>Oo(R,j=>Xa(j,F)))(m,N).bind(R=>((F,j,Q)=>G(F).bind(le=>((be,se,ce,fe)=>$l(be,se,Vn).bind(Ce=>{const Se=ce>0?Ce.row+Ce.rowspan-1:Ce.row,qe=fe>0?Ce.column+Ce.colspan-1:Ce.column;return La(be,Se+ce,qe+fe).map(Ge=>Ge.element)}))(si(le),F,j,Q)))(R,h,x).bind(F=>((j,Q)=>ls(j,"table").bind(le=>Tr(le,Q).bind(be=>Gl(be,j).bind(se=>se.boxes.map(ce=>({boxes:ce,start:se.start,finish:se.finish}))))))(F,S))),Sl=(m,h)=>Pf(m,h),ju=(m,h,x)=>zd(m,h,x).bind(S=>{const N=Q=>Vn(m,Q),R="thead,tfoot,tbody,table",F=ls(S.first,R,N),j=ls(S.last,R,N);return F.bind(Q=>j.bind(le=>Vn(Q,le)?((be,se,ce)=>((fe,Ce,Se)=>oa(fe,Ce,Se).bind(qe=>((Ge,We)=>{let Ye=!0;const mt=st(Wr,We);for(let bt=We.startRow;bt<=We.finishRow;bt++)for(let Ee=We.startCol;Ee<=We.finishCol;Ee++)Ye=Ye&&La(Ge,bt,Ee).exists(mt);return Ye?ye.some(We):ye.none()})(fe,qe)))(si(be),se,ce))(S.table,S.first,S.last):ye.none()))}),Td=cn,Fp=m=>{const h=(x,S)=>Co(x,S).exists(N=>parseInt(N,10)>1);return m.length>0&&St(m,x=>h(x,"rowspan")||h(x,"colspan"))?ye.some(m):ye.none()},Kl=(m,h,x)=>h.length<=1?ye.none():ju(m,x.firstSelectedSelector,x.lastSelectedSelector).map(S=>({bounds:S,cells:h})),Lf="data-mce-selected",If="data-mce-first-selected",it="data-mce-last-selected",Hp="["+Lf+"]",Od={selected:Lf,selectedSelector:"td["+Lf+"],th["+Lf+"]",firstSelected:If,firstSelectedSelector:"td["+If+"],th["+If+"]",lastSelected:it,lastSelectedSelector:"td["+it+"],th["+it+"]"},Bo=(m,h,x)=>({element:x,mergable:Kl(h,m,Od),unmergable:Fp(m),selection:Td(m)}),jt=m=>(h,x)=>{const S=Wt(h),N=S==="col"||S==="colgroup"?G(R=h).bind(F=>Sl(F,Od.firstSelectedSelector)).fold(so(R),F=>F[0]):h;var R;return bn(N,m,x)},Ad=jt("th,td,caption"),zr=jt("th,td"),El=m=>{return h=m.model.table.getSelectedCells(),O(h,nt.fromDom);var h},zl=(m,h)=>{m.on("BeforeGetContent",x=>{const S=N=>{x.preventDefault(),(R=>G(R[0]).map(F=>{const j=((Q,le)=>{const be=Ye=>Xa(Ye.element,le),se=cc(Q),ce=Lt(se),fe=au(Q),Ce=ds(ce),Se=((Ye,mt)=>{const bt=Ye.grid.columns;let Ee=Ye.grid.rows,Nt=bt,io=0,Do=0;const yo=[],lo=[];return xn(Ye.access,Ro=>{if(yo.push(Ro),mt(Ro)){lo.push(Ro);const ln=Ro.row,Es=ln+Ro.rowspan-1,ii=Ro.column,Na=ii+Ro.colspan-1;ln<Ee?Ee=ln:Es>io&&(io=Es),ii<Nt?Nt=ii:Na>Do&&(Do=Na)}}),((Ro,ln,Es,ii,Na,Ql)=>({minRow:Ro,minCol:ln,maxRow:Es,maxCol:ii,allCells:Na,selectedCells:Ql}))(Ee,Nt,io,Do,yo,lo)})(Ce,be),qe="th:not("+le+"),td:not("+le+")",Ge=Vc(se,"th,td",Ye=>Xa(Ye,qe));ot(Ge,rr),((Ye,mt,bt,Ee)=>{const Nt=Ft(Ye,yo=>yo.section!=="colgroup"),io=mt.grid.columns,Do=mt.grid.rows;for(let yo=0;yo<Do;yo++){let lo=!1;for(let Ro=0;Ro<io;Ro++)yo<bt.minRow||yo>bt.maxRow||Ro<bt.minCol||Ro>bt.maxCol||(La(mt,yo,Ro).filter(Ee).isNone()?Ha(Nt,lo,yo):lo=!0)}})(ce,Ce,Se,be);const We=((Ye,mt,bt,Ee)=>{if(Ee.minCol===0&&mt.grid.columns===Ee.maxCol+1)return 0;const Nt=Qr(mt,Ye,bt),io=$e(Nt,(lo,Ro)=>lo+Ro,0),Do=$e(Nt.slice(Ee.minCol,Ee.maxCol+1),(lo,Ro)=>lo+Ro,0),yo=Do/io*bt.pixelWidth()-bt.pixelWidth();return bt.getCellDelta(yo)})(Q,$o(Q),fe,Se);return((Ye,mt,bt,Ee)=>{xn(bt.columns,io=>{(io.column<mt.minCol||io.column>mt.maxCol)&&rr(io.element)});const Nt=Ft(gl(Ye,"tr"),io=>io.dom.childElementCount===0);ot(Nt,rr),mt.minCol!==mt.maxCol&&mt.minRow!==mt.maxRow||ot(gl(Ye,"th,td"),io=>{Vo(io,"rowspan"),Vo(io,"colspan")}),Vo(Ye,kd),Vo(Ye,"data-snooker-col-series"),au(Ye).adjustTableWidth(Ee)})(se,Se,Ce,We),se})(F,Hp);return Rr(j),[j]}))(N).each(R=>{x.content=x.format==="text"?(F=>O(F,j=>j.dom.innerText).join(""))(R):((F,j)=>O(j,Q=>F.selection.serializer.serialize(Q.dom,{})).join(""))(m,R)})};if(x.selection===!0){const N=(R=>Ft(El(R),F=>Xa(F,Od.selectedSelector)))(m);N.length>=1&&S(N)}}),m.on("BeforeSetContent",x=>{if(x.selection===!0&&x.paste===!0){const S=El(m);hn(S).each(N=>{G(N).each(R=>{const F=Ft(((Q,le)=>{const be=document.createElement("div");return be.innerHTML=Q,Os(nt.fromDom(be))})(x.content),Q=>Wt(Q)!=="meta"),j=Fn("table");if(me(m)&&F.length===1&&j(F[0])){x.preventDefault();const Q=nt.fromDom(m.getDoc()),le=Mn(Q),be=((se,ce,fe)=>({element:se,clipboard:ce,generators:fe}))(N,F[0],le);h.pasteCells(R,be).each(()=>{m.focus()})}})})}})},_o=(m,h)=>({element:m,offset:h}),Uu=(m,h,x)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?x(h).bind(S=>Uu(m,S,x).orThunk(()=>ye.some(S))):ye.none(),vb=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,Le=(m,h)=>{const x=Uu(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(x))return _o(x,vb(m,x));const S=m.property().children(x);return S.length>0?Le(m,S[S.length-1]):_o(x,vb(m,x))},$p=Le,Ff=_c(),Hf=(m,h)=>{Hr(m)||(S=>il(S).bind(N=>{return R=N,F=["fixed","relative","empty"],ye.from(Of.exec(R)).bind(j=>{const Q=Number(j[1]),le=j[2];return((be,se)=>Fe(se,ce=>Fe(Hu[ce],fe=>be===fe)))(le,F)?ye.some({value:Q,unit:le}):ye.none()});var R,F}))(m).each(S=>{const N=S.value/2;yc(m,N,S.unit),yc(h,N,S.unit)})},Zu=m=>O(m,so(0)),cu=(m,h,x,S,N)=>N(m.slice(0,h)).concat(S).concat(N(m.slice(x))),xb=m=>(h,x,S,N)=>{if(m(S)){const R=Math.max(N,h[x]-Math.abs(S)),F=Math.abs(R-h[x]);return S>=0?F:-F}return S},Nd=xb(m=>m<0),dr=xb(Dt),wc=()=>{const m=(x,S,N,R)=>{const F=(100+N)/100,j=Math.max(R,(x[S]+N)/F);return O(x,(Q,le)=>(le===S?j:Q/F)-Q)},h=(x,S,N,R,F,j)=>j?m(x,S,R,F):((Q,le,be,se,ce)=>{const fe=Nd(Q,le,se,ce);return cu(Q,le,be+1,[fe,0],Zu)})(x,S,N,R,F);return{resizeTable:(x,S)=>x(S),clampTableDelta:Nd,calcLeftEdgeDeltas:h,calcMiddleDeltas:(x,S,N,R,F,j,Q)=>h(x,N,R,F,j,Q),calcRightEdgeDeltas:(x,S,N,R,F,j)=>{if(j)return m(x,N,R,F);{const Q=Nd(x,N,R,F);return Zu(x.slice(0,N)).concat([Q])}},calcRedestributedWidths:(x,S,N,R)=>{if(R){const F=(S+N)/S,j=O(x,Q=>Q/F);return{delta:100*F-100,newSizes:j}}return{delta:N,newSizes:x}}}},Vp=()=>{const m=(h,x,S,N,R)=>{const F=dr(h,N>=0?S:x,N,R);return cu(h,x,S+1,[F,-F],Zu)};return{resizeTable:(h,x,S)=>{S&&h(x)},clampTableDelta:(h,x,S,N,R)=>{if(R){if(S>=0)return S;{const F=$e(h,(j,Q)=>j+Q-N,0);return Math.max(-F,S)}}return Nd(h,x,S,N)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,x,S,N,R,F)=>m(h,S,N,R,F),calcRightEdgeDeltas:(h,x,S,N,R,F)=>{if(F)return Zu(h);{const j=N/h.length;return O(h,so(j))}},calcRedestributedWidths:(h,x,S,N)=>({delta:0,newSizes:h})}},Tl=m=>$o(m).grid,du=Fn("th"),ll=m=>St(m,h=>du(h.element)),qr=(m,h)=>m&&h?"sectionCells":m?"section":"cells",uu=m=>{const h=m.section==="thead",x=bi(hs(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||x?{type:"header",subType:qr(h,x)}:{type:"body"}},hs=m=>{const h=Ft(m,x=>du(x.element));return h.length===0?ye.some("td"):h.length===m.length?ye.some("th"):ye.none()},$m=(m,h,x)=>Xr(x(m.element,h),!0,m.isLocked),Ol=(m,h)=>m.section!==h?da(m.element,m.cells,h,m.isNew):m,Us=()=>({transformRow:Ol,transformCell:(m,h,x)=>{const S=x(m.element,h),N=Wt(S)!=="td"?((R,F)=>{const j=gi(R,"td");_s(R,j);const Q=Os(R);return Vi(j,Q),rr(R),j})(S):S;return Xr(N,m.isNew,m.isLocked)}}),at=()=>({transformRow:Ol,transformCell:$m}),fu=()=>({transformRow:(m,h)=>Ol(m,h==="thead"?"tbody":h),transformCell:$m}),Zs=Us,kb=at,k=fu,T=()=>({transformRow:cn,transformCell:$m}),$=(m,h,x,S)=>{x===S?Vo(m,h):Yo(m,h,x)},J=(m,h,x)=>{wo(hi(m,h)).fold(()=>Jd(m,x),S=>_s(S,x))},he=(m,h)=>{const x=[],S=[],N=ce=>O(ce,fe=>{fe.isNew&&x.push(fe.element);const Ce=fe.element;return pi(Ce),ot(fe.cells,Se=>{Se.isNew&&S.push(Se.element),$(Se.element,"colspan",Se.colspan,1),$(Se.element,"rowspan",Se.rowspan,1),hr(Ce,Se.element)}),Ce}),R=ce=>et(ce,fe=>O(fe.cells,Ce=>($(Ce.element,"span",Ce.colspan,1),Ce.element))),F=(ce,fe)=>{const Ce=((qe,Ge)=>{const We=ml(qe,Ge).getOrThunk(()=>{const Ye=nt.fromTag(Ge,nl(qe).dom);return Ge==="thead"?J(qe,"caption,colgroup",Ye):Ge==="colgroup"?J(qe,"caption",Ye):hr(qe,Ye),Ye});return pi(We),We})(m,fe),Se=(fe==="colgroup"?R:N)(ce);Vi(Ce,Se)},j=(ce,fe)=>{ce.length>0?F(ce,fe):(Ce=>{ml(m,Ce).each(rr)})(fe)},Q=[],le=[],be=[],se=[];return ot(h,ce=>{switch(ce.section){case"thead":Q.push(ce);break;case"tbody":le.push(ce);break;case"tfoot":be.push(ce);break;case"colgroup":se.push(ce)}}),j(se,"colgroup"),j(Q,"thead"),j(le,"tbody"),j(be,"tfoot"),{newRows:x,newCells:S}},Ve=(m,h)=>{if(m.length===0)return 0;const x=m[0];return la(m,S=>!h(x.element,S.element)).getOr(m.length)},dt=(m,h)=>{const x=O(m,S=>O(S.cells,ue));return O(m,(S,N)=>{const R=et(S.cells,(F,j)=>{if(x[N][j]===!1){const ce=((fe,Ce,Se,qe)=>{const Ge=((bt,Ee)=>bt[Ee])(fe,Ce),We=Ge.section==="colgroup",Ye=Ve(Ge.cells.slice(Se),qe),mt=We?1:Ve(((bt,Ee)=>O(bt,Nt=>Jr(Nt,Ee)))(fe.slice(Ce),Se),qe);return{colspan:Ye,rowspan:mt}})(m,N,j,h);return((fe,Ce,Se,qe)=>{for(let Ge=fe;Ge<fe+Se;Ge++)for(let We=Ce;We<Ce+qe;We++)x[Ge][We]=!0})(N,j,ce.rowspan,ce.colspan),[(Q=F.element,le=ce.rowspan,be=ce.colspan,se=F.isNew,{element:Q,rowspan:le,colspan:be,isNew:se})]}return[];var Q,le,be,se});return((F,j,Q,le)=>({element:F,cells:j,section:Q,isNew:le}))(S.element,R,S.section,S.isNew)})},ut=(m,h,x)=>{const S=[];ot(m.colgroups,N=>{const R=[];for(let F=0;F<m.grid.columns;F++){const j=dn(m,F).map(Q=>Xr(Q.element,x,!1)).getOrThunk(()=>Xr(h.colGap(),!0,!1));R.push(j)}S.push(da(N.element,R,"colgroup",x))});for(let N=0;N<m.grid.rows;N++){const R=[];for(let Q=0;Q<m.grid.columns;Q++){const le=La(m,N,Q).map(be=>Xr(be.element,x,be.isLocked)).getOrThunk(()=>Xr(h.gap(),!0,!1));R.push(le)}const F=m.all[N],j=da(F.element,R,F.section,x);S.push(j)}return S},ho=m=>dt(m,Vn),Ut=(m,h)=>H(m.all,x=>Oo(x.cells,S=>Vn(h,S.element))),Jo=(m,h,x)=>{const S=O(h.selection,R=>gd(R).bind(F=>Ut(m,F)).filter(x)),N=Ca(S);return Ns(N.length>0,N)},Ao=(m,h,x,S,N)=>(R,F,j,Q)=>{const le=$o(R),be=ye.from(Q==null?void 0:Q.section).getOrThunk(T);return h(le,F).map(se=>{const ce=((Se,qe)=>ut(Se,qe,!1))(le,j),fe=m(ce,se,Vn,N(j),be),Ce=Pa(fe.grid);return{info:se,grid:ho(fe.grid),cursor:fe.cursor,lockedColumns:Ce}}).bind(se=>{const ce=he(R,se.grid),fe=ye.from(Q==null?void 0:Q.sizing).getOrThunk(()=>au(R)),Ce=ye.from(Q==null?void 0:Q.resize).getOrThunk(Vp);return x(R,se.grid,se.info,{sizing:fe,resize:Ce,section:be}),S(R),Vo(R,kd),se.lockedColumns.length>0&&Yo(R,kd,se.lockedColumns.join(",")),ye.some({cursor:se.cursor,newRows:ce.newRows,newCells:ce.newCells})})},Bn=(m,h)=>Jo(m,h,Dt).map(x=>({cells:x,generators:h.generators,clipboard:h.clipboard})),Ws=(m,h)=>Jo(m,h,Dt),Dr=(m,h)=>Jo(m,h,x=>!x.isLocked),Yl=(m,h)=>St(h,x=>((S,N)=>Ut(S,N).exists(R=>!R.isLocked))(m,x)),Xl=(m,h,x,S)=>{const N=ar(m).rows;let R=!0;for(let F=0;F<N.length;F++)for(let j=0;j<Js(N[0]);j++){const Q=N[F],le=Jr(Q,j),be=x(le.element,h);be&&!R?Lu(Q,j,Xr(S(),!0,le.isLocked)):be&&(R=!1)}return m},Cc=m=>{const h=R=>R(m),x=so(m),S=()=>N,N={tag:!0,inner:m,fold:(R,F)=>F(m),isValue:Dt,isError:ue,map:R=>Kc.value(R(m)),mapError:S,bind:h,exists:h,forall:h,getOr:x,or:S,getOrThunk:x,orThunk:S,getOrDie:x,each:R=>{R(m)},toOptional:()=>ye.some(m)};return N},Vm=m=>{const h=()=>x,x={tag:!1,inner:m,fold:(N,R)=>N(m),isValue:ue,isError:Dt,map:h,mapError:N=>Kc.error(N(m)),bind:h,exists:ue,forall:Dt,getOr:cn,or:cn,getOrThunk:Tt,orThunk:Tt,getOrDie:(S=String(m),()=>{throw new Error(S)}),each:Bt,toOptional:ye.none};var S;return x},Kc={value:Cc,error:Vm,fromOption:(m,h)=>m.fold(()=>Vm(h),Cc)},Wu=(m,h)=>({rowDelta:0,colDelta:Js(m[0])-Js(h[0])}),$f=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),mu=(m,h,x,S)=>{const N=h.section==="colgroup"?x.col:x.cell;return Pt(m,R=>Xr(N(),!0,S(R)))},qu=(m,h,x,S)=>{const N=m[m.length-1];return m.concat(Pt(h,()=>{const R=N.section==="colgroup"?x.colgroup:x.row,F=xd(N,R,cn),j=mu(F.cells.length,F,x,Q=>Ko(S,Q.toString()));return ti(F,j)}))},jg=(m,h,x,S)=>O(m,N=>{const R=mu(h,N,x,ue);return hl(N,S,R)}),pu=(m,h,x)=>{const S=h.colDelta<0?jg:cn,N=h.rowDelta<0?qu:cn,R=Pa(m),F=Js(m[0]),j=Fe(R,be=>be===F-1),Q=S(m,Math.abs(h.colDelta),x,j?F-1:F),le=Pa(Q);return N(Q,Math.abs(h.rowDelta),x,as(le,Dt))},Pn=(m,h,x,S)=>{const N=st(S,Jr(m[h],x).element),R=m[h];return m.length>1&&Js(R)>1&&(x>0&&N(vr(R,x-1))||x<R.cells.length-1&&N(vr(R,x+1))||h>0&&N(vr(m[h-1],x))||h<m.length-1&&N(vr(m[h+1],x)))},Mr=(m,h,x)=>Ft(x,S=>S>=m.column&&S<=Js(h[0])+m.column),Va=(m,h,x,S,N)=>{((le,be,se,ce)=>{be>0&&be<le[0].cells.length&&ot(le,fe=>{const Ce=fe.cells[be-1];let Se=0;const qe=ce();for(;fe.cells.length>be+Se&&se(Ce.element,fe.cells[be+Se].element);)Lu(fe,be+Se,Xr(qe,!0,fe.cells[be+Se].isLocked)),Se++})})(h,m,N,S.cell);const R=$f(x,h),F=pu(x,R,S),j=$f(h,F),Q=pu(h,j,S);return O(Q,(le,be)=>hl(le,m,F[be].cells))},qi=(m,h,x,S,N)=>{((We,Ye,mt,bt)=>{const Ee=ar(We).rows;if(Ye>0&&Ye<Ee.length){const Nt=((io,Do)=>$e(io,(yo,lo)=>Fe(yo,Ro=>Do(Ro.element,lo.element))?yo:yo.concat([lo]),[]))(Ee[Ye-1].cells,mt);ot(Nt,io=>{let Do=ye.none();for(let yo=Ye;yo<Ee.length;yo++)for(let lo=0;lo<Js(Ee[0]);lo++){const Ro=Ee[yo],ln=Jr(Ro,lo);mt(ln.element,io.element)&&(Do.isNone()&&(Do=ye.some(bt())),Do.each(Es=>{Lu(Ro,lo,Xr(Es,!0,ln.isLocked))}))}})}})(h,m,N,S.cell);const R=Pa(h),F=Wu(h,x),j={...F,colDelta:F.colDelta-R.length},Q=pu(h,j,S),{cols:le,rows:be}=ar(Q),se=Pa(Q),ce=Wu(x,h),fe={...ce,colDelta:ce.colDelta+se.length},Ce=(qe=S,Ge=se,O(x,We=>$e(Ge,(Ye,mt)=>{const bt=mu(1,We,qe,Dt)[0];return Pu(Ye,mt,bt)},We))),Se=pu(Ce,fe,S);var qe,Ge;return[...le,...be.slice(0,m),...Se,...be.slice(m,be.length)]},Ug=(m,h,x,S,N)=>{const{rows:R,cols:F}=ar(m),j=R.slice(0,h),Q=R.slice(h);return[...F,...j,((le,be,se,ce)=>xd(le,fe=>ce(fe,se),be))(R[x],(le,be)=>h>0&&h<R.length&&S(vr(R[h-1],be),vr(R[h],be))?Jr(R[h],be):Xr(N(le.element,S),!0,le.isLocked),S,N),...Q]},jm=(m,h,x,S,N)=>O(m,R=>{const F=h>0&&h<Js(R)&&S(vr(R,h-1),vr(R,h)),j=((Q,le,be,se,ce,fe,Ce)=>{if(be!=="colgroup"&&se)return Jr(Q,le);{const Se=Jr(Q,ce);return Xr(Ce(Se.element,fe),!0,!1)}})(R,h,R.section,F,x,S,N);return Pu(R,h,j)}),Vf=(m,h,x,S)=>((N,R,F,j)=>vr(N[R],F)!==void 0&&R>0&&j(vr(N[R-1],F),vr(N[R],F)))(m,h,x,S)||((N,R,F)=>R>0&&F(vr(N,R-1),vr(N,R)))(m[h],x,S),jf=(m,h,x,S)=>{const N=R=>(F=>F==="row"?(j=>Ll(j,"rowspan")>1)(h):Hr(h))(R)?`${R}group`:R;return m?du(h)?N(x):null:S&&du(h)?N(x==="row"?"col":"row"):null},Zg=(m,h,x)=>Xr(x(m.element,h),!0,m.isLocked),jp=(m,h,x,S,N,R,F)=>O(m,(j,Q)=>((le,be)=>{const se=le.cells,ce=O(se,(fe,Ce)=>{if((Se=>Fe(h,qe=>x(Se.element,qe.element)))(fe)){const Se=F(fe,Q,Ce)?N(fe,x,S):fe;return R(Se,Q,Ce).each(qe=>{var Ge,We;Ge=Se.element,We={scope:ye.from(qe)},xn(We,(Ye,mt)=>{Ye.fold(()=>{Vo(Ge,mt)},bt=>{Sr(Ge.dom,mt,bt)})})}),Se}return fe});return da(le.element,ce,le.section,le.isNew)})(j)),Qy=(m,h,x)=>et(m,(S,N)=>Vf(m,N,h,x)?[]:[Jr(S,h)]),Wg=(m,h,x,S,N)=>{const R=ar(m).rows,F=et(h,be=>Qy(R,be,S)),j=O(R,be=>ll(be.cells)),Q=((be,se)=>St(se,cn)&&ll(be)?Dt:(ce,fe,Ce)=>!(Wt(ce.element)==="th"&&se[fe]))(F,j);return jp(m,F,S,N,Zg,((be,se)=>(ce,fe)=>ye.some(jf(be,ce.element,"row",se[fe])))(x,j),Q)},qg=(m,h,x,S)=>{const N=ar(m).rows,R=O(h,F=>Jr(N[F.row],F.column));return jp(m,R,x,S,Zg,ye.none,Dt)},Uf=m=>{if(!tr(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],x={};return ot(m,(S,N)=>{const R=wa(S);if(R.length!==1)throw new Error("one and only one name per case");const F=R[0],j=S[F];if(x[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!tr(j))throw new Error("case arguments must be an array");h.push(F),x[F]=(...Q)=>{const le=Q.length;if(le!==j.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+j.length+" ("+j+"), got "+le);return{fold:(...be)=>{if(be.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+be.length);return be[N].apply(null,Q)},match:be=>{const se=wa(be);if(h.length!==se.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+se.join(","));if(!St(h,ce=>Lo(se,ce)))throw new Error("Not all branches were specified when using match. Specified: "+se.join(", ")+`
Required: `+h.join(", "));return be[F].apply(null,Q)},log:be=>{console.log(be,{constructors:h,constructor:F,params:Q})}}}}),x},Up={...Uf([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},e1=(m,h,x)=>{const S=((N,R)=>yl(N)?((F,j)=>{const Q=bl(F);return O(Q,(le,be)=>({element:le.element,width:j[be],colspan:le.colspan}))})(N,R):((F,j)=>{const Q=Ht(F);return O(Q,le=>{const be=((se,ce,fe)=>{let Ce=0;for(let Se=se;Se<ce;Se++)Ce+=fe[Se]!==void 0?fe[Se]:0;return Ce})(le.column,le.column+le.colspan,j);return{element:le.element,width:be,colspan:le.colspan}})})(N,R))(m,h);ot(S,N=>{x.setElementWidth(N.element,N.width)})},gu=(m,h,x,S,N)=>{const R=$o(m),F=N.getCellDelta(h),j=N.getWidths(R,N),Q=x===R.grid.columns-1,le=S.clampTableDelta(j,x,F,N.minCellWidth(),Q),be=((ce,fe,Ce,Se,qe)=>{const Ge=ce.slice(0),We=((mt,bt)=>mt.length===0?Up.none():mt.length===1?Up.only(0):bt===0?Up.left(0,1):bt===mt.length-1?Up.right(bt-1,bt):bt>0&&bt<mt.length-1?Up.middle(bt-1,bt,bt+1):Up.none())(ce,fe),Ye=so(O(Ge,so(0)));return We.fold(Ye,mt=>Se.singleColumnWidth(Ge[mt],Ce),(mt,bt)=>qe.calcLeftEdgeDeltas(Ge,mt,bt,Ce,Se.minCellWidth(),Se.isRelative),(mt,bt,Ee)=>qe.calcMiddleDeltas(Ge,mt,bt,Ee,Ce,Se.minCellWidth(),Se.isRelative),(mt,bt)=>qe.calcRightEdgeDeltas(Ge,mt,bt,Ce,Se.minCellWidth(),Se.isRelative))})(j,x,le,N,S),se=O(be,(ce,fe)=>ce+j[fe]);e1(R,se,N),S.resizeTable(N.adjustTableWidth,le,Q)},Um=(m,h,x)=>{const S=$o(m),N=((Q,le)=>ta(Q,le,Lp,be=>be.getOrThunk(_n)))(S,m),R=O(N,(Q,le)=>x===le?Math.max(h+Q,_n()):Q),F=((Q,le)=>O(Q.all,(be,se)=>({element:be.element,height:le[se]})))(S,R);ot(F,Q=>{bc(Q.element,Q.height)}),ot(Ht(S),Q=>{(le=>{ei(le,"height")})(Q.element)});const j=Zo(R,(Q,le)=>Q+le,0);bc(m,j)},Zm=m=>$e(m,(h,x)=>Fe(h,S=>S.column===x.column)?h:h.concat([x]),[]).sort((h,x)=>h.column-x.column),hu=Fn("col"),Gu=Fn("colgroup"),Gg=m=>Wt(m)==="tr"||Gu(m),T_=m=>({element:m,colspan:br(m,"colspan",1),rowspan:br(m,"rowspan",1)}),Kg=m=>Co(m,"scope").map(h=>h.substr(0,3)),Sc=(m,h=T_)=>{const x=N=>{if(Gg(N))return Gu((R={element:N}).element)?m.colgroup(R):m.row(R);{const F=N,j=(Q=>hu(Q.element)?m.col(Q):m.cell(Q))(h(F));return S=ye.some({item:F,replacement:j}),j}var R};let S=ye.none();return{getOrInit:(N,R)=>S.fold(()=>x(N),F=>R(N,F.item)?F.replacement:x(N))}},Av=m=>h=>{const x=[],S=N=>{const R=m==="td"?{scope:null}:{},F=h.replace(N,m,R);return x.push({item:N,sub:F}),F};return{replaceOrInit:(N,R)=>{if(Gg(N)||hu(N))return N;{const F=N;return((j,Q)=>Oo(x,le=>Q(le.item,j)))(F,R).fold(()=>S(F),j=>R(N,j.item)?j.sub:S(F))}}}},t1=m=>({unmerge:h=>{const x=Kg(h);return x.each(S=>Yo(h,"scope",S)),()=>{const S=m.cell({element:h,colspan:1,rowspan:1});return ei(S,"width"),ei(h,"width"),x.each(N=>Yo(S,"scope",N)),S}},merge:h=>(ei(h[0],"width"),(()=>{const x=Ca(O(h,Kg));if(x.length===0)return ye.none();{const S=x[0],N=["row","col"];return Fe(x,R=>R!==S&&Lo(N,R))?ye.none():ye.from(S)}})().fold(()=>Vo(h[0],"scope"),x=>Yo(h[0],"scope",x+"group")),so(h[0]))}),Wm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ja=_c(),qm=m=>((h,x)=>{const S=h.property().name(x);return Lo(Wm,S)})(ja,m),Gm=m=>((h,x)=>{const S=h.property().name(x);return Lo(["ol","ul"],S)})(ja,m),_b=m=>{const h=Fn("br"),x=N=>Wl(N).bind(R=>{const F=Ba(R).map(j=>!!qm(j)||!!((Q,le)=>Lo(["br","img","hr","input"],Q.property().name(le)))(ja,j)&&Wt(j)!=="img").getOr(!1);return mi(R).map(j=>{return F===!0||Wt(Q=j)==="li"||Ui(Q,Gm).isSome()||h(R)||qm(j)&&!Vn(N,j)?[]:[nt.fromTag("br")];var Q})}).getOr([]),S=(()=>{const N=et(m,R=>{const F=Os(R);return(j=>St(j,Q=>h(Q)||Tn(Q)&&iu(Q).trim().length===0))(F)?[]:F.concat(x(R))});return N.length===0?[nt.fromTag("br")]:N})();pi(m[0]),Vi(m[0],S)},un=m=>go(m,!0),Gi=m=>{yr(m).length===0&&rr(m)},Rd=(m,h)=>({grid:m,cursor:h}),ai=(m,h,x)=>{const S=((N,R,F)=>{var j,Q;const le=ar(N).rows;return ye.from((Q=(j=le[R])===null||j===void 0?void 0:j.cells[F])===null||Q===void 0?void 0:Q.element).filter(un).orThunk(()=>(be=>H(be,se=>H(se.cells,ce=>{const fe=ce.element;return Ns(un(fe),fe)})))(le))})(m,h,x);return Rd(m,S)},ur=m=>$e(m,(h,x)=>Fe(h,S=>S.row===x.row)?h:h.concat([x]),[]).sort((h,x)=>h.row-x.row),Yg=(m,h)=>(x,S,N,R,F)=>{const j=ur(S),Q=O(j,be=>be.row),le=((be,se,ce,fe,Ce,Se,qe)=>{const{cols:Ge,rows:We}=ar(be),Ye=We[se[0]],mt=et(se,yo=>((lo,Ro,ln)=>{const Es=lo[Ro];return et(Es.cells,(ii,Na)=>Vf(lo,Ro,Na,ln)?[]:[ii])})(We,yo,Ce)),bt=O(Ye.cells,(yo,lo)=>ll(Qy(We,lo,Ce))),Ee=[...We];ot(se,yo=>{Ee[yo]=qe.transformRow(We[yo],ce)});const Nt=[...Ge,...Ee],io=((yo,lo)=>St(lo,cn)&&ll(yo.cells)?Dt:(Ro,ln,Es)=>!(Wt(Ro.element)==="th"&&lo[Es]))(Ye,bt),Do=((yo,lo)=>(Ro,ln,Es)=>ye.some(jf(yo,Ro.element,"col",lo[Es])))(fe,bt);return jp(Nt,mt,Ce,Se,qe.transformCell,Do,io)})(x,Q,m,h,N,R.replaceOrInit,F);return ai(le,S[0].row,S[0].column)},Nv=Yg("thead",!0),O_=Yg("tbody",!1),Br=Yg("tfoot",!1),wb=(m,h,x)=>{const S=((R,F)=>Pe(R,()=>F))(m,x.section),N=ds(S);return ut(N,h,!0)},o1=(m,h,x,S)=>((N,R,F,j)=>{const Q=ds(R),le=j.getWidths(Q,j);e1(Q,le,j)})(0,h,0,S.sizing),Zf=(m,h,x,S)=>((N,R,F,j,Q)=>{const le=ds(R),be=j.getWidths(le,j),se=j.pixelWidth(),{newSizes:ce,delta:fe}=Q.calcRedestributedWidths(be,se,F.pixelDelta,j.isRelative);e1(le,ce,j),j.adjustTableWidth(fe)})(0,h,x,S.sizing,S.resize),Ec=(m,h)=>Fe(h,x=>x.column===0&&x.isLocked),Zp=(m,h)=>Fe(h,x=>x.column+x.colspan>=m.grid.columns&&x.isLocked),At=(m,h)=>{const x=ou(m),S=Zm(h);return $e(S,(N,R)=>N+x[R.column].map(vd).getOr(0),0)},Yc=m=>(h,x)=>Ws(h,x).filter(S=>!(m?Ec:Zp)(h,S)).map(S=>({details:S,pixelDelta:At(h,S)})),n1=m=>(h,x)=>Bn(h,x).filter(S=>!(m?Ec:Zp)(h,S.cells)),Cb=Av("th"),Wp=Av("td"),Sb=Ao((m,h,x,S)=>{const N=h[0].row,R=ur(h),F=Zo(R,(j,Q)=>({grid:Ug(j.grid,N,Q.row+j.delta,x,S.getOrInit),delta:j.delta+1}),{grid:m,delta:0}).grid;return ai(F,N,h[0].column)},Ws,Bt,Bt,Sc),Km=Ao((m,h,x,S)=>{const N=ur(h),R=N[N.length-1],F=R.row+R.rowspan,j=Zo(N,(Q,le)=>Ug(Q,F,le.row,x,S.getOrInit),m);return ai(j,F,h[0].column)},Ws,Bt,Bt,Sc),zc=Ao((m,h,x,S)=>{const N=h.details,R=Zm(N),F=R[0].column,j=Zo(R,(Q,le)=>({grid:jm(Q.grid,F,le.column+Q.delta,x,S.getOrInit),delta:Q.delta+1}),{grid:m,delta:0}).grid;return ai(j,N[0].row,F)},Yc(!0),Zf,Bt,Sc),A_=Ao((m,h,x,S)=>{const N=h.details,R=N[N.length-1],F=R.column+R.colspan,j=Zm(N),Q=Zo(j,(le,be)=>jm(le,F,be.column,x,S.getOrInit),m);return ai(Q,N[0].row,F)},Yc(!1),Zf,Bt,Sc),Eb=Ao((m,h,x,S)=>{const N=Zm(h.details),R=((j,Q)=>et(j,le=>{const be=le.cells,se=Zo(Q,(ce,fe)=>fe>=0&&fe<ce.length?ce.slice(0,fe).concat(ce.slice(fe+1)):ce,be);return se.length>0?[da(le.element,se,le.section,le.isNew)]:[]}))(m,O(N,j=>j.column)),F=R.length>0?R[0].cells.length-1:0;return ai(R,N[0].row,Math.min(N[0].column,F))},(m,h)=>Dr(m,h).map(x=>({details:x,pixelDelta:-At(m,x)})),Zf,Gi,Sc),r1=Ao((m,h,x,S)=>{const N=ur(h),R=((j,Q,le)=>{const{rows:be,cols:se}=ar(j);return[...se,...be.slice(0,Q),...be.slice(le+1)]})(m,N[0].row,N[N.length-1].row),F=Math.max(ar(R).rows.length-1,0);return ai(R,Math.min(h[0].row,F),h[0].column)},Ws,Bt,Gi,Sc),zb=Ao((m,h,x,S)=>{const N=Zm(h),R=O(N,j=>j.column),F=Wg(m,R,!0,x,S.replaceOrInit);return ai(F,h[0].row,h[0].column)},Dr,Bt,Bt,Cb),s1=Ao((m,h,x,S)=>{const N=Zm(h),R=O(N,j=>j.column),F=Wg(m,R,!1,x,S.replaceOrInit);return ai(F,h[0].row,h[0].column)},Dr,Bt,Bt,Wp),a1=Ao(Nv,Dr,Bt,Bt,Cb),Tb=Ao(O_,Dr,Bt,Bt,Wp),i1=Ao(Br,Dr,Bt,Bt,Wp),l1=Ao((m,h,x,S)=>{const N=qg(m,h,x,S.replaceOrInit);return ai(N,h[0].row,h[0].column)},Dr,Bt,Bt,Cb),Rv=Ao((m,h,x,S)=>{const N=qg(m,h,x,S.replaceOrInit);return ai(N,h[0].row,h[0].column)},Dr,Bt,Bt,Wp),N_=Ao((m,h,x,S)=>{const N=h.cells;_b(N);const R=((F,j,Q,le)=>{const be=ar(F).rows;if(be.length===0)return F;for(let se=j.startRow;se<=j.finishRow;se++)for(let ce=j.startCol;ce<=j.finishCol;ce++){const fe=be[se],Ce=Jr(fe,ce).isLocked;Lu(fe,ce,Xr(le(),!1,Ce))}return F})(m,h.bounds,0,S.merge(N));return Rd(R,ye.from(N[0]))},(m,h)=>((x,S)=>S.mergable)(0,h).filter(x=>Yl(m,x.cells)),o1,Bt,t1),Xg=Ao((m,h,x,S)=>{const N=Zo(h,(R,F)=>Xl(R,F,x,S.unmerge(F)),m);return Rd(N,ye.from(h[0]))},(m,h)=>((x,S)=>S.unmergable)(0,h).filter(x=>Yl(m,x)),o1,Bt,t1),c1=Ao((m,h,x,S)=>{const N=((j,Q)=>{const le=$o(j);return ut(le,Q,!0)})(h.clipboard,h.generators);var R,F;return((j,Q,le,be,se)=>{const ce=Pa(Q),fe=((Ge,We,Ye)=>{const mt=Js(We[0]),bt=ar(We).cols.length+Ge.row,Ee=Pt(mt-Ge.column,Nt=>Nt+Ge.column);return{row:bt,column:Oo(Ee,Nt=>St(Ye,io=>io!==Nt)).getOr(mt-1)}})(j,Q,ce),Ce=ar(le).rows,Se=Mr(fe,Ce,ce);return((Ge,We,Ye)=>{if(Ge.row>=We.length||Ge.column>Js(We[0]))return Kc.error("invalid start address out of table bounds, row: "+Ge.row+", column: "+Ge.column);const mt=We.slice(Ge.row),bt=mt[0].cells.slice(Ge.column),Ee=Js(Ye[0]),Nt=Ye.length;return Kc.value({rowDelta:mt.length-Nt,colDelta:bt.length-Ee})})(fe,Q,Ce).map(Ge=>{const We={...Ge,colDelta:Ge.colDelta-Se.length},Ye=pu(Q,We,be),mt=Pa(Ye),bt=Mr(fe,Ce,mt);return((Ee,Nt,io,Do,yo,lo)=>{const Ro=Ee.row,ln=Ee.column,Es=Ro+io.length,ii=ln+Js(io[0])+lo.length,Na=as(lo,Dt);for(let Ql=Ro;Ql<Es;Ql++){let rm=0;for(let li=ln;li<ii;li++){if(Na[li]){rm++;continue}Pn(Nt,Ql,li,yo)&&Xl(Nt,vr(Nt[Ql],li),yo,Do.cell);const Bd=li-ln-rm,eg=Jr(io[Ql-Ro],Bd),cf=eg.element,tg=Do.replace(cf);Lu(Nt[Ql],li,Xr(tg,!0,eg.isLocked))}}return Nt})(fe,Ye,Ce,be,se,bt)})})((R=h.row,F=h.column,{row:R,column:F}),m,N,h.generators,x).fold(()=>Rd(m,ye.some(h.element)),j=>ai(j,h.row,h.column))},(m,h)=>gd(h.element).bind(x=>Ut(m,x).map(S=>({...S,generators:h.generators,clipboard:h.clipboard}))),o1,Bt,Sc),Ym=Ao((m,h,x,S)=>{const N=ar(m).rows,R=h.cells[0].column,F=N[h.cells[0].row],j=wb(h.clipboard,h.generators,F),Q=Va(R,m,j,h.generators,x);return ai(Q,h.cells[0].row,h.cells[0].column)},n1(!0),Bt,Bt,Sc),R_=Ao((m,h,x,S)=>{const N=ar(m).rows,R=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,F=N[h.cells[0].row],j=wb(h.clipboard,h.generators,F),Q=Va(R,m,j,h.generators,x);return ai(Q,h.cells[0].row,R)},n1(!1),Bt,Bt,Sc),D_=Ao((m,h,x,S)=>{const N=ar(m).rows,R=h.cells[0].row,F=N[R],j=wb(h.clipboard,h.generators,F),Q=qi(R,m,j,h.generators,x);return ai(Q,h.cells[0].row,h.cells[0].column)},Bn,Bt,Bt,Sc),Ku=Ao((m,h,x,S)=>{const N=ar(m).rows,R=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,F=N[h.cells[0].row],j=wb(h.clipboard,h.generators,F),Q=qi(R,m,j,h.generators,x);return ai(Q,R,h.cells[0].column)},Bn,Bt,Bt,Sc),Wf=(m,h)=>{const x=$o(m);return Ws(x,h).bind(S=>{const N=S[S.length-1],R=S[0].column,F=N.column+N.colspan,j=wt(O(x.all,Q=>Ft(Q.cells,le=>le.column>=R&&le.column<F)));return hs(j)}).getOr("")},Ob=(m,h)=>{const x=$o(m);return Ws(x,h).bind(hs).getOr("")},Dv=(m,h)=>{const x=$o(m);return Ws(x,h).bind(S=>{const N=S[S.length-1],R=S[0].row,F=N.row+N.rowspan;return(j=>{const Q=O(j,se=>uu(se).type),le=Lo(Q,"header"),be=Lo(Q,"footer");if(le||be){const se=Lo(Q,"body");return!le||se||be?le||se||!be?ye.none():ye.some("footer"):ye.some("header")}return ye.some("body")})(x.all.slice(R,F))}).getOr("")},d1=(m,h)=>m.dispatch("NewRow",{node:h}),Jg=(m,h)=>m.dispatch("NewCell",{node:h}),bu=(m,h,x)=>{m.dispatch("TableModified",{...x,table:h})},Ab={structure:!1,style:!0},qs={structure:!0,style:!1},ms={structure:!0,style:!0},Yu=(m,h)=>kc(m)?kl(h):w(m)?Or(h):au(h),u1=(m,h,x)=>{const S=be=>Wt(zn(be))==="table",N=Wi(m),R=Nf(m)?Bt:Hf,F=be=>{switch(ql(m)){case"section":return Zs();case"sectionCells":return kb();case"cells":return k();default:return((se,ce)=>{var fe;switch((fe=$o(se),H(fe.all,Ce=>{const Se=uu(Ce);return Se.type==="header"?ye.from(Se.subType):ye.none()})).getOr(ce)){case"section":return Us();case"sectionCells":return at();case"cells":return fu()}})(be,"section")}},j=(be,se,ce,fe)=>(Ce,Se,qe=!1)=>{Rr(Ce);const Ge=nt.fromDom(m.getDoc()),We=ir(ce,Ge,N),Ye={sizing:Yu(m,Ce),resize:Nf(m)?wc():Vp(),section:F(Ce)};return se(Ce)?be(Ce,Se,We,Ye).bind(mt=>{h.refresh(Ce.dom),ot(mt.newRows,Ee=>{d1(m,Ee.dom)}),ot(mt.newCells,Ee=>{Jg(m,Ee.dom)});const bt=((Ee,Nt)=>Nt.cursor.fold(()=>{const io=yr(Ee);return hn(io).filter(ji).map(Do=>{x.clearSelectedCells(Ee.dom);const yo=m.dom.createRng();return yo.selectNode(Do.dom),m.selection.setRng(yo),Yo(Do,"data-mce-selected","1"),yo})},io=>{const Do=$p(Ff,io),yo=m.dom.createRng();return yo.setStart(Do.element.dom,Do.offset),yo.setEnd(Do.element.dom,Do.offset),m.selection.setRng(yo),x.clearSelectedCells(Ee.dom),ye.some(yo)}))(Ce,mt);return ji(Ce)&&(Rr(Ce),qe||bu(m,Ce.dom,fe)),bt.map(Ee=>({rng:Ee,effect:fe}))}):ye.none()},Q=j(r1,be=>!S(m)||Tl(be).rows>1,Bt,qs),le=j(Eb,be=>!S(m)||Tl(be).columns>1,Bt,qs);return{deleteRow:Q,deleteColumn:le,insertRowsBefore:j(Sb,Dt,Bt,qs),insertRowsAfter:j(Km,Dt,Bt,qs),insertColumnsBefore:j(zc,Dt,R,qs),insertColumnsAfter:j(A_,Dt,R,qs),mergeCells:j(N_,Dt,Bt,qs),unmergeCells:j(Xg,Dt,Bt,qs),pasteColsBefore:j(Ym,Dt,Bt,qs),pasteColsAfter:j(R_,Dt,Bt,qs),pasteRowsBefore:j(D_,Dt,Bt,qs),pasteRowsAfter:j(Ku,Dt,Bt,qs),pasteCells:j(c1,Dt,Bt,ms),makeCellsHeader:j(l1,Dt,Bt,qs),unmakeCellsHeader:j(Rv,Dt,Bt,qs),makeColumnsHeader:j(zb,Dt,Bt,qs),unmakeColumnsHeader:j(s1,Dt,Bt,qs),makeRowsHeader:j(a1,Dt,Bt,qs),makeRowsBody:j(Tb,Dt,Bt,qs),makeRowsFooter:j(i1,Dt,Bt,qs),getTableRowType:Dv,getTableCellType:Ob,getTableColType:Wf}},Nb=(m,h,x)=>{const S=br(m,h,1);x===1||S<=1?Vo(m,h):Yo(m,h,Math.min(x,S))},Aa=(m,h)=>x=>{const S=x.column+x.colspan-1,N=x.column;return S>=m&&N<h},Mi=Uf([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Xm=(m,h,x)=>{const S=x.substring(0,x.length-m.length),N=parseFloat(S);return S===N.toString()?h(N):Mi.invalid(x)},Xu={...Mi,from:m=>to(m,"%")?Xm("%",Mi.percent,m):to(m,"px")?Xm("px",Mi.pixels,m):Mi.invalid(m)},qf=(m,h,x)=>{const S=Xu.from(x),N=St(m,R=>R==="0px")?((R,F)=>{const j=R.fold(()=>so(""),Q=>so(Q/F+"px"),()=>so(100/F+"%"));return Pt(F,j)})(S,m.length):((R,F,j)=>R.fold(()=>F,Q=>((le,be,se)=>{const ce=se/be;return O(le,fe=>Xu.from(fe).fold(()=>fe,Ce=>Ce*ce+"px",Ce=>Ce/100*se+"px"))})(F,j,Q),Q=>((le,be)=>O(le,se=>Xu.from(se).fold(()=>se,ce=>ce/be*100+"%",ce=>ce+"%")))(F,j)))(S,m,h);return f1(N)},Rb=(m,h)=>m.length===0?h:Zo(m,(x,S)=>Xu.from(S).fold(so(0),cn,cn)+x,0),Mv=(m,h)=>Xu.from(m).fold(so(m),x=>x+h+"px",x=>x+h+"%"),f1=m=>{if(m.length===0)return m;const h=Zo(m,(S,N)=>{const R=Xu.from(N).fold(()=>({value:N,remainder:0}),F=>((j,Q)=>{const le=Math.floor(j);return{value:le+"px",remainder:j-le}})(F),F=>({value:F+"%",remainder:0}));return{output:[R.value].concat(S.output),remainder:S.remainder+R.remainder}},{output:[],remainder:0}),x=h.output;return x.slice(0,x.length-1).concat([Mv(x[x.length-1],Math.round(h.remainder))])},Gf=Xu.from,fr=(m,h,x)=>{const S=$o(m),N=S.all,R=Ht(S),F=bl(S);h.each(j=>{const Q=Gf(j).fold(so("px"),so("px"),so("%")),le=yi(m),be=((ce,fe)=>us(ce,fe,Fa,Af))(S,m),se=qf(be,le,j);yl(S)?((ce,fe,Ce)=>{ot(fe,(Se,qe)=>{const Ge=Rb([ce[qe]],$s());Wo(Se.element,"width",Ge+Ce)})})(se,F,Q):((ce,fe,Ce)=>{ot(fe,Se=>{const qe=ce.slice(Se.column,Se.colspan+Se.column),Ge=Rb(qe,$s());Wo(Se.element,"width",Ge+Ce)})})(se,R,Q),Wo(m,"width",j)}),x.each(j=>{const Q=mc(m),le=((be,se)=>ta(be,se,ea,Af))(S,m);((be,se,ce)=>{ot(ce,fe=>{ei(fe.element,"height")}),ot(se,(fe,Ce)=>{Wo(fe.element,"height",be[Ce])})})(qf(le,Q,j),N,R),Wo(m,"height",j)})},Db=m=>il(m).exists(h=>Ds.test(h)),Pr=m=>il(m).exists(h=>Kt.test(h)),Dd=m=>il(m).isNone(),Xc=m=>{Vo(m,"width"),Vo(m,"height")},Jm=m=>{const h=Cd(m);fr(m,ye.some(h),ye.none()),Xc(m)},Ki=m=>{const h=(x=>yi(x)+"px")(m);fr(m,ye.some(h),ye.none()),Xc(m)},Ua=m=>{ei(m,"width");const h=Ea(m),x=h.length>0?h:yr(m);ot(x,S=>{ei(S,"width"),Xc(S)}),Xc(m)},Kf={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Qg=(m,h,x,S)=>Pt(m,N=>((R,F,j,Q)=>{const le=nt.fromTag("tr");for(let be=0;be<R;be++){const se=nt.fromTag(Q<F||be<j?"th":"td");be<j&&Yo(se,"scope","row"),Q<F&&Yo(se,"scope","col"),hr(se,nt.fromTag("br")),hr(le,se)}return le})(h,x,S,N)),Qm=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},eh=(m,h,x,S,N)=>{const R=(j=>{const Q=j.options,le=Q.get("table_default_styles");return Q.isSet("table_default_styles")?le:((be,se)=>D(be)||!ie(be)?se:w(be)?{...se,width:ri(be)}:{...se,width:xi})(j,le)})(m),F={styles:R,attributes:Ze(m),colGroups:eo(m)};return m.undoManager.ignore(()=>{const j=((le,be,se,ce,fe,Ce=Kf)=>{const Se=nt.fromTag("table"),qe=fe!=="cells";Pl(Se,Ce.styles),Xs(Se,Ce.attributes),Ce.colGroups&&hr(Se,(mt=>{const bt=nt.fromTag("colgroup");return Pt(mt,()=>hr(bt,nt.fromTag("col"))),bt})(be));const Ge=Math.min(le,se);if(qe&&se>0){const mt=nt.fromTag("thead");hr(Se,mt);const bt=Qg(se,be,fe==="sectionCells"?Ge:0,ce);Vi(mt,bt)}const We=nt.fromTag("tbody");hr(Se,We);const Ye=Qg(qe?le-Ge:le,be,qe?0:se,ce);return Vi(We,Ye),Se})(x,h,N,S,ql(m),F);Yo(j,"data-mce-id","__mce");const Q=(le=>{const be=nt.fromTag("div"),se=nt.fromDom(le.dom.cloneNode(!0));return hr(be,se),(ce=>ce.dom.innerHTML)(be)})(j);m.insertContent(Q),m.addVisual()}),Tr(zn(m),'table[data-mce-id="__mce"]').map(j=>(w(m)?Ki(j):D(m)?Ua(j):(kc(m)||(Q=>Yn(Q)&&Q.indexOf("%")!==-1)(R.width))&&Jm(j),Rr(j),Vo(j,"data-mce-id"),((Q,le)=>{ot(Rn(le,"tr"),be=>{d1(Q,be.dom),ot(Rn(be,"th,td"),se=>{Jg(Q,se.dom)})})})(m,j),((Q,le)=>{Tr(le,"td,th").each(st(Qm,Q))})(m,j),j.dom)).getOrNull()};var ep=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Bv="x-tinymce/dom-table-",m1=Bv+"rows",p1=Bv+"columns",Pv=m=>{const h=ep.FakeClipboardItem(m);ep.write([h])},Za=m=>{var h;const x=(h=ep.read())!==null&&h!==void 0?h:[];return H(x,S=>ye.from(S.getType(m)))},Yf=m=>{Za(m).isSome()&&ep.clear()},Lv=m=>{m.fold(Bi,h=>Pv({[m1]:h}))},Tc=()=>Za(m1),Bi=()=>Yf(m1),tp=m=>{m.fold(Iv,h=>Pv({[p1]:h}))},qp=()=>Za(p1),Iv=()=>Yf(p1),os=m=>Ad(Cl(m),Zr(m)).filter(Ip),ns=(m,h)=>{const x=Zr(m),S=se=>G(se,x),N=se=>(ce=>zr(Cl(ce),Zr(ce)).filter(Ip))(m).bind(ce=>S(ce).map(fe=>se(fe,ce))),R=se=>{m.focus()},F=(se,ce=!1)=>N((fe,Ce)=>{const Se=Bo(El(m),fe,Ce);se(fe,Se,ce).each(R)}),j=()=>N((se,ce)=>((fe,Ce,Se)=>{const qe=$o(fe);return Ws(qe,Ce).bind(Ge=>{const We=ut(qe,Se,!1),Ye=ar(We).rows.slice(Ge[0].row,Ge[Ge.length-1].row+Ge[Ge.length-1].rowspan),mt=et(Ye,Ee=>{const Nt=Ft(Ee.cells,io=>!io.isLocked);return Nt.length>0?[{...Ee,cells:Nt}]:[]}),bt=ho(mt);return Ns(bt.length>0,bt)}).map(Ge=>O(Ge,We=>{const Ye=Qd(We.element);return ot(We.cells,mt=>{const bt=cc(mt.element);$(bt,"colspan",mt.colspan,1),$(bt,"rowspan",mt.rowspan,1),hr(Ye,bt)}),Ye}))})(se,Bo(El(m),se,ce),ir(Bt,nt.fromDom(m.getDoc()),ye.none()))),Q=()=>N((se,ce)=>((fe,Ce)=>{const Se=$o(fe);return Dr(Se,Ce).map(qe=>{const Ge=qe[qe.length-1],We=qe[0].column,Ye=Ge.column+Ge.colspan,mt=((Ee,Nt,io)=>{if(yl(Ee)){const Do=Ft(bl(Ee),Aa(Nt,io)),yo=O(Do,Ro=>{const ln=cc(Ro.element);return Nb(ln,"span",io-Nt),ln}),lo=nt.fromTag("colgroup");return Vi(lo,yo),[lo]}return[]})(Se,We,Ye),bt=((Ee,Nt,io)=>O(Ee.all,Do=>{const yo=Ft(Do.cells,Aa(Nt,io)),lo=O(yo,ln=>{const Es=cc(ln.element);return Nb(Es,"colspan",io-Nt),Es}),Ro=nt.fromTag("tr");return Vi(Ro,lo),Ro}))(Se,We,Ye);return[...mt,...bt]})})(se,Bo(El(m),se,ce))),le=(se,ce)=>ce().each(fe=>{const Ce=O(fe,Se=>cc(Se));N((Se,qe)=>{const Ge=Mn(nt.fromDom(m.getDoc())),We=((Ye,mt,bt,Ee)=>({selection:Td(Ye),clipboard:bt,generators:Ee}))(El(m),0,Ce,Ge);se(Se,We).each(R)})}),be=se=>(ce,fe)=>((Ce,Se)=>Ko(Ce,Se)?ye.from(Ce[Se]):ye.none())(fe,"type").each(Ce=>{F(se(Ce),fe.no_events)});xn({mceTableSplitCells:()=>F(h.unmergeCells),mceTableMergeCells:()=>F(h.mergeCells),mceTableInsertRowBefore:()=>F(h.insertRowsBefore),mceTableInsertRowAfter:()=>F(h.insertRowsAfter),mceTableInsertColBefore:()=>F(h.insertColumnsBefore),mceTableInsertColAfter:()=>F(h.insertColumnsAfter),mceTableDeleteCol:()=>F(h.deleteColumn),mceTableDeleteRow:()=>F(h.deleteRow),mceTableCutCol:()=>Q().each(se=>{tp(se),F(h.deleteColumn)}),mceTableCutRow:()=>j().each(se=>{Lv(se),F(h.deleteRow)}),mceTableCopyCol:()=>Q().each(se=>tp(se)),mceTableCopyRow:()=>j().each(se=>Lv(se)),mceTablePasteColBefore:()=>le(h.pasteColsBefore,qp),mceTablePasteColAfter:()=>le(h.pasteColsAfter,qp),mceTablePasteRowBefore:()=>le(h.pasteRowsBefore,Tc),mceTablePasteRowAfter:()=>le(h.pasteRowsAfter,Tc),mceTableDelete:()=>os(m).each(se=>{G(se,x).filter(uo(x)).each(ce=>{const fe=nt.fromText("");if(_s(ce,fe),rr(ce),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const Ce=m.dom.createRng();Ce.setStart(fe.dom,0),Ce.setEnd(fe.dom,0),m.selection.setRng(Ce),m.nodeChanged()}})}),mceTableCellToggleClass:(se,ce)=>{N(fe=>{const Ce=El(m),Se=St(Ce,Ge=>m.formatter.match("tablecellclass",{value:ce},Ge.dom)),qe=Se?m.formatter.remove:m.formatter.apply;ot(Ce,Ge=>qe("tablecellclass",{value:ce},Ge.dom)),bu(m,fe.dom,Ab)})},mceTableToggleClass:(se,ce)=>{N(fe=>{m.formatter.toggle("tableclass",{value:ce},fe.dom),bu(m,fe.dom,Ab)})},mceTableToggleCaption:()=>{os(m).each(se=>{G(se,x).each(ce=>{ml(ce,"caption").fold(()=>{const fe=nt.fromTag("caption");hr(fe,nt.fromText("Caption")),((Ce,Se,qe)=>{ud(Ce,0).fold(()=>{hr(Ce,Se)},Ge=>{kt(Ge,Se)})})(ce,fe),m.selection.setCursorLocation(fe.dom,0)},fe=>{Fn("caption")(se)&&Ti("td",ce).each(Ce=>m.selection.setCursorLocation(Ce.dom,0)),rr(fe)}),bu(m,ce.dom,qs)})})},mceTableSizingMode:(se,ce)=>(fe=>os(m).each(Ce=>{D(m)||w(m)||kc(m)||G(Ce,x).each(Se=>{fe!=="relative"||Db(Se)?fe!=="fixed"||Pr(Se)?fe!=="responsive"||Dd(Se)||Ua(Se):Ki(Se):Jm(Se),Rr(Se),bu(m,Se.dom,qs)})}))(ce),mceTableCellType:be(se=>se==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:be(se=>se==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:be(se=>{switch(se){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(se,ce)=>m.addCommand(ce,se)),m.addCommand("mceInsertTable",(se,ce)=>{((fe,Ce,Se,qe={})=>{const Ge=We=>Fs(We)&&We>0;if(Ge(Ce)&&Ge(Se)){const We=qe.headerRows||0,Ye=qe.headerColumns||0;return eh(fe,Se,Ce,Ye,We)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,ce.rows,ce.columns,ce.options)}),m.addCommand("mceTableApplyCellStyle",(se,ce)=>{const fe=qe=>"tablecell"+qe.toLowerCase().replace("-","");if(!ko(ce))return;const Ce=Ft(El(m),Ip);if(Ce.length===0)return;const Se=((qe,Ge)=>{const We={};return((Ye,mt,bt,Ee)=>{xn(Ye,(Nt,io)=>{(mt(Nt,io)?bt:Ee)(Nt,io)})})(qe,Ge,(Ye=>(mt,bt)=>{Ye[bt]=mt})(We),Bt),We})(ce,(qe,Ge)=>m.formatter.has(fe(Ge))&&Yn(qe));(qe=>{for(const Ge in qe)if(Cr.call(qe,Ge))return!1;return!0})(Se)||(xn(Se,(qe,Ge)=>{const We=fe(Ge);ot(Ce,Ye=>{qe===""?m.formatter.remove(We,{value:null},Ye.dom,!0):m.formatter.apply(We,{value:qe},Ye.dom)})}),S(Ce[0]).each(qe=>bu(m,qe.dom,Ab)))})},Ss=Uf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),qn={before:Ss.before,on:Ss.on,after:Ss.after,cata:(m,h,x,S)=>m.fold(h,x,S),getStart:m=>m.fold(cn,cn,cn)},Gr=(m,h)=>({selection:m,kill:h}),bs=(m,h)=>{const x=m.document.createRange();return x.selectNode(h.dom),x},Mb=(m,h)=>{const x=m.document.createRange();return Bb(x,h),x},Bb=(m,h)=>m.selectNodeContents(h.dom),g1=(m,h,x)=>{const S=m.document.createRange();var N;return N=S,h.fold(R=>{N.setStartBefore(R.dom)},(R,F)=>{N.setStart(R.dom,F)},R=>{N.setStartAfter(R.dom)}),((R,F)=>{F.fold(j=>{R.setEndBefore(j.dom)},(j,Q)=>{R.setEnd(j.dom,Q)},j=>{R.setEndAfter(j.dom)})})(S,x),S},th=(m,h,x,S,N)=>{const R=m.document.createRange();return R.setStart(h.dom,x),R.setEnd(S.dom,N),R},h1=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),op=Uf([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pb=(m,h,x)=>h(nt.fromDom(x.startContainer),x.startOffset,nt.fromDom(x.endContainer),x.endOffset),Lb=(m,h)=>{const x=((S,N)=>N.match({domRange:R=>({ltr:so(R),rtl:ye.none}),relative:(R,F)=>({ltr:No(()=>g1(S,R,F)),rtl:No(()=>ye.some(g1(S,F,R)))}),exact:(R,F,j,Q)=>({ltr:No(()=>th(S,R,F,j,Q)),rtl:No(()=>ye.some(th(S,j,Q,R,F)))})}))(m,h);return((S,N)=>{const R=N.ltr();return R.collapsed?N.rtl().filter(F=>F.collapsed===!1).map(F=>op.rtl(nt.fromDom(F.endContainer),F.endOffset,nt.fromDom(F.startContainer),F.startOffset)).getOrThunk(()=>Pb(0,op.ltr,R)):Pb(0,op.ltr,R)})(0,x)},b1=(m,h)=>Lb(m,h).match({ltr:(x,S,N,R)=>{const F=m.document.createRange();return F.setStart(x.dom,S),F.setEnd(N.dom,R),F},rtl:(x,S,N,R)=>{const F=m.document.createRange();return F.setStart(N.dom,R),F.setEnd(x.dom,S),F}});op.ltr,op.rtl;const oh=(m,h,x,S)=>({start:m,soffset:h,finish:x,foffset:S}),Yi=(m,h,x,S)=>({start:qn.on(m,h),finish:qn.on(x,S)}),y1=(m,h)=>{const x=b1(m,h);return oh(nt.fromDom(x.startContainer),x.startOffset,nt.fromDom(x.endContainer),x.endOffset)},ki=Yi,nh=(m,h,x,S,N)=>Vn(x,S)?ye.none():Gl(x,S,h).bind(R=>{const F=R.boxes.getOr([]);return F.length>1?(N(m,F,R.start,R.finish),ye.some(Gr(ye.some(ki(x,0,x,es(x))),!0))):ye.none()}),np=(m,h)=>({item:m,mode:h}),Jc=(m,h,x,S=ys)=>m.property().parent(h).map(N=>np(N,S)),ys=(m,h,x,S=Xf)=>x.sibling(m,h).map(N=>np(N,S)),Xf=(m,h,x,S=Xf)=>{const N=m.property().children(h);return x.first(N).map(R=>np(R,S))},v1=[{current:Jc,next:ys,fallback:ye.none()},{current:ys,next:Xf,fallback:ye.some(Jc)},{current:Xf,next:Xf,fallback:ye.some(ys)}],x1=(m,h,x,S,N=v1)=>Oo(N,R=>R.current===x).bind(R=>R.current(m,h,S,R.next).orThunk(()=>R.fallback.bind(F=>x1(m,h,F,S)))),rh=(m,h,x,S,N,R)=>x1(m,h,S,N).bind(F=>R(F.item)?ye.none():x(F.item)?ye.some(F.item):rh(m,F.item,x,F.mode,N,R)),yu=m=>h=>m.property().children(h).length===0,M_=(m,h,x,S)=>rh(m,h,x,ys,{sibling:(N,R)=>N.query().prevSibling(R),first:N=>N.length>0?ye.some(N[N.length-1]):ye.none()},S),sh=(m,h,x,S)=>rh(m,h,x,ys,{sibling:(N,R)=>N.query().nextSibling(R),first:N=>N.length>0?ye.some(N[0]):ye.none()},S),Jf=_c(),Fv=(m,h)=>((x,S,N)=>M_(x,S,yu(x),N))(Jf,m,h),ah=(m,h)=>((x,S,N)=>sh(x,S,yu(x),N))(Jf,m,h),ih=Uf([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ib=m=>bn(m,"tr"),Gp={...ih,verify:(m,h,x,S,N,R,F)=>bn(S,"td,th",F).bind(j=>bn(h,"td,th",F).map(Q=>Vn(j,Q)?Vn(S,j)&&es(j)===N?R(Q):ih.none("in same cell"):Ed(Ib,[j,Q]).fold(()=>((le,be,se)=>{const ce=le.getRect(be),fe=le.getRect(se);return fe.right>ce.left&&fe.left<ce.right})(m,Q,j)?ih.success():R(Q),le=>R(Q)))).getOr(ih.none("default")),cata:(m,h,x,S,N)=>m.fold(h,x,S,N)},Fb=Fn("br"),_i=(m,h,x)=>h(m,x).bind(S=>Tn(S)&&iu(S).trim().length===0?_i(S,h,x):ye.some(S)),k1=(m,h,x,S)=>((N,R)=>ud(N,R).filter(Fb).orThunk(()=>ud(N,R-1).filter(Fb)))(h,x).bind(N=>S.traverse(N).fold(()=>_i(N,S.gather,m).map(S.relative),R=>(F=>mi(F).bind(j=>{const Q=Os(j);return((le,be)=>la(le,st(Vn,be)))(Q,F).map(le=>((be,se,ce,fe)=>({parent:be,children:se,element:ce,index:fe}))(j,Q,F,le))}))(R).map(F=>qn.on(F.parent,F.index)))),vu=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),lh=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),Md=(m,h,x)=>({left:m.left+h,top:m.top+x,right:m.right+h,bottom:m.bottom+x}),ch=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),dh=(m,h)=>ye.some(m.getRect(h)),Qf=(m,h,x)=>In(h)?dh(m,h).map(ch):Tn(h)?((S,N,R)=>R>=0&&R<es(N)?S.getRangedRect(N,R,N,R+1):R>0?S.getRangedRect(N,R-1,N,R):ye.none())(m,h,x).map(ch):ye.none(),rp=(m,h)=>In(h)?dh(m,h).map(ch):Tn(h)?m.getRangedRect(h,0,h,es(h)).map(ch):ye.none(),Oc=Uf([{none:[]},{retry:["caret"]}]),uh=(m,h,x)=>dc(h,qm).fold(ue,S=>rp(m,S).exists(N=>((R,F)=>R.left<F.left||Math.abs(F.right-R.left)<1||R.left>F.right)(x,N))),B_={point:m=>m.bottom,adjuster:(m,h,x,S,N)=>{const R=vu(N,5);return Math.abs(x.bottom-S.bottom)<1||x.top>N.bottom?Oc.retry(R):x.top===N.bottom?Oc.retry(vu(N,1)):uh(m,h,N)?Oc.retry(Md(R,5,0)):Oc.none()},move:vu,gather:ah},Jl=(m,h,x,S,N)=>N===0?ye.some(S):((R,F,j)=>R.elementFromPoint(F,j).filter(Q=>Wt(Q)==="table").isSome())(m,S.left,h.point(S))?((R,F,j,Q,le)=>Jl(R,F,j,F.move(Q,5),le))(m,h,x,S,N-1):m.situsFromPoint(S.left,h.point(S)).bind(R=>R.start.fold(ye.none,F=>rp(m,F).bind(j=>h.adjuster(m,F,j,x,S).fold(ye.none,Q=>Jl(m,h,x,Q,N-1))).orThunk(()=>ye.some(S)),ye.none)),xu=(m,h,x)=>{const S=m.move(x,5),N=Jl(h,m,x,S,100).getOr(S);return((R,F,j)=>R.point(F)>j.getInnerHeight()?ye.some(R.point(F)-j.getInnerHeight()):R.point(F)<0?ye.some(-R.point(F)):ye.none())(m,N,h).fold(()=>h.situsFromPoint(N.left,m.point(N)),R=>(h.scrollBy(0,R),h.situsFromPoint(N.left,m.point(N)-R)))},Ac={tryUp:st(xu,{point:m=>m.top,adjuster:(m,h,x,S,N)=>{const R=lh(N,5);return Math.abs(x.top-S.top)<1||x.bottom<N.top?Oc.retry(R):x.bottom===N.top?Oc.retry(lh(N,1)):uh(m,h,N)?Oc.retry(Md(R,5,0)):Oc.none()},move:lh,gather:Fv}),tryDown:st(xu,B_),getJumpSize:so(5)},_1=(m,h,x)=>m.getSelection().bind(S=>((N,R,F,j)=>(Fb(R)?((le,be,se)=>se.traverse(be).orThunk(()=>_i(be,se.gather,le)).map(se.relative))(N,R,j):k1(N,R,F,j)).map(le=>({start:le,finish:le})))(h,S.finish,S.foffset,x).fold(()=>ye.some(_o(S.finish,S.foffset)),N=>{const R=m.fromSitus(N);return F=Gp.verify(m,S.finish,S.foffset,R.finish,R.foffset,x.failure,h),Gp.cata(F,j=>ye.none(),()=>ye.none(),j=>ye.some(_o(j,0)),j=>ye.some(_o(j,es(j))));var F})),na=(m,h,x,S,N,R)=>R===0?ye.none():P_(m,h,x,S,N).bind(F=>{const j=m.fromSitus(F),Q=Gp.verify(m,x,S,j.finish,j.foffset,N.failure,h);return Gp.cata(Q,()=>ye.none(),()=>ye.some(F),le=>Vn(x,le)&&S===0?Nc(m,x,S,lh,N):na(m,h,le,0,N,R-1),le=>Vn(x,le)&&S===es(le)?Nc(m,x,S,vu,N):na(m,h,le,es(le),N,R-1))}),Nc=(m,h,x,S,N)=>Qf(m,h,x).bind(R=>Xi(m,N,S(R,Ac.getJumpSize()))),Xi=(m,h,x)=>{const S=Fl().browser;return S.isChromium()||S.isSafari()||S.isFirefox()?h.retry(m,x):ye.none()},P_=(m,h,x,S,N)=>Qf(m,x,S).bind(R=>Xi(m,N,R)),Ju=(m,h,x,S,N)=>bn(S,"td,th",h).bind(R=>bn(R,"table",h).bind(F=>((j,Q)=>Ui(j,le=>mi(le).exists(be=>Vn(be,Q)),void 0).isSome())(N,F)?((j,Q,le)=>_1(j,Q,le).bind(be=>na(j,Q,be.element,be.offset,le,20).map(j.fromSitus)))(m,h,x).bind(j=>bn(j.finish,"td,th",h).map(Q=>({start:R,finish:Q,range:j}))):ye.none())),ku=(m,h,x,S,N,R)=>R(S,h).orThunk(()=>Ju(m,h,x,S,N).map(F=>{const j=F.range;return Gr(ye.some(ki(j.start,j.soffset,j.finish,j.foffset)),!0)})),Kp=(m,h)=>bn(m,"tr",h).bind(x=>bn(x,"table",h).bind(S=>{const N=Rn(S,"tr");return Vn(x,N[0])?((R,F,j)=>M_(Jf,R,Q=>Wl(Q).isSome(),j))(S,0,h).map(R=>{const F=es(R);return Gr(ye.some(ki(R,F,R,F)),!0)}):ye.none()})),em=(m,h)=>bn(m,"tr",h).bind(x=>bn(x,"table",h).bind(S=>{const N=Rn(S,"tr");return Vn(x,N[N.length-1])?((R,F,j)=>sh(Jf,R,Q=>Vu(Q).isSome(),j))(S,0,h).map(R=>Gr(ye.some(ki(R,0,R,0)),!0)):ye.none()})),Al=(m,h,x,S,N,R,F)=>Ju(m,x,S,N,R).bind(j=>nh(h,x,j.start,j.finish,F)),Hb=m=>{let h=m;return{get:()=>h,set:x=>{h=x}}},$b=()=>{const m=(h=>{const x=Hb(ye.none()),S=()=>x.get().each(h);return{clear:()=>{S(),x.set(ye.none())},isSet:()=>x.get().isSome(),get:()=>x.get(),set:N=>{S(),x.set(ye.some(N))}}})(Bt);return{...m,on:h=>m.get().each(h)}},fh=(m,h)=>bn(m,"td,th",h),Vb=m=>fl(m).exists(go),Hv={traverse:Ba,gather:ah,relative:qn.before,retry:Ac.tryDown,failure:Gp.failedDown},mh={traverse:mo,gather:Fv,relative:qn.before,retry:Ac.tryUp,failure:Gp.failedUp},_u=m=>h=>h===m,ph=_u(38),sp=_u(40),ap=m=>m>=37&&m<=40,Qu={isBackward:_u(37),isForward:_u(39)},ef={isBackward:_u(39),isForward:_u(37)},gh=Uf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),tf={domRange:gh.domRange,relative:gh.relative,exact:gh.exact,exactFromRange:m=>gh.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(x=>x.match({domRange:S=>nt.fromDom(S.startContainer),relative:(S,N)=>qn.getStart(S),exact:(S,N,R,F)=>S}))(m);return nt.fromDom(Oi(h).dom.defaultView)},range:oh},of=(m,h)=>{const x=Wt(m);return x==="input"?qn.after(m):Lo(["br","img"],x)?h===0?qn.before(m):qn.after(m):qn.on(m,h)},nf=m=>ye.from(m.getSelection()),ip=(m,h)=>{nf(m).each(x=>{x.removeAllRanges(),x.addRange(h)})},jb=(m,h,x,S,N)=>{const R=th(m,h,x,S,N);ip(m,R)},Yp=(m,h)=>Lb(m,h).match({ltr:(x,S,N,R)=>{jb(m,x,S,N,R)},rtl:(x,S,N,R)=>{nf(m).each(F=>{if(F.setBaseAndExtent)F.setBaseAndExtent(x.dom,S,N.dom,R);else if(F.extend)try{((j,Q,le,be,se,ce)=>{Q.collapse(le.dom,be),Q.extend(se.dom,ce)})(0,F,x,S,N,R)}catch{jb(m,N,R,x,S)}else jb(m,N,R,x,S)})}}),Ub=(m,h,x,S,N)=>{const R=((F,j,Q,le)=>{const be=of(F,j),se=of(Q,le);return tf.relative(be,se)})(h,x,S,N);Yp(m,R)},w1=(m,h,x)=>{const S=((N,R)=>{const F=N.fold(qn.before,of,qn.after),j=R.fold(qn.before,of,qn.after);return tf.relative(F,j)})(h,x);Yp(m,S)},Xp=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),x=m.getRangeAt(m.rangeCount-1);return ye.some(oh(nt.fromDom(h.startContainer),h.startOffset,nt.fromDom(x.endContainer),x.endOffset))}return ye.none()},ra=m=>{if(m.anchorNode===null||m.focusNode===null)return Xp(m);{const h=nt.fromDom(m.anchorNode),x=nt.fromDom(m.focusNode);return((S,N,R,F)=>{const j=((le,be,se,ce)=>{const fe=nl(le).dom.createRange();return fe.setStart(le.dom,be),fe.setEnd(se.dom,ce),fe})(S,N,R,F),Q=Vn(S,R)&&N===F;return j.collapsed&&!Q})(h,m.anchorOffset,x,m.focusOffset)?ye.some(oh(h,m.anchorOffset,x,m.focusOffset)):Xp(m)}},C1=(m,h,x=!0)=>{const S=(x?Mb:bs)(m,h);ip(m,S)},$v=m=>(h=>nf(h).filter(x=>x.rangeCount>0).bind(ra))(m).map(h=>tf.exact(h.start,h.soffset,h.finish,h.foffset)),S1=(m,h,x)=>((S,N,R)=>((F,j,Q)=>F.caretPositionFromPoint?((le,be,se)=>{var ce;return ye.from((ce=le.caretPositionFromPoint)===null||ce===void 0?void 0:ce.call(le,be,se)).bind(fe=>{if(fe.offsetNode===null)return ye.none();const Ce=le.createRange();return Ce.setStart(fe.offsetNode,fe.offset),Ce.collapse(),ye.some(Ce)})})(F,j,Q):F.caretRangeFromPoint?((le,be,se)=>{var ce;return ye.from((ce=le.caretRangeFromPoint)===null||ce===void 0?void 0:ce.call(le,be,se))})(F,j,Q):ye.none())(S.document,N,R).map(F=>oh(nt.fromDom(F.startContainer),F.startOffset,nt.fromDom(F.endContainer),F.endOffset)))(m,h,x),E1=m=>({elementFromPoint:(h,x)=>nt.fromPoint(nt.fromDom(m.document),h,x),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,x,S,N)=>{const R=tf.exact(h,x,S,N);return((F,j)=>(Q=>{const le=Q.getClientRects(),be=le.length>0?le[0]:Q.getBoundingClientRect();return be.width>0||be.height>0?ye.some(be).map(h1):ye.none()})(b1(F,j)))(m,R)},getSelection:()=>$v(m).map(h=>y1(m,h)),fromSitus:h=>{const x=tf.relative(h.start,h.finish);return y1(m,x)},situsFromPoint:(h,x)=>S1(m,h,x).map(S=>Yi(S.start,S.soffset,S.finish,S.foffset)),clearSelection:()=>{(h=>{nf(h).each(x=>x.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{$v(m).each(x=>x.fold(S=>S.collapse(h),(S,N)=>{const R=h?S:N;w1(m,R,R)},(S,N,R,F)=>{const j=h?S:R,Q=h?N:F;Ub(m,j,Q,j,Q)}))},setSelection:h=>{Ub(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,x)=>{w1(m,h,x)},selectNode:h=>{C1(m,h,!1)},selectContents:h=>{C1(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const x=h!==void 0?h.dom:document,S=x.body.scrollLeft||x.documentElement.scrollLeft,N=x.body.scrollTop||x.documentElement.scrollTop;return Ia(S,N)})(nt.fromDom(m.document)).top,scrollBy:(h,x)=>{((S,N,R)=>{const F=(R!==void 0?R.dom:document).defaultView;F&&F.scrollBy(S,N)})(h,x,nt.fromDom(m.document))}}),rf=(m,h)=>({rows:m,cols:h}),Zb=m=>dc(m,Jn).exists(go),hh=(m,h)=>Zb(m)||Zb(h),z1=m=>m.dom.classList!==void 0,L_=(m,h)=>((x,S,N)=>{const R=((F,j)=>{const Q=ct(F,j);return Q===void 0||Q===""?[]:Q.split(" ")})(x,S).concat([N]);return Yo(x,S,R.join(" ")),!0})(m,"class",h),sf=(m,h)=>{z1(m)?m.dom.classList.add(h):L_(m,h)},bh=(m,h)=>z1(m)&&m.dom.classList.contains(h),Vv=()=>({tag:"none"}),jv=m=>({tag:"multiple",elements:m}),Qc=m=>({tag:"single",element:m}),T1=m=>{const h=nt.fromDom((j=>{if(pn(j.target)){const Q=nt.fromDom(j.target);if(In(Q)&&pn(Q.dom.shadowRoot)&&j.composed&&j.composedPath){const le=j.composedPath();if(le)return hn(le)}}return ye.from(j.target)})(m).getOr(m.target)),x=()=>m.stopPropagation(),S=()=>m.preventDefault(),N=(R=S,F=x,(...j)=>R(F.apply(null,j)));var R,F;return((j,Q,le,be,se,ce,fe)=>({target:j,x:Q,y:le,stop:be,prevent:se,kill:ce,raw:fe}))(h,m.clientX,m.clientY,x,S,N,m)},Wb=(m,h,x,S)=>{m.dom.removeEventListener(h,x,S)},Uv=Dt,lp=(m,h,x)=>((S,N,R,F)=>((j,Q,le,be,se)=>{const ce=((fe,Ce)=>Se=>{fe(Se)&&Ce(T1(Se))})(le,be);return j.dom.addEventListener(Q,ce,se),{unbind:st(Wb,j,Q,ce,se)}})(S,N,R,F,!1))(m,h,Uv,x),Jp=T1,yh=m=>!bh(nt.fromDom(m.target),"ephox-snooker-resizer-bar"),Zv=(m,h)=>{const x=(N=Od.selectedSelector,{get:()=>Sl(nt.fromDom(m.getBody()),N).fold(()=>zr(Cl(m),Zr(m)).fold(Vv,Qc),jv)}),S=((R,F,j)=>{const Q=ce=>{Vo(ce,R.selected),Vo(ce,R.firstSelected),Vo(ce,R.lastSelected)},le=ce=>{Yo(ce,R.selected,"1")},be=ce=>{se(ce),j()},se=ce=>{const fe=Rn(ce,`${R.selectedSelector},${R.firstSelectedSelector},${R.lastSelectedSelector}`);ot(fe,Q)};return{clearBeforeUpdate:se,clear:be,selectRange:(ce,fe,Ce,Se)=>{be(ce),ot(fe,le),Yo(Ce,R.firstSelected,"1"),Yo(Se,R.lastSelected,"1"),F(fe,Ce,Se)},selectedSelector:R.selectedSelector,firstSelectedSelector:R.firstSelectedSelector,lastSelectedSelector:R.lastSelectedSelector}})(Od,(R,F,j)=>{G(F).each(Q=>{const le=O(R,fe=>fe.dom),be=Wi(m),se=ir(Bt,nt.fromDom(m.getDoc()),be),ce=((fe,Ce,Se)=>{const qe=$o(fe);return Ws(qe,Ce).map(Ge=>{const We=ut(qe,Se,!1),{rows:Ye}=ar(We),mt=((Ee,Nt)=>{const io=Ee.slice(0,Nt[Nt.length-1].row+1),Do=ho(io);return et(Do,yo=>{const lo=yo.cells.slice(0,Nt[Nt.length-1].column+1);return O(lo,Ro=>Ro.element)})})(Ye,Ge),bt=((Ee,Nt)=>{const io=Ee.slice(Nt[0].row+Nt[0].rowspan-1,Ee.length),Do=ho(io);return et(Do,yo=>{const lo=yo.cells.slice(Nt[0].column+Nt[0].colspan-1,yo.cells.length);return O(lo,Ro=>Ro.element)})})(Ye,Ge);return{upOrLeftCells:mt,downOrRightCells:bt}})})(Q,{selection:El(m)},se).map(fe=>$i(fe,Ce=>O(Ce,Se=>Se.dom))).getOrUndefined();((fe,Ce,Se,qe,Ge)=>{fe.dispatch("TableSelectionChange",{cells:Ce,start:Se,finish:qe,otherCells:Ge})})(m,le,F.dom,j.dom,ce)})},()=>(R=>{R.dispatch("TableSelectionClear")})(m));var N;return m.on("init",R=>{const F=m.getWin(),j=zn(m),Q=Zr(m),le=((Se,qe,Ge,We)=>{const Ye=((mt,bt,Ee,Nt)=>{const io=$b(),Do=io.clear,yo=lo=>{io.on(Ro=>{Nt.clearBeforeUpdate(bt),fh(lo.target,Ee).each(ln=>{Gl(Ro,ln,Ee).each(Es=>{const ii=Es.boxes.getOr([]);if(ii.length===1){const Na=ii[0],Ql=Vt(Na)==="false",rm=bi(Eo(lo.target),Na,Vn);Ql&&rm&&Nt.selectRange(bt,ii,Na,Na)}else ii.length>1&&(Nt.selectRange(bt,ii,Es.start,Es.finish),mt.selectContents(ln))})})})};return{clearstate:Do,mousedown:lo=>{Nt.clear(bt),fh(lo.target,Ee).filter(Vb).each(io.set)},mouseover:lo=>{yo(lo)},mouseup:lo=>{yo(lo),Do()}}})(E1(Se),qe,Ge,We);return{clearstate:Ye.clearstate,mousedown:Ye.mousedown,mouseover:Ye.mouseover,mouseup:Ye.mouseup}})(F,j,Q,S),be=((Se,qe,Ge,We)=>{const Ye=E1(Se),mt=()=>(We.clear(qe),ye.none());return{keydown:(bt,Ee,Nt,io,Do,yo)=>{const lo=bt.raw,Ro=lo.which,ln=lo.shiftKey===!0;return Pf(qe,We.selectedSelector).fold(()=>(ap(Ro)&&!ln&&We.clearBeforeUpdate(qe),ap(Ro)&&ln&&!hh(Ee,io)?ye.none:sp(Ro)&&ln?st(Al,Ye,qe,Ge,Hv,io,Ee,We.selectRange):ph(Ro)&&ln?st(Al,Ye,qe,Ge,mh,io,Ee,We.selectRange):sp(Ro)?st(ku,Ye,Ge,Hv,io,Ee,em):ph(Ro)?st(ku,Ye,Ge,mh,io,Ee,Kp):ye.none),ii=>{const Na=Ql=>()=>H(Ql,li=>((Bd,eg,cf,tg,Qb)=>ba(tg,Bd,eg,Qb.firstSelectedSelector,Qb.lastSelectedSelector).map(df=>(Qb.clearBeforeUpdate(cf),Qb.selectRange(cf,df.boxes,df.start,df.finish),df.boxes)))(li.rows,li.cols,qe,ii,We)).fold(()=>zd(qe,We.firstSelectedSelector,We.lastSelectedSelector).map(li=>{const Bd=sp(Ro)||yo.isForward(Ro)?qn.after:qn.before;return Ye.setRelativeSelection(qn.on(li.first,0),Bd(li.table)),We.clear(qe),Gr(ye.none(),!0)}),li=>ye.some(Gr(ye.none(),!0)));return ap(Ro)&&ln&&!hh(Ee,io)?ye.none:sp(Ro)&&ln?Na([rf(1,0)]):ph(Ro)&&ln?Na([rf(-1,0)]):yo.isBackward(Ro)&&ln?Na([rf(0,-1),rf(-1,0)]):yo.isForward(Ro)&&ln?Na([rf(0,1),rf(1,0)]):ap(Ro)&&!ln?mt:ye.none})()},keyup:(bt,Ee,Nt,io,Do)=>Pf(qe,We.selectedSelector).fold(()=>{const yo=bt.raw,lo=yo.which;return yo.shiftKey===!0&&ap(lo)&&hh(Ee,io)?((Ro,ln,Es,ii,Na,Ql,rm)=>Vn(Es,Na)&&ii===Ql?ye.none():bn(Es,"td,th",ln).bind(li=>bn(Na,"td,th",ln).bind(Bd=>nh(Ro,ln,li,Bd,rm))))(qe,Ge,Ee,Nt,io,Do,We.selectRange):ye.none()},ye.none)}})(F,j,Q,S),se=((Se,qe,Ge,We)=>{const Ye=E1(Se);return(mt,bt)=>{We.clearBeforeUpdate(qe),Gl(mt,bt,Ge).each(Ee=>{const Nt=Ee.boxes.getOr([]);We.selectRange(qe,Nt,Ee.start,Ee.finish),Ye.selectContents(bt),Ye.collapseSelection()})}})(F,j,Q,S);m.on("TableSelectorChange",Se=>se(Se.start,Se.finish));const ce=(Se,qe)=>{(Ge=>Ge.raw.shiftKey===!0)(Se)&&(qe.kill&&Se.kill(),qe.selection.each(Ge=>{const We=tf.relative(Ge.start,Ge.finish),Ye=b1(F,We);m.selection.setRng(Ye)}))},fe=Se=>Se.button===0,Ce=(()=>{const Se=Hb(nt.fromDom(j)),qe=Hb(0);return{touchEnd:Ge=>{const We=nt.fromDom(Ge.target);if(Fn("td")(We)||Fn("th")(We)){const Ye=Se.get(),mt=qe.get();Vn(Ye,We)&&Ge.timeStamp-mt<300&&(Ge.preventDefault(),se(We,We))}Se.set(We),qe.set(Ge.timeStamp)}}})();m.on("dragstart",Se=>{le.clearstate()}),m.on("mousedown",Se=>{fe(Se)&&yh(Se)&&le.mousedown(Jp(Se))}),m.on("mouseover",Se=>{var qe;(qe=Se).buttons!==void 0&&!(1&qe.buttons)||!yh(Se)||le.mouseover(Jp(Se))}),m.on("mouseup",Se=>{fe(Se)&&yh(Se)&&le.mouseup(Jp(Se))}),m.on("touchend",Ce.touchEnd),m.on("keyup",Se=>{const qe=Jp(Se);if(qe.raw.shiftKey&&ap(qe.raw.which)){const Ge=m.selection.getRng(),We=nt.fromDom(Ge.startContainer),Ye=nt.fromDom(Ge.endContainer);be.keyup(qe,We,Ge.startOffset,Ye,Ge.endOffset).each(mt=>{ce(qe,mt)})}}),m.on("keydown",Se=>{const qe=Jp(Se);h.hide();const Ge=m.selection.getRng(),We=nt.fromDom(Ge.startContainer),Ye=nt.fromDom(Ge.endContainer),mt=Uo(Qu,ef)(nt.fromDom(m.selection.getStart()));be.keydown(qe,We,Ge.startOffset,Ye,Ge.endOffset,mt).each(bt=>{ce(qe,bt)}),h.show()}),m.on("NodeChange",()=>{const Se=m.selection,qe=nt.fromDom(Se.getStart()),Ge=nt.fromDom(Se.getEnd());Ed(G,[qe,Ge]).fold(()=>S.clear(j),Bt)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(Od.firstSelected),m.serializer.addTempAttr(Od.lastSelected)}),{getSelectedCells:()=>((R,F,j,Q)=>{switch(R.tag){case"none":return F();case"single":return(le=>[le.dom])(R.element);case"multiple":return(le=>O(le,be=>be.dom))(R.elements)}})(x.get(),so([])),clearSelectedCells:R=>S.clear(nt.fromDom(R))}},ed=m=>{let h=[];return{bind:x=>{if(x===void 0)throw new Error("Event bind error: undefined handler");h.push(x)},unbind:x=>{h=Ft(h,S=>S!==x)},trigger:(...x)=>{const S={};ot(m,(N,R)=>{S[N]=x[R]}),ot(h,N=>{N(S)})}}},tm=m=>({registry:$i(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:$i(m,h=>h.trigger)}),vh=m=>m.slice(0).sort(),xh=(m,h)=>{const x=Ft(h,S=>!Lo(m,S));x.length>0&&(S=>{throw new Error("Unsupported keys for object: "+vh(S).join(", "))})(x)},qb=m=>((h,x)=>((S,N,R)=>{if(N.length===0)throw new Error("You must specify at least one required field.");return((F,j)=>{if(!tr(j))throw new Error("The "+F+" fields must be an array. Was: "+j+".");ot(j,Q=>{if(!Yn(Q))throw new Error("The value "+Q+" in the "+F+" fields was not a string.")})})("required",N),(F=>{const j=vh(F);Oo(j,(Q,le)=>le<j.length-1&&Q===j[le+1]).each(Q=>{throw new Error("The field: "+Q+" occurs more than once in the combined fields: ["+j.join(", ")+"].")})})(N),F=>{const j=wa(F);St(N,le=>Lo(j,le))||((le,be)=>{throw new Error("All required keys ("+vh(le).join(", ")+") were not specified. Specified keys were: "+vh(be).join(", ")+".")})(N,j),S(N,j);const Q=Ft(N,le=>!R.validate(F[le],le));return Q.length>0&&((le,be)=>{throw new Error("All values need to be of type: "+be+". Keys ("+vh(le).join(", ")+") were not.")})(Q,R.label),F}})(h,x,{validate:Ur,label:"function"}))(xh,m),kh=qb(["compare","extract","mutate","sink"]),Wa=qb(["element","start","stop","destroy"]),Gb=qb(["forceDrop","drop","move","delayDrop"]),om=()=>{const m=(()=>{const S=tm({move:ed(["info"])});return{onEvent:Bt,reset:Bt,events:S.registry}})(),h=(()=>{let S=ye.none();const N=tm({move:ed(["info"])});return{onEvent:(R,F)=>{F.extract(R).each(j=>{((le,be)=>{const se=S.map(ce=>le.compare(ce,be));return S=ye.some(be),se})(F,j).each(le=>{N.trigger.move(le)})})},reset:()=>{S=ye.none()},events:N.registry}})();let x=m;return{on:()=>{x.reset(),x=h},off:()=>{x.reset(),x=m},isOn:()=>x===h,onEvent:(S,N)=>{x.onEvent(S,N)},events:h.events}},nm=m=>{const h=m.replace(/\./g,"-");return{resolve:x=>h+"-"+x}},_h=nm("ephox-dragster").resolve;var Kb=kh({compare:(m,h)=>Ia(h.left-m.left,h.top-m.top),extract:m=>ye.some(Ia(m.x,m.y)),sink:(m,h)=>{const x=(j=>{const Q={layerClass:_h("blocker"),...j},le=nt.fromTag("div");return Yo(le,"role","presentation"),Pl(le,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),sf(le,_h("blocker")),sf(le,Q.layerClass),{element:so(le),destroy:()=>{rr(le)}}})(h),S=lp(x.element(),"mousedown",m.forceDrop),N=lp(x.element(),"mouseup",m.drop),R=lp(x.element(),"mousemove",m.move),F=lp(x.element(),"mouseout",m.delayDrop);return Wa({element:x.element,start:j=>{hr(j,x.element())},stop:()=>{rr(x.element())},destroy:()=>{x.destroy(),N.unbind(),R.unbind(),F.unbind(),S.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const cp=nm("ephox-snooker").resolve,af=cp("resizer-bar"),O1=cp("resizer-rows"),Yb=cp("resizer-cols"),Pi=m=>{const h=Rn(m.parent(),"."+af);ot(h,rr)},lf=(m,h,x)=>{const S=m.origin();ot(h,N=>{N.each(R=>{const F=x(S,R);sf(F,af),hr(m.parent(),F)})})},A1=(m,h,x,S,N)=>{const R=_d(x),F=h.isResizable,j=S.length>0?pc.positions(S,x):[],Q=j.length>0?((se,ce)=>et(se.all,(fe,Ce)=>ce(fe.element)?[Ce]:[]))(m,F):[];((se,ce,fe,Ce)=>{lf(se,ce,(Se,qe)=>{const Ge=((We,Ye,mt,bt,Ee)=>{const Nt=nt.fromTag("div");return Pl(Nt,{position:"absolute",left:Ye+"px",top:mt-3.5+"px",height:"7px",width:bt+"px"}),Xs(Nt,{"data-row":We,role:"presentation"}),Nt})(qe.row,fe.left-Se.left,qe.y-Se.top,Ce);return sf(Ge,O1),Ge})})(h,Ft(j,(se,ce)=>Fe(Q,fe=>ce===fe)),R,vd(x));const le=N.length>0?wd.positions(N,x):[],be=le.length>0?((se,ce)=>{const fe=[];return Pt(se.grid.columns,Ce=>{dn(se,Ce).map(Se=>Se.element).forall(ce)&&fe.push(Ce)}),Ft(fe,Ce=>{const Se=Rs(se,qe=>qe.column===Ce);return St(Se,qe=>ce(qe.element))})})(m,F):[];((se,ce,fe,Ce)=>{lf(se,ce,(Se,qe)=>{const Ge=((We,Ye,mt,bt,Ee)=>{const Nt=nt.fromTag("div");return Pl(Nt,{position:"absolute",left:Ye-3.5+"px",top:mt+"px",height:Ee+"px",width:"7px"}),Xs(Nt,{"data-column":We,role:"presentation"}),Nt})(qe.col,qe.x-Se.left,fe.top-Se.top,0,Ce);return sf(Ge,Yb),Ge})})(h,Ft(le,(se,ce)=>Fe(be,fe=>ce===fe)),R,Tf(x))},De=(m,h)=>{if(Pi(m),m.isResizable(h)){const x=$o(h),S=Vl(x),N=ou(x);A1(x,m,h,S,N)}},Qp=(m,h)=>{const x=Rn(m.parent(),"."+af);ot(x,h)},I_=m=>{Qp(m,h=>{Wo(h,"display","none")})},Wv=m=>{Qp(m,h=>{Wo(h,"display","block")})},Xb=cp("resizer-bar-dragging"),td=m=>{const h=(()=>{const se=tm({drag:ed(["xDelta","yDelta","target"])});let ce=ye.none();const fe=(()=>{const Ce=tm({drag:ed(["xDelta","yDelta"])});return{mutate:(Se,qe)=>{Ce.trigger.drag(Se,qe)},events:Ce.registry}})();return fe.events.drag.bind(Ce=>{ce.each(Se=>{se.trigger.drag(Ce.xDelta,Ce.yDelta,Se)})}),{assign:Ce=>{ce=ye.some(Ce)},get:()=>ce,mutate:fe.mutate,events:se.registry}})(),x=((se,ce={})=>{var fe;return((Ce,Se,qe)=>{let Ge=!1;const We=tm({start:ed([]),stop:ed([])}),Ye=om(),mt=()=>{Nt.stop(),Ye.isOn()&&(Ye.off(),We.trigger.stop())},bt=((io,Do)=>{let yo=null;const lo=()=>{nr(yo)||(clearTimeout(yo),yo=null)};return{cancel:lo,throttle:(...Ro)=>{lo(),yo=setTimeout(()=>{yo=null,io.apply(null,Ro)},200)}}})(mt);Ye.events.move.bind(io=>{Se.mutate(Ce,io.info)});const Ee=io=>(...Do)=>{Ge&&io.apply(null,Do)},Nt=Se.sink(Gb({forceDrop:mt,drop:Ee(mt),move:Ee(io=>{bt.cancel(),Ye.onEvent(io,Se)}),delayDrop:Ee(bt.throttle)}),qe);return{element:Nt.element,go:io=>{Nt.start(io),Ye.on(),We.trigger.start()},on:()=>{Ge=!0},off:()=>{Ge=!1},isActive:()=>Ge,destroy:()=>{Nt.destroy()},events:We.registry}})(se,(fe=ce.mode)!==null&&fe!==void 0?fe:Kb,ce)})(h,{});let S=ye.none();const N=(se,ce)=>ye.from(ct(se,ce));h.events.drag.bind(se=>{N(se.target,"data-row").each(ce=>{const fe=uc(se.target,"top");Wo(se.target,"top",fe+se.yDelta+"px")}),N(se.target,"data-column").each(ce=>{const fe=uc(se.target,"left");Wo(se.target,"left",fe+se.xDelta+"px")})});const R=(se,ce)=>uc(se,ce)-br(se,"data-initial-"+ce,0);x.events.stop.bind(()=>{h.get().each(se=>{S.each(ce=>{N(se,"data-row").each(fe=>{const Ce=R(se,"top");Vo(se,"data-initial-top"),be.trigger.adjustHeight(ce,Ce,parseInt(fe,10))}),N(se,"data-column").each(fe=>{const Ce=R(se,"left");Vo(se,"data-initial-left"),be.trigger.adjustWidth(ce,Ce,parseInt(fe,10))}),De(m,ce)})})});const F=(se,ce)=>{be.trigger.startAdjust(),h.assign(se),Yo(se,"data-initial-"+ce,uc(se,ce)),sf(se,Xb),Wo(se,"opacity","0.2"),x.go(m.parent())},j=lp(m.parent(),"mousedown",se=>{var ce;ce=se.target,bh(ce,O1)&&F(se.target,"top"),(fe=>bh(fe,Yb))(se.target)&&F(se.target,"left")}),Q=se=>Vn(se,m.view()),le=lp(m.view(),"mouseover",se=>{var ce;(ce=se.target,bn(ce,"table",Q).filter(go)).fold(()=>{ji(se.target)&&Pi(m)},fe=>{x.isActive()&&(S=ye.some(fe),De(m,fe))})}),be=tm({adjustHeight:ed(["table","delta","row"]),adjustWidth:ed(["table","delta","column"]),startAdjust:ed([])});return{destroy:()=>{j.unbind(),le.unbind(),x.destroy(),Pi(m)},refresh:se=>{De(m,se)},on:x.on,off:x.off,hideBars:st(I_,m),showBars:st(Wv,m),events:be.registry}},Jb=m=>pn(m)&&m.nodeName==="TABLE",wh="bar-",N1=m=>ct(m,"data-mce-resize")!=="false",R1=m=>{const h=$b(),x=$b(),S=$b();let N,R,F,j;const Q=se=>Yu(m,se),le=()=>Wc(m)?Vp():wc(),be=(se,ce,fe,Ce)=>{const Se=(We=>{return pd(Ye=We,"corner-")?((mt,bt)=>mt.substring(7))(Ye):Ye;var Ye})(ce),qe=to(Se,"e"),Ge=pd(Se,"n");if(R===""&&Jm(se),j===""&&(We=>{const Ye=(mt=>mc(mt)+"px")(We);fr(We,ye.none(),ye.some(Ye)),Xc(We)})(se),fe!==N&&R!==""){Wo(se,"width",R);const We=le(),Ye=Q(se),mt=Wc(m)||qe?(bt=>Tl(bt).columns)(se)-1:0;gu(se,fe-N,mt,We,Ye)}else if((We=>/^(\d+(\.\d+)?)%$/.test(We))(R)){const We=parseFloat(R.replace("%",""));Wo(se,"width",fe*We/N+"%")}if((We=>/^(\d+(\.\d+)?)px$/.test(We))(R)&&(We=>{const Ye=$o(We);yl(Ye)||ot(yr(We),mt=>{const bt=fa(mt,"width");Wo(mt,"width",bt),Vo(mt,"width")})})(se),Ce!==F&&j!==""){Wo(se,"height",j);const We=Ge?0:(Ye=>Tl(Ye).rows)(se)-1;Um(se,Ce-F,We)}};return m.on("init",()=>{const se=((ce,fe)=>ce.inline?((Ce,Se,qe)=>({parent:so(Se),view:so(Ce),origin:so(Ia(0,0)),isResizable:qe}))(nt.fromDom(ce.getBody()),(()=>{const Ce=nt.fromTag("div");return Pl(Ce,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(md(nt.fromDom(document)),Ce),Ce})(),fe):((Ce,Se)=>{const qe=Yr(Ce)?(Ge=>nt.fromDom(Oi(Ge).dom.documentElement))(Ce):Ce;return{parent:so(qe),view:so(Ce),origin:so(Ia(0,0)),isResizable:Se}})(nt.fromDom(ce.getDoc()),fe))(m,N1);if(S.set(se),(ce=>{const fe=ce.options.get("object_resizing");return Lo(fe.split(","),"table")})(m)&&V(m)){const ce=((fe,Ce,Se)=>{const qe=pc,Ge=wd,We=td(fe),Ye=tm({beforeResize:ed(["table","type"]),afterResize:ed(["table","type"]),startDrag:ed([])});return We.events.adjustHeight.bind(mt=>{const bt=mt.table;Ye.trigger.beforeResize(bt,"row");const Ee=qe.delta(mt.delta,bt);Um(bt,Ee,mt.row),Ye.trigger.afterResize(bt,"row")}),We.events.startAdjust.bind(mt=>{Ye.trigger.startDrag()}),We.events.adjustWidth.bind(mt=>{const bt=mt.table;Ye.trigger.beforeResize(bt,"col");const Ee=Ge.delta(mt.delta,bt),Nt=Se(bt);gu(bt,Ee,mt.column,Ce,Nt),Ye.trigger.afterResize(bt,"col")}),{on:We.on,off:We.off,refreshBars:We.refresh,hideBars:We.hideBars,showBars:We.showBars,destroy:We.destroy,events:Ye.registry}})(se,le(),Q);ce.on(),ce.events.startDrag.bind(fe=>{h.set(m.selection.getRng())}),ce.events.beforeResize.bind(fe=>{const Ce=fe.table.dom;((Se,qe,Ge,We,Ye)=>{Se.dispatch("ObjectResizeStart",{target:qe,width:Ge,height:We,origin:Ye})})(m,Ce,lu(Ce),Sd(Ce),wh+fe.type)}),ce.events.afterResize.bind(fe=>{const Ce=fe.table,Se=Ce.dom;Rr(Ce),h.on(qe=>{m.selection.setRng(qe),m.focus()}),((qe,Ge,We,Ye,mt)=>{qe.dispatch("ObjectResized",{target:Ge,width:We,height:Ye,origin:mt})})(m,Se,lu(Se),Sd(Se),wh+fe.type),m.undoManager.add()}),x.set(ce)}}),m.on("ObjectResizeStart",se=>{const ce=se.target;if(Jb(ce)){const fe=nt.fromDom(ce);ot(m.dom.select(".mce-clonedresizable"),Ce=>{m.dom.addClass(Ce,"mce-"+xc(m)+"-columns")}),!Pr(fe)&&w(m)?Ki(fe):!Db(fe)&&kc(m)&&Jm(fe),Dd(fe)&&pd(se.origin,wh)&&Jm(fe),N=se.width,R=D(m)?"":Vg(m,ce).getOr(""),F=se.height,j=Fm(m,ce).getOr("")}}),m.on("ObjectResized",se=>{const ce=se.target;if(Jb(ce)){const fe=nt.fromDom(ce),Ce=se.origin;(Se=>pd(Se,"corner-"))(Ce)&&be(fe,Ce,se.width,se.height),Rr(fe),bu(m,fe.dom,Ab)}}),m.on("SwitchMode",()=>{x.on(se=>{m.mode.isReadOnly()?se.hideBars():se.showBars()})}),m.on("dragstart dragend",se=>{x.on(ce=>{se.type==="dragstart"?(ce.hideBars(),ce.off()):(ce.on(),ce.showBars())})}),m.on("remove",()=>{x.on(se=>{se.destroy()}),S.on(se=>{((ce,fe)=>{ce.inline&&rr(fe.parent())})(m,se)})}),{refresh:se=>{x.on(ce=>ce.refreshBars(nt.fromDom(se)))},hide:()=>{x.on(se=>se.hideBars())},show:()=>{x.on(se=>se.showBars())}}},F_=m=>{(N=>{const R=N.options.register;R("table_clone_elements",{processor:"string[]"}),R("table_use_colgroups",{processor:"boolean",default:!0}),R("table_header_type",{processor:F=>{const j=Lo(["section","cells","sectionCells","auto"],F);return j?{value:F,valid:j}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),R("table_sizing_mode",{processor:"string",default:"auto"}),R("table_default_attributes",{processor:"object",default:{border:"1"}}),R("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),R("table_column_resizing",{processor:F=>{const j=Lo(["preservetable","resizetable"],F);return j?{value:F,valid:j}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),R("table_resize_bars",{processor:"boolean",default:!0}),R("table_style_by_css",{processor:"boolean",default:!0}),R("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=R1(m),x=Zv(m,h),S=u1(m,h,x);return ns(m,S),((N,R)=>{const F=Zr(N),j=Q=>zr(Cl(N)).bind(le=>G(le,F).map(be=>{const se=Bo(El(N),be,le);return Q(be,se)})).getOr("");xn({mceTableRowType:()=>j(R.getTableRowType),mceTableCellType:()=>j(R.getTableCellType),mceTableColType:()=>j(R.getTableColType)},(Q,le)=>N.addQueryValueHandler(le,Q))})(m,S),zl(m,S),{getSelectedCells:x.getSelectedCells,clearSelectedCells:x.clearSelectedCells}};ia.add("dom",m=>({table:F_(m)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=(ot,Qe,Ft)=>{const Zo=Qe==="UL"?"InsertUnorderedList":"InsertOrderedList";ot.execCommand(Zo,!1,Ft===!1?null:{"list-style-type":Ft})},ui=ot=>{ot.addCommand("ApplyUnorderedListStyle",(Qe,Ft)=>{Ls(ot,"UL",Ft["list-style-type"])}),ot.addCommand("ApplyOrderedListStyle",(Qe,Ft)=>{Ls(ot,"OL",Ft["list-style-type"])})},Is=ot=>Qe=>Qe.options.get(ot),Yn=ot=>{const Qe=ot.options.register;Qe("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Qe("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},ko=Is("advlist_number_styles"),tr=Is("advlist_bullet_styles"),nr=ot=>ot==null,Kr=ot=>!nr(ot);var Xn=tinymce.util.Tools.resolve("tinymce.util.Tools");class pn{constructor(Qe,Ft){this.tag=Qe,this.value=Ft}static some(Qe){return new pn(!0,Qe)}static none(){return pn.singletonNone}fold(Qe,Ft){return this.tag?Ft(this.value):Qe()}isSome(){return this.tag}isNone(){return!this.tag}map(Qe){return this.tag?pn.some(Qe(this.value)):pn.none()}bind(Qe){return this.tag?Qe(this.value):pn.none()}exists(Qe){return this.tag&&Qe(this.value)}forall(Qe){return!this.tag||Qe(this.value)}filter(Qe){return!this.tag||Qe(this.value)?this:pn.none()}getOr(Qe){return this.tag?this.value:Qe}or(Qe){return this.tag?this:Qe}getOrThunk(Qe){return this.tag?this.value:Qe()}orThunk(Qe){return this.tag?this:Qe()}getOrDie(Qe){if(this.tag)return this.value;throw new Error(Qe??"Called getOrDie on None")}static from(Qe){return Kr(Qe)?pn.some(Qe):pn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Qe){this.tag&&Qe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pn.singletonNone=new pn(!1);const Ur=(ot,Qe,Ft)=>{for(let Zo=0,$e=ot.length;Zo<$e;Zo++){const Oo=ot[Zo];if(Qe(Oo,Zo))return pn.some(Oo);if(Ft(Oo,Zo))break}return pn.none()},Fs=ot=>/\btox\-/.test(ot.className),Bt=(ot,Qe)=>ot.dom.isChildOf(Qe,ot.getBody()),so=ot=>Qe=>Kr(Qe)&&ot.test(Qe.nodeName),cn=so(/^(OL|UL|DL)$/),cr=so(/^(TH|TD)$/),st=(ot,Qe,Ft)=>Ur(Qe,Zo=>cn(Zo)&&!Fs(Zo),cr).exists(Zo=>Zo.nodeName===Ft&&Bt(ot,Zo)),uo=ot=>{const Qe=ot.dom.getParent(ot.selection.getNode(),"ol,ul"),Ft=ot.dom.getStyle(Qe,"listStyleType");return pn.from(Ft)},Tt=(ot,Qe)=>Qe!==null&&!ot.dom.isEditable(Qe),ue=(ot,Qe)=>{const Ft=ot.dom.getParent(Qe,"ol,ul,dl");return Tt(ot,Ft)&&ot.selection.isEditable()},Dt=(ot,Qe)=>{const Ft=ot.selection.getNode();return Qe({parents:ot.dom.getParents(Ft),element:Ft}),ot.on("NodeChange",Qe),()=>ot.off("NodeChange",Qe)},ye=ot=>ot.replace(/\-/g," ").replace(/\b\w/g,Qe=>Qe.toUpperCase()),ht=ot=>nr(ot)||ot==="default"?"":ot,ss=(ot,Qe)=>Ft=>{const Zo=(Oo,la)=>{const wt=Oo.selection.getStart(!0);Ft.setActive(st(Oo,la,Qe)),Ft.setEnabled(!ue(Oo,wt)&&Oo.selection.isEditable())};return Dt(ot,Oo=>Zo(ot,Oo.parents))},gr=(ot,Qe,Ft,Zo,$e,Oo)=>{ot.ui.registry.addSplitButton(Qe,{tooltip:Ft,icon:$e==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:la=>{const wt=Xn.map(Oo,et=>{const St=$e==="OL"?"num":"bull",as=et==="disc"||et==="decimal"?"default":et,gn=ht(et),hn=ye(et);return{type:"choiceitem",value:gn,icon:"list-"+St+"-"+as,text:hn}});la(wt)},onAction:()=>ot.execCommand(Zo),onItemAction:(la,wt)=>{Ls(ot,$e,wt)},select:la=>uo(ot).map(et=>la===et).getOr(!1),onSetup:ss(ot,$e)})},Lo=(ot,Qe,Ft,Zo,$e,Oo)=>{ot.ui.registry.addToggleButton(Qe,{active:!1,tooltip:Ft,icon:$e==="OL"?"ordered-list":"unordered-list",onSetup:ss(ot,$e),onAction:()=>ot.queryCommandState(Zo)||Oo===""?ot.execCommand(Zo):Ls(ot,$e,Oo)})},Fe=(ot,Qe,Ft,Zo,$e,Oo)=>{Oo.length>1?gr(ot,Qe,Ft,Zo,$e,Oo):Lo(ot,Qe,Ft,Zo,$e,ht(Oo[0]))},Pt=ot=>{Fe(ot,"numlist","Numbered list","InsertOrderedList","OL",ko(ot)),Fe(ot,"bullist","Bullet list","InsertUnorderedList","UL",tr(ot))};var O=()=>{ia.add("advlist",ot=>{ot.hasPlugin("lists")?(Yn(ot),Pt(ot),ui(ot)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};O()})();(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=(nr,Kr)=>{nr.focus(),nr.undoManager.transact(()=>{nr.setContent(Kr)}),nr.selection.setCursorLocation(),nr.nodeChanged()},ui=nr=>nr.getContent({source_view:!0}),Is=nr=>{const Kr=ui(nr);nr.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Kr},onSubmit:Xn=>{Ls(nr,Xn.getData().code),Xn.close()}})},Yn=nr=>{nr.addCommand("mceCodeEditor",()=>{Is(nr)})},ko=nr=>{const Kr=()=>nr.execCommand("mceCodeEditor");nr.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Kr}),nr.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Kr})};var tr=()=>{ia.add("code",nr=>(Yn(nr),ko(nr),{}))};tr()})();(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=yt=>tt=>yt===tt,ui=Ls(null),Is=Ls(void 0),Yn=yt=>yt==null,ko=yt=>!Yn(yt),tr=()=>{},Kr=(yt=>()=>yt)(!1);class Xn{constructor(tt,Xe){this.tag=tt,this.value=Xe}static some(tt){return new Xn(!0,tt)}static none(){return Xn.singletonNone}fold(tt,Xe){return this.tag?Xe(this.value):tt()}isSome(){return this.tag}isNone(){return!this.tag}map(tt){return this.tag?Xn.some(tt(this.value)):Xn.none()}bind(tt){return this.tag?tt(this.value):Xn.none()}exists(tt){return this.tag&&tt(this.value)}forall(tt){return!this.tag||tt(this.value)}filter(tt){return!this.tag||tt(this.value)?this:Xn.none()}getOr(tt){return this.tag?this.value:tt}or(tt){return this.tag?this:tt}getOrThunk(tt){return this.tag?this.value:tt()}orThunk(tt){return this.tag?this:tt()}getOrDie(tt){if(this.tag)return this.value;throw new Error(tt??"Called getOrDie on None")}static from(tt){return ko(tt)?Xn.some(tt):Xn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(tt){this.tag&&tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xn.singletonNone=new Xn(!1);const pn=(yt,tt)=>{for(let Xe=0,Wt=yt.length;Xe<Wt;Xe++){const ao=yt[Xe];if(tt(ao,Xe))return!0}return!1},Ur=(yt,tt)=>{const Xe=yt.length,Wt=new Array(Xe);for(let ao=0;ao<Xe;ao++){const jo=yt[ao];Wt[ao]=tt(jo,ao)}return Wt},Fs=(yt,tt)=>{for(let Xe=0,Wt=yt.length;Xe<Wt;Xe++){const ao=yt[Xe];tt(ao,Xe)}},Bt=yt=>{let tt=yt;return{get:()=>tt,set:ao=>{tt=ao}}},so=(yt,tt)=>{let Xe=null;const Wt=()=>{ui(Xe)||(clearTimeout(Xe),Xe=null)};return{cancel:Wt,throttle:(...jo)=>{Wt(),Xe=setTimeout(()=>{Xe=null,yt.apply(null,jo)},tt)}}},cn=(yt,tt)=>{yt.insertContent(tt)},cr=Object.keys,st=Object.hasOwnProperty,uo=(yt,tt)=>{const Xe=cr(yt);for(let Wt=0,ao=Xe.length;Wt<ao;Wt++){const jo=Xe[Wt],En=yt[jo];tt(En,jo)}},Tt=(yt,tt)=>ue(yt,(Xe,Wt)=>({k:Wt,v:tt(Xe,Wt)})),ue=(yt,tt)=>{const Xe={};return uo(yt,(Wt,ao)=>{const jo=tt(Wt,ao);Xe[jo.k]=jo.v}),Xe},Dt=(yt,tt)=>st.call(yt,tt),ss=(yt=>(...tt)=>{if(tt.length===0)throw new Error("Can't merge zero objects");const Xe={};for(let Wt=0;Wt<tt.length;Wt++){const ao=tt[Wt];for(const jo in ao)Dt(ao,jo)&&(Xe[jo]=yt(Xe[jo],ao[jo]))}return Xe})((yt,tt)=>tt),gr=yt=>{const tt=Bt(Xn.none()),Xe=()=>tt.get().each(yt);return{clear:()=>{Xe(),tt.set(Xn.none())},isSet:()=>tt.get().isSome(),get:()=>tt.get(),set:Jn=>{Xe(),tt.set(Xn.some(Jn))}}},Lo=()=>{const yt=gr(tr);return{...yt,on:Xe=>yt.get().each(Xe)}},Fe=(yt,tt,Xe)=>tt===""||yt.length>=tt.length&&yt.substr(Xe,Xe+tt.length)===tt,Pt=(yt,tt,Xe=0,Wt)=>{const ao=yt.indexOf(tt,Xe);return ao!==-1?Is(Wt)?!0:ao+tt.length<=Wt:!1},O=(yt,tt)=>Fe(yt,tt,0);var ot=tinymce.util.Tools.resolve("tinymce.Resource");const Qe="tinymce.plugins.emoticons",Ft=yt=>tt=>tt.options.get(yt),Zo=(yt,tt)=>{const Xe=yt.options.register;Xe("emoticons_database",{processor:"string",default:"emojis"}),Xe("emoticons_database_url",{processor:"string",default:`${tt}/js/${$e(yt)}${yt.suffix}.js`}),Xe("emoticons_database_id",{processor:"string",default:Qe}),Xe("emoticons_append",{processor:"object",default:{}}),Xe("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},$e=Ft("emoticons_database"),Oo=Ft("emoticons_database_url"),la=Ft("emoticons_database_id"),wt=Ft("emoticons_append"),et=Ft("emoticons_images_url"),St="All",as={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},gn=(yt,tt)=>Dt(yt,tt)?yt[tt]:tt,hn=yt=>{const tt=wt(yt);return Tt(tt,Xe=>({keywords:[],category:"user",...Xe}))},wo=(yt,tt,Xe)=>{const Wt=Lo(),ao=Lo(),jo=et(yt),En=Sr=>O(Sr.char,"<img")?Sr.char.replace(/src="([^"]+)"/,(Yo,Xs)=>`src="${jo}${Xs}"`):Sr.char,Jn=Sr=>{const Yo={},Xs=[];uo(Sr,(ct,Co)=>{const Vo={title:Co,keywords:ct.keywords,char:En(ct),category:gn(as,ct.category)},Hs=Yo[Vo.category]!==void 0?Yo[Vo.category]:[];Yo[Vo.category]=Hs.concat([Vo]),Xs.push(Vo)}),Wt.set(Yo),ao.set(Xs)};yt.on("init",()=>{ot.load(Xe,tt).then(Sr=>{const Yo=hn(yt);Jn(ss(Sr,Yo))},Sr=>{console.log(`Failed to load emojis: ${Sr}`),Wt.set({}),ao.set([])})});const In=Sr=>Sr===St?Tn():Wt.get().bind(Yo=>Xn.from(Yo[Sr])).getOr([]),Tn=()=>ao.get().getOr([]),Yr=()=>[St].concat(cr(Wt.get().getOr({}))),Ys=()=>Fn()?Promise.resolve(!0):new Promise((Sr,Yo)=>{let Xs=15;const ct=setInterval(()=>{Fn()?(clearInterval(ct),Sr(!0)):(Xs--,Xs<0&&(console.log("Could not load emojis from url: "+tt),clearInterval(ct),Yo(!1)))},100)}),Fn=()=>Wt.isSet()&&ao.isSet();return{listCategories:Yr,hasLoaded:Fn,waitForLoad:Ys,listAll:Tn,listCategory:In}},H=(yt,tt)=>Pt(yt.title.toLowerCase(),tt)||pn(yt.keywords,Xe=>Pt(Xe.toLowerCase(),tt)),wa=(yt,tt,Xe)=>{const Wt=[],ao=tt.toLowerCase(),jo=Xe.fold(()=>Kr,En=>Jn=>Jn>=En);for(let En=0;En<yt.length&&!((tt.length===0||H(yt[En],ao))&&(Wt.push({value:yt[En].char,text:yt[En].title,icon:yt[En].char}),jo(Wt.length)));En++);return Wt},Cr="pattern",xn=(yt,tt)=>{const Xe={pattern:"",results:wa(tt.listAll(),"",Xn.some(300))},Wt=Bt(St),ao=Yr=>{const Ys=Yr.getData(),Fn=Wt.get(),Sr=tt.listCategory(Fn),Yo=wa(Sr,Ys[Cr],Fn===St?Xn.some(300):Xn.none());Yr.setData({results:Yo})},jo=so(Yr=>{ao(Yr)},200),En={label:"Search",type:"input",name:Cr},Jn={type:"collection",name:"results"},In=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:Ur(tt.listCategories(),Ys=>({title:Ys,name:Ys,items:[En,Jn]}))},initialData:Xe,onTabChange:(Ys,Fn)=>{Wt.set(Fn.newTabName),jo.throttle(Ys)},onChange:jo.throttle,onAction:(Ys,Fn)=>{Fn.name==="results"&&(cn(yt,Fn.value),Ys.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Tn=yt.windowManager.open(In());Tn.focus(Cr),tt.hasLoaded()||(Tn.block("Loading emojis..."),tt.waitForLoad().then(()=>{Tn.redial(In()),jo.throttle(Tn),Tn.focus(Cr),Tn.unblock()}).catch(Yr=>{Tn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Tn.focus(Cr),Tn.unblock()}))},$i=(yt,tt)=>{yt.addCommand("mceEmoticons",()=>xn(yt,tt))},Bl=yt=>{yt.on("PreInit",()=>{yt.parser.addAttributeFilter("data-emoticon",tt=>{Fs(tt,Xe=>{Xe.attr("data-mce-resize","false"),Xe.attr("data-mce-placeholder","1")})})})},tn=(yt,tt)=>{yt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Xe,Wt)=>tt.waitForLoad().then(()=>{const ao=tt.listAll();return wa(ao,Xe,Xn.some(Wt))}),onAction:(Xe,Wt,ao)=>{yt.selection.setRng(Wt),yt.insertContent(ao),Xe.hide()}})},Sn=yt=>tt=>{const Xe=()=>{tt.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",Xe),Xe(),()=>{yt.off("NodeChange",Xe)}},Ko=yt=>{const tt=()=>yt.execCommand("mceEmoticons");yt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:tt,onSetup:Sn(yt)}),yt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:tt,onSetup:Sn(yt)})};var Te=()=>{ia.add("emoticons",(yt,tt)=>{Zo(yt,tt);const Xe=Oo(yt),Wt=la(yt),ao=wo(yt,Xe,Wt);return $i(yt,ao),Ko(yt),tn(yt,ao),Bl(yt),{getAllEmojis:()=>ao.waitForLoad().then(()=>ao.listAll())}})};Te()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=(G,ae,xe)=>{var Pe;return xe(G,ae.prototype)?!0:((Pe=G.constructor)===null||Pe===void 0?void 0:Pe.name)===ae.name},ui=G=>{const ae=typeof G;return G===null?"null":ae==="object"&&Array.isArray(G)?"array":ae==="object"&&Ls(G,String,(xe,Pe)=>Pe.isPrototypeOf(xe))?"string":ae},Is=G=>ae=>ui(ae)===G,Yn=G=>ae=>typeof ae===G,ko=G=>ae=>G===ae,tr=Is("string"),nr=Is("object"),Kr=Is("array"),Xn=ko(null),pn=Yn("boolean"),Ur=G=>G==null,Fs=G=>!Ur(G),Bt=Yn("function"),so=(G,ae)=>{if(Kr(G)){for(let xe=0,Pe=G.length;xe<Pe;++xe)if(!ae(G[xe]))return!1;return!0}return!1},cn=()=>{},cr=G=>()=>G,st=(G,ae)=>G===ae;class uo{constructor(ae,xe){this.tag=ae,this.value=xe}static some(ae){return new uo(!0,ae)}static none(){return uo.singletonNone}fold(ae,xe){return this.tag?xe(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?uo.some(ae(this.value)):uo.none()}bind(ae){return this.tag?ae(this.value):uo.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:uo.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return Fs(ae)?uo.some(ae):uo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}uo.singletonNone=new uo(!1);const Tt=Array.prototype.indexOf,ue=Array.prototype.push,Dt=(G,ae)=>Tt.call(G,ae),ye=(G,ae)=>Dt(G,ae)>-1,ht=(G,ae)=>{const xe=G.length,Pe=new Array(xe);for(let rt=0;rt<xe;rt++){const Lt=G[rt];Pe[rt]=ae(Lt,rt)}return Pe},ss=(G,ae)=>{for(let xe=0,Pe=G.length;xe<Pe;xe++){const rt=G[xe];ae(rt,xe)}},gr=(G,ae,xe)=>(ss(G,(Pe,rt)=>{xe=ae(xe,Pe,rt)}),xe),Lo=G=>{const ae=[];for(let xe=0,Pe=G.length;xe<Pe;++xe){if(!Kr(G[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+G);ue.apply(ae,G[xe])}return ae},Fe=(G,ae)=>Lo(ht(G,ae)),Pt=(G,ae)=>{for(let xe=0;xe<G.length;xe++){const Pe=ae(G[xe],xe);if(Pe.isSome())return Pe}return uo.none()},O=(G,ae,xe=st)=>G.exists(Pe=>xe(Pe,ae)),ot=G=>{const ae=[],xe=Pe=>{ae.push(Pe)};for(let Pe=0;Pe<G.length;Pe++)G[Pe].each(xe);return ae},Qe=(G,ae)=>G?uo.some(ae):uo.none(),Ft=G=>ae=>ae.options.get(G),Zo=G=>{const ae=G.options.register;ae("link_assume_external_targets",{processor:xe=>{const Pe=tr(xe)||pn(xe);return Pe?xe===!0?{value:1,valid:Pe}:xe==="http"||xe==="https"?{value:xe,valid:Pe}:{value:0,valid:Pe}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:xe=>tr(xe)||Bt(xe)||so(xe,nr)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:xe=>pn(xe)||so(xe,nr),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1})},$e=Ft("link_assume_external_targets"),Oo=Ft("link_context_toolbar"),la=Ft("link_list"),wt=Ft("link_default_target"),et=Ft("link_default_protocol"),St=Ft("link_target_list"),as=Ft("link_rel_list"),gn=Ft("link_class_list"),hn=Ft("link_title"),wo=Ft("allow_unsafe_link_target"),H=Ft("link_quicklink"),wa=Object.keys,Cr=Object.hasOwnProperty,xn=(G,ae)=>{const xe=wa(G);for(let Pe=0,rt=xe.length;Pe<rt;Pe++){const Lt=xe[Pe],No=G[Lt];ae(No,Lt)}},$i=G=>(ae,xe)=>{G[xe]=ae},Bl=(G,ae,xe,Pe)=>{xn(G,(rt,Lt)=>{(ae(rt,Lt)?xe:Pe)(rt,Lt)})},tn=(G,ae)=>{const xe={};return Bl(G,ae,$i(xe),cn),xe},Sn=(G,ae)=>Cr.call(G,ae),Ko=(G,ae)=>Sn(G,ae)&&G[ae]!==void 0&&G[ae]!==null;var Te=tinymce.util.Tools.resolve("tinymce.util.URI"),yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),tt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=G=>Fs(G)&&G.nodeName.toLowerCase()==="a",Wt=G=>Xe(G)&&!!En(G),ao=(G,ae)=>{if(G.collapsed)return[];{const xe=G.cloneContents(),Pe=xe.firstChild,rt=new yt(Pe,xe),Lt=[];let No=Pe;do ae(No)&&Lt.push(No);while(No=rt.next());return Lt}},jo=G=>/^\w+:/i.test(G),En=G=>{var ae,xe;return(xe=(ae=G.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:G.getAttribute("href"))!==null&&xe!==void 0?xe:""},Jn=(G,ae)=>{const xe=["noopener"],Pe=G?G.split(/\s+/):[],rt=Ho=>tt.trim(Ho.sort().join(" ")),Lt=Ho=>(Ho=No(Ho),Ho.length>0?Ho.concat(xe):xe),No=Ho=>Ho.filter(jn=>tt.inArray(xe,jn)===-1),Dn=ae?Lt(Pe):No(Pe);return Dn.length>0?rt(Dn):""},In=G=>G.replace(/\uFEFF/g,""),Tn=(G,ae)=>(ae=ae||Fn(G.selection.getRng())[0]||G.selection.getNode(),Co(ae)?uo.from(G.dom.select("a[href]",ae)[0]):uo.from(G.dom.getParent(ae,"a[href]"))),Yr=(G,ae)=>Tn(G,ae).isSome(),Ys=(G,ae)=>{const xe=ae.fold(()=>G.getContent({format:"text"}),Pe=>Pe.innerText||Pe.textContent||"");return In(xe)},Fn=G=>ao(G,Wt),Sr=G=>tt.grep(G,Wt),Yo=G=>Sr(G).length>0,Xs=G=>Fn(G).length>0,ct=G=>{const ae=G.schema.getTextInlineElements(),xe=Lt=>Lt.nodeType===1&&!Xe(Lt)&&!Sn(ae,Lt.nodeName.toLowerCase());if(Tn(G).exists(Lt=>Lt.hasAttribute("data-mce-block")))return!1;const rt=G.selection.getRng();return rt.collapsed?!0:ao(rt,xe).length===0},Co=G=>Fs(G)&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className),Vo=G=>gr(["title","rel","class","target"],(xe,Pe)=>(G[Pe].each(rt=>{xe[Pe]=rt.length>0?rt:null}),xe),{href:G.href}),Hs=(G,ae)=>(ae==="http"||ae==="https")&&!jo(G)?ae+"://"+G:G,fi=(G,ae)=>{const xe={...ae};if(as(G).length===0&&!wo(G)){const Pe=Jn(xe.rel,xe.target==="_blank");xe.rel=Pe||null}return uo.from(xe.target).isNone()&&St(G)===!1&&(xe.target=wt(G)),xe.href=Hs(xe.href,$e(G)),xe},nt=(G,ae,xe,Pe)=>{xe.each(rt=>{Sn(ae,"innerText")?ae.innerText=rt:ae.textContent=rt}),G.dom.setAttribs(ae,Pe),G.selection.select(ae)},Xa=(G,ae,xe,Pe)=>{const rt=G.dom;Co(ae)?fl(rt,ae,Pe):xe.fold(()=>{G.execCommand("mceInsertLink",!1,Pe)},Lt=>{G.insertContent(rt.createHTML("a",Pe,rt.encode(Lt)))})},Fo=(G,ae,xe)=>{const Pe=G.selection.getNode(),rt=Tn(G,Pe),Lt=fi(G,Vo(xe));G.undoManager.transact(()=>{xe.href===ae.href&&ae.attach(),rt.fold(()=>{Xa(G,Pe,xe.text,Lt)},No=>{G.focus(),nt(G,No,xe.text,Lt)})})},Ti=G=>{const ae=G.dom,xe=G.selection,Pe=xe.getBookmark(),rt=xe.getRng().cloneRange(),Lt=ae.getParent(rt.startContainer,"a[href]",G.getBody()),No=ae.getParent(rt.endContainer,"a[href]",G.getBody());Lt&&rt.setStartBefore(Lt),No&&rt.setEndAfter(No),xe.setRng(rt),G.execCommand("unlink"),xe.moveToBookmark(Pe)},Vn=G=>{G.undoManager.transact(()=>{const ae=G.selection.getNode();Co(ae)?mi(G,ae):Ti(G),G.focus()})},is=G=>{const{class:ae,href:xe,rel:Pe,target:rt,text:Lt,title:No}=G;return tn({class:ae.getOrNull(),href:xe,rel:Pe.getOrNull(),target:rt.getOrNull(),text:Lt.getOrNull(),title:No.getOrNull()},(Dn,Ho)=>Xn(Dn)===!1)},ul=(G,ae)=>{const xe=G.options.get,Pe={allow_html_data_urls:xe("allow_html_data_urls"),allow_script_urls:xe("allow_script_urls"),allow_svg_data_urls:xe("allow_svg_data_urls")},rt=ae.href;return{...ae,href:Te.isDomSafe(rt,"a",Pe)?rt:""}},nl=(G,ae,xe)=>{const Pe=ul(G,xe);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,is(Pe)):Fo(G,ae,Pe)},Oi=G=>{G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Vn(G)},mi=(G,ae)=>{var xe;const Pe=G.dom.select("img",ae)[0];if(Pe){const rt=G.dom.getParents(Pe,"a[href]",ae)[0];rt&&((xe=rt.parentNode)===null||xe===void 0||xe.insertBefore(Pe,rt),G.dom.remove(rt))}},fl=(G,ae,xe)=>{var Pe;const rt=G.select("img",ae)[0];if(rt){const Lt=G.create("a",xe);(Pe=rt.parentNode)===null||Pe===void 0||Pe.insertBefore(Lt,rt),Lt.appendChild(rt)}},Nn=G=>tr(G.value)?G.value:"",mo=G=>tr(G.text)?G.text:tr(G.title)?G.title:"",Ba=(G,ae)=>{const xe=[];return tt.each(G,Pe=>{const rt=mo(Pe);if(Pe.menu!==void 0){const Lt=Ba(Pe.menu,ae);xe.push({text:rt,items:Lt})}else{const Lt=ae(Pe);xe.push({text:rt,value:Lt})}}),xe},Os=(G=Nn)=>ae=>uo.from(ae).map(xe=>Ba(xe,G)),_s={sanitize:G=>Os(Nn)(G),sanitizeWith:Os,createUi:(G,ae)=>xe=>({name:G,type:"listbox",label:ae,items:xe}),getValue:Nn},Jd=G=>Ko(G,"items"),hr=(G,ae)=>Pt(ae,xe=>Jd(xe)?hr(G,xe.items):Qe(xe.value===G,xe)),fd=(G,ae,xe,Pe)=>{const rt=Pe[ae],Lt=G.length>0;return rt!==void 0?hr(rt,xe).map(No=>({url:{value:No.value,meta:{text:Lt?G:No.text,attach:cn}},text:Lt?G:No.text})):uo.none()},Ja=(G,ae)=>ae==="link"?G.link:ae==="anchor"?G.anchor:uo.none(),pi={init:(G,ae)=>{const xe={text:G.text,title:G.title},Pe=Ho=>{var jn;return Qe(xe.title.length<=0,uo.from((jn=Ho.meta)===null||jn===void 0?void 0:jn.title).getOr(""))},rt=Ho=>{var jn;return Qe(xe.text.length<=0,uo.from((jn=Ho.meta)===null||jn===void 0?void 0:jn.text).getOr(Ho.value))},Lt=Ho=>{const jn=rt(Ho.url),$r=Pe(Ho.url);return jn.isSome()||$r.isSome()?uo.some({...jn.map(Mo=>({text:Mo})).getOr({}),...$r.map(Mo=>({title:Mo})).getOr({})}):uo.none()},No=(Ho,jn)=>{const $r=Ja(ae,jn).getOr([]);return fd(xe.text,jn,$r,Ho)};return{onChange:(Ho,jn)=>{const $r=jn.name;return $r==="url"?Lt(Ho()):ye(["anchor","link"],$r)?No(Ho(),$r):(($r==="text"||$r==="title")&&(xe[$r]=Ho()[$r]),uo.none())}}},getDelta:fd};var rr=tinymce.util.Tools.resolve("tinymce.util.Delay");const ca=(G,ae,xe)=>{const Pe=G.selection.getRng();rr.setEditorTimeout(G,()=>{G.windowManager.confirm(ae,rt=>{G.selection.setRng(Pe),xe(rt)})})},Qa=G=>{const ae=G.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?uo.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Pe=>({...Pe,href:"mailto:"+ae})}):uo.none()},Qd=(G,ae)=>xe=>{const Pe=xe.href;return G===1&&!jo(Pe)||G===0&&/^\s*www(\.|\d\.)/i.test(Pe)?uo.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Lt=>({...Lt,href:ae+"://"+Pe})}):uo.none()},gi={preprocess:(G,ae)=>Pt([Qa,Qd($e(G),et(G))],xe=>xe(ae)).fold(()=>Promise.resolve(ae),xe=>new Promise(Pe=>{ca(G,xe.message,rt=>{Pe(rt?xe.preprocess(ae):ae)})}))},Hc={getAnchors:G=>{const ae=G.dom.select("a:not([href])"),xe=Fe(ae,Pe=>{const rt=Pe.name||Pe.id;return rt?[{text:rt,value:"#"+rt}]:[]});return xe.length>0?uo.some([{text:"None",value:""}].concat(xe)):uo.none()}},Xr={getClasses:G=>{const ae=gn(G);return ae.length>0?_s.sanitize(ae):uo.none()}},da=G=>{try{return uo.some(JSON.parse(G))}catch{return uo.none()}},ji={getLinks:G=>{const ae=Pe=>G.convertURL(Pe.value||Pe.url||"","href"),xe=la(G);return new Promise(Pe=>{tr(xe)?fetch(xe).then(rt=>rt.ok?rt.text().then(da):Promise.reject()).then(Pe,()=>Pe(uo.none())):Bt(xe)?xe(rt=>Pe(uo.some(rt))):Pe(uo.from(xe))}).then(Pe=>Pe.bind(_s.sanitizeWith(ae)).map(rt=>rt.length>0?[{text:"None",value:""}].concat(rt):rt))}},As={getRels:(G,ae)=>{const xe=as(G);if(xe.length>0){const Pe=O(ae,"_blank"),rt=wo(G)===!1,Lt=Dn=>Jn(_s.getValue(Dn),Pe);return(rt?_s.sanitizeWith(Lt):_s.sanitize)(xe)}return uo.none()}},ua=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Rn={getTargets:G=>{const ae=St(G);return Kr(ae)?_s.sanitize(ae).orThunk(()=>uo.some(ua)):ae===!1?uo.none():uo.some(ua)}},sr=(G,ae,xe)=>{const Pe=G.getAttrib(ae,xe);return Pe!==null&&Pe.length>0?uo.some(Pe):uo.none()},Ui=(G,ae)=>{const xe=G.dom,rt=ct(G)?uo.some(Ys(G.selection,ae)):uo.none(),Lt=ae.bind($r=>uo.from(xe.getAttrib($r,"href"))),No=ae.bind($r=>uo.from(xe.getAttrib($r,"target"))),Dn=ae.bind($r=>sr(xe,$r,"rel")),Ho=ae.bind($r=>sr(xe,$r,"class")),jn=ae.bind($r=>sr(xe,$r,"title"));return{url:Lt,text:rt,title:jn,target:No,rel:Dn,linkClass:Ho}},ls={collect:(G,ae)=>ji.getLinks(G).then(xe=>{const Pe=Ui(G,ae);return{anchor:Pe,catalogs:{targets:Rn.getTargets(G),rels:As.getRels(G,Pe.target),classes:Xr.getClasses(G),anchor:Hc.getAnchors(G),link:xe},optNode:ae,flags:{titleEnabled:hn(G)}}})},ml=(G,ae)=>xe=>{const Pe=xe.getData();if(!Pe.url.value){Oi(G),xe.close();return}const rt=Dn=>uo.from(Pe[Dn]).filter(Ho=>!O(ae.anchor[Dn],Ho)),Lt={href:Pe.url.value,text:rt("text"),target:rt("target"),rel:rt("rel"),class:rt("linkClass"),title:rt("title")},No={href:Pe.url.value,attach:Pe.url.meta!==void 0&&Pe.url.meta.attach?Pe.url.meta.attach:cn};gi.preprocess(G,Lt).then(Dn=>{nl(G,No,Dn)}),xe.close()},Tr=G=>{const ae=Tn(G);return ls.collect(G,ae)},bn=(G,ae)=>{const xe=G.anchor,Pe=xe.url.getOr("");return{url:{value:Pe,meta:{original:{value:Pe}}},text:xe.text.getOr(""),title:xe.title.getOr(""),anchor:Pe,link:Pe,rel:xe.rel.getOr(""),target:xe.target.or(ae).getOr(""),linkClass:xe.linkClass.getOr("")}},bi=(G,ae,xe)=>{const Pe=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],rt=G.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Lt=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],No=uo.from(wt(xe)),Dn=bn(G,No),Ho=G.catalogs,jn=pi.init(Dn,Ho);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Lo([Pe,rt,Lt,ot([Ho.anchor.map(_s.createUi("anchor","Anchors")),Ho.rels.map(_s.createUi("rel","Rel")),Ho.targets.map(_s.createUi("target","Open link in...")),Ho.link.map(_s.createUi("link","Link list")),Ho.classes.map(_s.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Dn,onChange:(Mo,{name:rl})=>{jn.onChange(Mo.getData,{name:rl}).each(Il=>{Mo.setData(Il)})},onSubmit:ae}},Ca=G=>{Tr(G).then(xe=>{const Pe=ml(G,xe);return bi(xe,Pe,G)}).then(xe=>{G.windowManager.open(xe)})},Ns=G=>{G.addCommand("mceLink",(ae,xe)=>{(xe==null?void 0:xe.dialog)===!0||!H(G)?Ca(G):G.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Sa=G=>{G.addShortcut("Meta+K","",()=>{G.execCommand("mceLink")})},Fr=G=>{let ae=G;return{get:()=>ae,set:rt=>{ae=rt}}},pd=G=>{const ae=Fr(uo.none()),xe=()=>ae.get().each(G);return{clear:()=>{xe(),ae.set(uo.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:Dn=>{xe(),ae.set(uo.some(Dn))}}},to=()=>{const G=pd(cn);return{...G,on:xe=>G.get().each(xe)}};var pl=tinymce.util.Tools.resolve("tinymce.util.VK");const cs=(G,ae)=>{document.body.appendChild(G),G.dispatchEvent(ae),document.body.removeChild(G)},Er=G=>{const ae=document.createElement("a");ae.target="_blank",ae.href=G,ae.rel="noreferrer noopener";const xe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(xe),cs(ae,xe)},$c=G=>G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1,Wo=(G,ae)=>{if(ae){const xe=En(ae);if(/^#/.test(xe)){const Pe=G.dom.select(xe);Pe.length&&G.selection.scrollIntoView(Pe[0],!0)}else Er(ae.href)}},Pl=G=>{const ae=G.selection.getRng(),xe=ae.startContainer;return Wt(xe)&&ae.startContainer===ae.endContainer&&G.dom.select("img",xe).length===1},fa=(G,ae)=>{const xe=Sr(G.dom.getParents(ae));return Qe(xe.length===1,xe[0])},po=G=>{const ae=Fn(G.selection.getRng());return Qe(ae.length>0,ae[0]).or(fa(G,G.selection.getNode()))},Ai=G=>G.selection.isCollapsed()||Pl(G)?fa(G,G.selection.getStart()):po(G),ei=G=>{const ae=to(),xe=()=>ae.get().or(Ai(G)),Pe=()=>xe().each(rt=>Wo(G,rt));return G.on("contextmenu",rt=>{fa(G,rt.target).each(ae.set)}),G.on("SelectionChange",()=>{ae.isSet()||Ai(G).each(ae.set)}),G.on("click",rt=>{ae.clear();const Lt=Sr(G.dom.getParents(rt.target));Lt.length===1&&pl.metaKeyPressed(rt)&&(rt.preventDefault(),Wo(G,Lt[0]))}),G.on("keydown",rt=>{ae.clear(),!rt.isDefaultPrevented()&&rt.keyCode===13&&$c(rt)&&xe().each(Lt=>{rt.preventDefault(),Wo(G,Lt)})}),{gotoSelectedLink:Pe}},br=G=>()=>{G.execCommand("mceLink",!1,{dialog:!0})},Ll=(G,ae)=>(G.on("NodeChange",ae),()=>G.off("NodeChange",ae)),Hr=G=>ae=>{const xe=()=>{ae.setActive(!G.mode.isReadOnly()&&Yr(G,G.selection.getNode())),ae.setEnabled(G.selection.isEditable())};return xe(),Ll(G,xe)},uc=G=>ae=>{const xe=()=>{ae.setEnabled(G.selection.isEditable())};return xe(),Ll(G,xe)},$s=G=>ae=>{const xe=Lt=>Yo(Lt)||Xs(G.selection.getRng()),Pe=G.dom.getParents(G.selection.getStart()),rt=Lt=>{ae.setEnabled(xe(Lt)&&G.selection.isEditable())};return rt(Pe),Ll(G,Lt=>rt(Lt.parents))},_n=(G,ae)=>{G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:br(G),onSetup:Hr(G)}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:$s(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Oi(G),onSetup:$s(G)})},gl=(G,ae)=>{G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:$s(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:br(G),onSetup:uc(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Oi(G),onSetup:$s(G)})},Vc=G=>{const ae="link unlink openlink",xe="link";G.ui.registry.addContextMenu("link",{update:Pe=>G.dom.isEditable(Pe)?Yo(G.dom.getParents(Pe,"a"))?ae:xe:""})},gd=(G,ae)=>{const xe=Lt=>{Lt.selection.collapse(!1)},Pe=Lt=>{const No=G.selection.getNode();return Lt.setEnabled(Yr(G,No)),cn},rt=Lt=>{const No=Tn(G),Dn=ct(G);if(No.isNone()&&Dn){const Ho=Ys(G.selection,No);return Qe(Ho.length===0,Lt)}else return uo.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Hr(G)},label:"Link",predicate:Lt=>Oo(G)&&Yr(G,Lt),initValue:()=>Tn(G).fold(cr(""),En),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Lt=>{const No=G.selection.getNode();return Lt.setActive(Yr(G,No)),Hr(G)(Lt)},onAction:Lt=>{const No=Lt.getValue(),Dn=rt(No);nl(G,{href:No,attach:cn},{href:No,text:Dn,title:uo.none(),rel:uo.none(),target:uo.from(wt(G)),class:uo.none()}),xe(G),Lt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Pe,onAction:Lt=>{Oi(G),Lt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Pe,onAction:Lt=>{ae.gotoSelectedLink(),Lt.hide()}}]})},yr=G=>{const ae=ei(G);_n(G,ae),gl(G,ae),Vc(G),gd(G,ae)};var Ea=()=>{ia.add("link",G=>{Zo(G),Ns(G),yr(G),Sa(G)})};Ea()})();(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=(w,D,V)=>{var ie;return V(w,D.prototype)?!0:((ie=w.constructor)===null||ie===void 0?void 0:ie.name)===D.name},ui=w=>{const D=typeof w;return w===null?"null":D==="object"&&Array.isArray(w)?"array":D==="object"&&Ls(w,String,(V,ie)=>ie.isPrototypeOf(V))?"string":D},Is=w=>D=>ui(D)===w,Yn=w=>D=>typeof D===w,ko=Is("string"),tr=Is("object"),nr=Is("array"),Kr=Yn("boolean"),Xn=w=>w==null,pn=w=>!Xn(w),Ur=Yn("function"),Fs=Yn("number"),Bt=()=>{},so=(w,D)=>V=>w(D(V)),cn=w=>()=>w,cr=(w,D)=>w===D;function st(w,...D){return(...V)=>{const ie=D.concat(V);return w.apply(null,ie)}}const uo=w=>D=>!w(D),Tt=cn(!1);class ue{constructor(D,V){this.tag=D,this.value=V}static some(D){return new ue(!0,D)}static none(){return ue.singletonNone}fold(D,V){return this.tag?V(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?ue.some(D(this.value)):ue.none()}bind(D){return this.tag?D(this.value):ue.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:ue.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D??"Called getOrDie on None")}static from(D){return pn(D)?ue.some(D):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Dt=Array.prototype.slice,ye=Array.prototype.indexOf,ht=Array.prototype.push,ss=(w,D)=>ye.call(w,D),gr=(w,D)=>ss(w,D)>-1,Lo=(w,D)=>{for(let V=0,ie=w.length;V<ie;V++){const me=w[V];if(D(me,V))return!0}return!1},Fe=(w,D)=>{const V=w.length,ie=new Array(V);for(let me=0;me<V;me++){const Ze=w[me];ie[me]=D(Ze,me)}return ie},Pt=(w,D)=>{for(let V=0,ie=w.length;V<ie;V++){const me=w[V];D(me,V)}},O=(w,D)=>{const V=[];for(let ie=0,me=w.length;ie<me;ie++){const Ze=w[ie];D(Ze,ie)&&V.push(Ze)}return V},ot=(w,D)=>{if(w.length===0)return[];{let V=D(w[0]);const ie=[];let me=[];for(let Ze=0,eo=w.length;Ze<eo;Ze++){const Eo=w[Ze],go=D(Eo);go!==V&&(ie.push(me),me=[]),V=go,me.push(Eo)}return me.length!==0&&ie.push(me),ie}},Qe=(w,D,V)=>(Pt(w,(ie,me)=>{V=D(V,ie,me)}),V),Ft=(w,D,V)=>{for(let ie=0,me=w.length;ie<me;ie++){const Ze=w[ie];if(D(Ze,ie))return ue.some(Ze);if(V(Ze,ie))break}return ue.none()},Zo=(w,D)=>Ft(w,D,Tt),$e=w=>{const D=[];for(let V=0,ie=w.length;V<ie;++V){if(!nr(w[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+w);ht.apply(D,w[V])}return D},Oo=(w,D)=>$e(Fe(w,D)),la=w=>{const D=Dt.call(w,0);return D.reverse(),D},wt=(w,D)=>D>=0&&D<w.length?ue.some(w[D]):ue.none(),et=w=>wt(w,0),St=w=>wt(w,w.length-1),as=(w,D)=>{const V=[],ie=Ur(D)?me=>Lo(V,Ze=>D(Ze,me)):me=>gr(V,me);for(let me=0,Ze=w.length;me<Ze;me++){const eo=w[me];ie(eo)||V.push(eo)}return V},gn=(w,D,V=cr)=>w.exists(ie=>V(ie,D)),hn=(w,D,V=cr)=>wo(w,D,V).getOr(w.isNone()&&D.isNone()),wo=(w,D,V)=>w.isSome()&&D.isSome()?ue.some(V(w.getOrDie(),D.getOrDie())):ue.none(),H=8,wa=11,Cr=1,xn=3,$i=(w,D)=>{const ie=(D||document).createElement("div");if(ie.innerHTML=w,!ie.hasChildNodes()||ie.childNodes.length>1){const me="HTML does not have a single root node";throw console.error(me,w),new Error(me)}return Sn(ie.childNodes[0])},Bl=(w,D)=>{const ie=(D||document).createElement(w);return Sn(ie)},tn=(w,D)=>{const ie=(D||document).createTextNode(w);return Sn(ie)},Sn=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},Te={fromHtml:$i,fromTag:Bl,fromText:tn,fromDom:Sn,fromPoint:(w,D,V)=>ue.from(w.dom.elementFromPoint(D,V)).map(Sn)},yt=(w,D)=>{const V=w.dom;if(V.nodeType!==Cr)return!1;{const ie=V;if(ie.matches!==void 0)return ie.matches(D);if(ie.msMatchesSelector!==void 0)return ie.msMatchesSelector(D);if(ie.webkitMatchesSelector!==void 0)return ie.webkitMatchesSelector(D);if(ie.mozMatchesSelector!==void 0)return ie.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},tt=(w,D)=>w.dom===D.dom,Xe=(w,D)=>{const V=w.dom,ie=D.dom;return V===ie?!1:V.contains(ie)},Wt=yt,ao=typeof window<"u"?window:Function("return this;")(),jo=(w,D)=>{let V=D??ao;for(let ie=0;ie<w.length&&V!==void 0&&V!==null;++ie)V=V[w[ie]];return V},En=(w,D)=>{const V=w.split(".");return jo(V,D)},Jn=(w,D)=>En(w,D),In=(w,D)=>{const V=Jn(w,D);if(V==null)throw new Error(w+" not available on this browser");return V},Tn=Object.getPrototypeOf,Yr=w=>In("HTMLElement",w),Ys=w=>{const D=En("ownerDocument.defaultView",w);return tr(w)&&(Yr(D).prototype.isPrototypeOf(w)||/^HTML\w*Element$/.test(Tn(w).constructor.name))},Fn=w=>w.dom.nodeName.toLowerCase(),Sr=w=>w.dom.nodeType,Yo=w=>D=>Sr(D)===w,Xs=w=>Sr(w)===H||Fn(w)==="#comment",ct=w=>Co(w)&&Ys(w.dom),Co=Yo(Cr),Vo=Yo(xn),Hs=Yo(wa),fi=w=>D=>Co(D)&&Fn(D)===w,nt=w=>ue.from(w.dom.parentNode).map(Te.fromDom),Xa=w=>ue.from(w.dom.parentElement).map(Te.fromDom),Fo=w=>ue.from(w.dom.nextSibling).map(Te.fromDom),Ti=w=>Fe(w.dom.childNodes,Te.fromDom),Vn=(w,D)=>{const V=w.dom.childNodes;return ue.from(V[D]).map(Te.fromDom)},is=w=>Vn(w,0),ul=w=>Vn(w,w.dom.childNodes.length-1),nl=w=>Hs(w)&&pn(w.dom.host),Oi=w=>Te.fromDom(w.dom.getRootNode()),mi=w=>{const D=Oi(w);return nl(D)?ue.some(D):ue.none()},fl=w=>Te.fromDom(w.dom.host),Nn=w=>{const D=Vo(w)?w.dom.parentNode:w.dom;if(D==null||D.ownerDocument===null)return!1;const V=D.ownerDocument;return mi(Te.fromDom(D)).fold(()=>V.body.contains(D),so(Nn,fl))};var mo=(w,D,V,ie,me)=>w(V,ie)?ue.some(V):Ur(me)&&me(V)?ue.none():D(V,ie,me);const Ba=(w,D,V)=>{let ie=w.dom;const me=Ur(V)?V:Tt;for(;ie.parentNode;){ie=ie.parentNode;const Ze=Te.fromDom(ie);if(D(Ze))return ue.some(Ze);if(me(Ze))break}return ue.none()},Os=(w,D,V)=>mo((me,Ze)=>Ze(me),Ba,w,D,V),ud=(w,D,V)=>Ba(w,ie=>yt(ie,D),V),kt=(w,D,V)=>mo((me,Ze)=>yt(me,Ze),ud,w,D,V),_s=w=>kt(w,"[contenteditable]"),Jd=(w,D=!1)=>Nn(w)?w.dom.isContentEditable:_s(w).fold(cn(D),V=>hr(V)==="true"),hr=w=>w.dom.contentEditable,fd=(w,D)=>{nt(w).each(ie=>{ie.dom.insertBefore(D.dom,w.dom)})},Ja=(w,D)=>{Fo(w).fold(()=>{nt(w).each(me=>{pi(me,D)})},ie=>{fd(ie,D)})},Vi=(w,D)=>{is(w).fold(()=>{pi(w,D)},ie=>{w.dom.insertBefore(D.dom,ie.dom)})},pi=(w,D)=>{w.dom.appendChild(D.dom)},rr=(w,D)=>{Pt(D,V=>{fd(w,V)})},ca=(w,D)=>{Pt(D,V=>{pi(w,V)})},Qa=w=>{w.dom.textContent="",Pt(Ti(w),D=>{Qd(D)})},Qd=w=>{const D=w.dom;D.parentNode!==null&&D.parentNode.removeChild(D)};var cc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),gi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),eu=tinymce.util.Tools.resolve("tinymce.util.VK");const Hc=w=>Fe(w,Te.fromDom),kn=Object.keys,Xr=(w,D)=>{const V=kn(w);for(let ie=0,me=V.length;ie<me;ie++){const Ze=V[ie],eo=w[Ze];D(eo,Ze)}},da=w=>(D,V)=>{w[V]=D},Bu=(w,D,V,ie)=>{Xr(w,(me,Ze)=>{(D(me,Ze)?V:ie)(me,Ze)})},ji=(w,D)=>{const V={};return Bu(w,D,da(V),Bt),V},md=(w,D,V)=>{if(ko(V)||Kr(V)||Fs(V))w.setAttribute(D,V+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",V,":: Element ",w),new Error("Attribute value was not simple")},As=(w,D)=>{const V=w.dom;Xr(D,(ie,me)=>{md(V,me,ie)})},ua=w=>Qe(w.dom.attributes,(D,V)=>(D[V.name]=V.value,D),{}),hi=(w,D)=>Te.fromDom(w.dom.cloneNode(D)),Rn=w=>hi(w,!0),sr=(w,D)=>{const V=Te.fromTag(D),ie=ua(w);return As(V,ie),V},Ui=(w,D)=>{const V=sr(w,D);Ja(w,V);const ie=Ti(w);return ca(V,ie),Qd(w),V};var dc=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ls=tinymce.util.Tools.resolve("tinymce.util.Tools");const ml=w=>D=>pn(D)&&D.nodeName.toLowerCase()===w,Tr=w=>D=>pn(D)&&w.test(D.nodeName),bn=w=>pn(w)&&w.nodeType===3,bi=w=>pn(w)&&w.nodeType===1,Ca=Tr(/^(OL|UL|DL)$/),Ns=Tr(/^(OL|UL)$/),Sa=ml("ol"),Fr=Tr(/^(LI|DT|DD)$/),pd=Tr(/^(DT|DD)$/),to=Tr(/^(TH|TD)$/),pl=ml("br"),cs=w=>{var D;return((D=w.parentNode)===null||D===void 0?void 0:D.firstChild)===w},Er=(w,D)=>pn(D)&&D.nodeName in w.schema.getTextBlockElements(),$c=(w,D)=>pn(w)&&w.nodeName in D,Wo=(w,D)=>pn(D)&&D.nodeName in w.schema.getVoidElements(),Pl=(w,D)=>pl(D)?w.isBlock(D.nextSibling)&&!pl(D.previousSibling):!1,fa=(w,D,V)=>{const ie=w.isEmpty(D);return V&&w.select("span[data-mce-type=bookmark]",D).length>0?!1:ie},po=(w,D)=>w.isChildOf(D,w.getRoot()),Ai=w=>D=>D.options.get(w),ei=w=>{const D=w.options.register;D("lists_indent_on_tab",{processor:"boolean",default:!0})},br=Ai("lists_indent_on_tab"),Ll=Ai("forced_root_block"),Hr=Ai("forced_root_block_attrs"),uc=(w,D,V={})=>{const ie=w.dom,me=w.schema.getBlockElements(),Ze=ie.createFragment(),eo=Ll(w),Eo=Hr(w);let go,Vt,zn=!1;for(Vt=ie.create(eo,{...Eo,...V.style?{style:V.style}:{}}),$c(D.firstChild,me)||Ze.appendChild(Vt);go=D.firstChild;){const Zr=go.nodeName;!zn&&(Zr!=="SPAN"||go.getAttribute("data-mce-type")!=="bookmark")&&(zn=!0),$c(go,me)?(Ze.appendChild(go),Vt=null):(Vt||(Vt=ie.create(eo,Eo),Ze.appendChild(Vt)),Vt.appendChild(go))}return!zn&&Vt&&Vt.appendChild(ie.create("br",{"data-mce-bogus":"1"})),Ze},$s=dc.DOM,_n=(w,D,V)=>{const ie=Vt=>{const zn=Vt.parentNode;zn&&ls.each(me,Zr=>{zn.insertBefore(Zr,V.parentNode)}),$s.remove(Vt)},me=$s.select('span[data-mce-type="bookmark"]',D),Ze=uc(w,V),eo=$s.createRng();eo.setStartAfter(V),eo.setEndAfter(D);const Eo=eo.extractContents();for(let Vt=Eo.firstChild;Vt;Vt=Vt.firstChild)if(Vt.nodeName==="LI"&&w.dom.isEmpty(Vt)){$s.remove(Vt);break}w.dom.isEmpty(Eo)||$s.insertAfter(Eo,D),$s.insertAfter(Ze,D);const go=V.parentElement;go&&fa(w.dom,go)&&ie(go),$s.remove(V),fa(w.dom,D)&&$s.remove(D)},gl=fi("dd"),Vc=fi("dt"),gd=(w,D)=>{gl(D)?Ui(D,"dt"):Vc(D)&&Xa(D).each(V=>_n(w,V.dom,D.dom))},yr=w=>{Vc(w)&&Ui(w,"dd")},Ea=(w,D,V)=>{D==="Indent"?Pt(V,yr):Pt(V,ie=>gd(w,ie))},G=(w,D)=>{if(bn(w))return{container:w,offset:D};const V=cc.getNode(w,D);return bn(V)?{container:V,offset:D>=w.childNodes.length?V.data.length:0}:V.previousSibling&&bn(V.previousSibling)?{container:V.previousSibling,offset:V.previousSibling.data.length}:V.nextSibling&&bn(V.nextSibling)?{container:V.nextSibling,offset:0}:{container:w,offset:D}},ae=w=>{const D=w.cloneRange(),V=G(w.startContainer,w.startOffset);D.setStart(V.container,V.offset);const ie=G(w.endContainer,w.endOffset);return D.setEnd(ie.container,ie.offset),D},xe=["OL","UL","DL"],Pe=xe.join(","),rt=(w,D)=>{const V=D||w.selection.getStart(!0);return w.dom.getParent(V,Pe,Il(w,V))},Lt=(w,D)=>pn(w)&&D.length===1&&D[0]===w,No=w=>O(w.querySelectorAll(Pe),Ca),Dn=w=>{const D=rt(w),V=w.selection.getSelectedBlocks();return Lt(D,V)?No(D):O(V,ie=>Ca(ie)&&D!==ie)},Ho=(w,D)=>{const V=ls.map(D,ie=>{const me=w.dom.getParent(ie,"li,dd,dt",Il(w,ie));return me||ie});return as(V)},jn=w=>{const D=w.selection.getSelectedBlocks();return O(Ho(w,D),Fr)},$r=w=>O(jn(w),pd),Mo=(w,D)=>{const V=w.dom.getParents(D,"TD,TH");return V.length>0?V[0]:w.getBody()},rl=(w,D)=>!Ca(D)&&!Fr(D)&&Lo(xe,V=>w.isValidChild(D.nodeName,V)),Il=(w,D)=>{const V=w.dom.getParents(D,w.dom.isBlock),ie=Ze=>Ze.nodeName.toLowerCase()!==Ll(w);return Zo(V,Ze=>ie(Ze)&&rl(w.schema,Ze)).getOr(w.getBody())},fc=w=>nt(w).exists(D=>Fr(D.dom)&&is(D).exists(V=>!Ca(V.dom))&&ul(D).exists(V=>!Ca(V.dom))),Mm=(w,D)=>{const V=w.dom.getParents(D,"ol,ul",Il(w,D));return St(V)},Ig=w=>{const D=Mm(w,w.selection.getStart()),V=O(w.selection.getSelectedBlocks(),Ns);return D.toArray().concat(V)},Ni=w=>{const D=w.selection.getStart();return w.dom.getParents(D,"ol,ul",Il(w,D))},Bm=w=>{const D=Ig(w),V=Ni(w);return Zo(V,ie=>fc(Te.fromDom(ie))).fold(()=>Fg(w,D),ie=>[ie])},Fg=(w,D)=>{const V=Fe(D,ie=>Mm(w,ie).getOr(ie));return as(V)},Sf=w=>/\btox\-/.test(w.className),Mp=(w,D)=>Ft(w,Ca,to).exists(V=>V.nodeName===D&&!Sf(V)),ft=(w,D)=>D!==null&&!w.dom.isEditable(D),hd=w=>{const D=rt(w);return ft(w,D)},bd=(w,D)=>{const V=w.dom.getParent(D,"ol,ul,dl");return ft(w,V)},Ef=(w,D)=>{const V=w.selection.getNode();return D({parents:w.dom.getParents(V),element:V}),w.on("NodeChange",D),()=>w.off("NodeChange",D)},ma=(w,D)=>{const ie=document.createDocumentFragment();return Pt(w,me=>{ie.appendChild(me.dom)}),Te.fromDom(ie)},yd=(w,D,V)=>w.dispatch("ListMutation",{action:D,element:V}),Hg=(w=>D=>D.replace(w,""))(/^\s+|\s+$/g),Bp=w=>w.length>0,Pp=w=>!Bp(w),bb=w=>w.style!==void 0&&Ur(w.style.getPropertyValue),$g=(w,D,V)=>{if(!ko(V))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",V,":: Element ",w),new Error("CSS value must be a string: "+V);bb(w)&&w.style.setProperty(D,V)},yb=(w,D,V)=>{const ie=w.dom;$g(ie,D,V)},zf=w=>Wt(w,"OL,UL"),Fl=w=>Wt(w,"LI"),jc=w=>is(w).exists(zf),Hl=w=>ul(w).exists(zf),Vs=w=>"listAttributes"in w,yi=w=>"isComment"in w,vd=w=>"isFragment"in w,rn=w=>w.depth>0,hl=w=>w.isSelected,Pu=w=>{const D=Ti(w),V=Hl(w)?D.slice(0,-1):D;return Fe(V,Rn)},Lu=(w,D,V)=>nt(w).filter(Co).map(ie=>({depth:D,dirty:!1,isSelected:V,content:Pu(w),itemAttributes:ua(w),listAttributes:ua(ie),listType:Fn(ie),isInPreviousLi:!1})),ti=(w,D)=>{pi(w.item,D.list)},Jr=w=>{for(let D=1;D<w.length;D++)ti(w[D-1],w[D])},vr=(w,D)=>{wo(St(w),et(D),ti)},Js=(w,D)=>{const V={list:Te.fromTag(D,w),item:Te.fromTag("li",w)};return pi(V.list,V.item),V},ar=(w,D,V)=>{const ie=[];for(let me=0;me<V;me++)ie.push(Js(w,Vs(D)?D.listType:D.parentListType));return ie},xd=(w,D)=>{for(let V=0;V<w.length-1;V++)yb(w[V].item,"list-style-type","none");St(w).each(V=>{Vs(D)&&(As(V.list,D.listAttributes),As(V.item,D.itemAttributes)),ca(V.item,D.content)})},kd=(w,D)=>{Fn(w.list)!==D.listType&&(w.list=Ui(w.list,D.listType)),As(w.list,D.listAttributes)},ws=(w,D,V)=>{const ie=Te.fromTag("li",w);return As(ie,D),ca(ie,V),ie},Pa=(w,D)=>{pi(w.list,D),w.item=D},za=(w,D,V)=>{const ie=D.slice(0,V.depth);return St(ie).each(me=>{if(Vs(V)){const Ze=ws(w,V.itemAttributes,V.content);Pa(me,Ze),kd(me,V)}else if(vd(V))ca(me.item,V.content);else{const Ze=Te.fromHtml(`<!--${V.content}-->`);pi(me.list,Ze)}}),ie},gs=(w,D,V)=>{const ie=ar(w,V,V.depth-D.length);return Jr(ie),xd(ie,V),vr(D,ie),D.concat(ie)},Uc=(w,D)=>{let V=ue.none();const ie=Qe(D,(me,Ze,eo)=>yi(Ze)?eo===0?(V=ue.some(Ze),me):za(w,me,Ze):Ze.depth>me.length?gs(w,me,Ze):za(w,me,Ze),[]);return V.each(me=>{const Ze=Te.fromHtml(`<!--${me.content}-->`);et(ie).each(eo=>{Vi(eo.list,Ze)})}),et(ie).map(me=>me.list)},$o=(w,D)=>{switch(w){case"Indent":D.depth++;break;case"Outdent":D.depth--;break;case"Flatten":D.depth=0}D.dirty=!0},ds=(w,D)=>{Vs(w)&&Vs(D)&&(w.listType=D.listType,w.listAttributes={...D.listAttributes})},La=w=>{w.listAttributes=ji(w.listAttributes,(D,V)=>V!=="start")},$l=(w,D)=>{const V=w[D].depth,ie=Ze=>Ze.depth===V&&!Ze.dirty,me=Ze=>Ze.depth<V;return Ft(la(w.slice(0,D)),ie,me).orThunk(()=>Ft(w.slice(D+1),ie,me))},Rs=w=>(Pt(w,(D,V)=>{$l(w,V).fold(()=>{D.dirty&&Vs(D)&&La(D)},ie=>ds(D,ie))}),w),Ht=w=>{let D=w;return{get:()=>D,set:me=>{D=me}}},bl=(w,D,V,ie)=>{var me;if(Xs(ie))return[{depth:w+1,content:(me=ie.dom.nodeValue)!==null&&me!==void 0?me:"",dirty:!1,isSelected:!1,isComment:!0}];D.each(Eo=>{tt(Eo.start,ie)&&V.set(!0)});const Ze=Lu(ie,w,V.get());D.each(Eo=>{tt(Eo.end,ie)&&V.set(!1)});const eo=ul(ie).filter(zf).map(Eo=>dn(w,D,V,Eo)).getOr([]);return Ze.toArray().concat(eo)},yl=(w,D,V,ie)=>is(ie).filter(zf).fold(()=>bl(w,D,V,ie),me=>{const Ze=Qe(Ti(ie),(eo,Eo,go)=>{if(go===0)return eo;if(Fl(Eo))return eo.concat(bl(w,D,V,Eo));{const Vt={isFragment:!0,depth:w,content:[Eo],isSelected:!1,dirty:!1,parentListType:Fn(me)};return eo.concat(Vt)}},[]);return dn(w,D,V,me).concat(Ze)}),dn=(w,D,V,ie)=>Oo(Ti(ie),me=>{const Ze=zf(me)?dn:yl,eo=w+1;return Ze(eo,D,V,me)}),ou=(w,D)=>{const V=Ht(!1),ie=0;return Fe(w,me=>({sourceList:me,entries:dn(ie,D,V,me)}))},Pm=(w,D)=>{const V=Rs(D);return Fe(V,ie=>{const me=yi(ie)?ma([Te.fromHtml(`<!--${ie.content}-->`)]):ma(ie.content),Ze=Vs(ie)?ie.itemAttributes:{};return Te.fromDom(uc(w,me.dom,Ze))})},Vl=(w,D)=>{const V=Rs(D);return Uc(w.contentDocument,V).toArray()},Uo=(w,D)=>Oo(ot(D,rn),V=>et(V).exists(rn)?Vl(w,V):Pm(w,V)),Ta=(w,D)=>{Pt(O(w,hl),V=>$o(D,V))},Iu=w=>{const D=Fe(jn(w),Te.fromDom);return wo(Zo(D,uo(jc)),Zo(la(D),uo(jc)),(V,ie)=>({start:V,end:ie}))},mc=(w,D,V)=>{const ie=ou(D,Iu(w));Pt(ie,me=>{Ta(me.entries,V);const Ze=Uo(w,me.entries);Pt(Ze,eo=>{yd(w,V==="Indent"?"IndentList":"OutdentList",eo.dom)}),rr(me.sourceList,Ze),Qd(me.sourceList)})},Tf=(w,D)=>{const V=Hc(Bm(w)),ie=Hc($r(w));let me=!1;if(V.length||ie.length){const Ze=w.selection.getBookmark();mc(w,V,D),Ea(w,D,ie),w.selection.moveToBookmark(Ze),w.selection.setRng(ae(w.selection.getRng())),w.nodeChanged(),me=!0}return me},vl=(w,D)=>!hd(w)&&Tf(w,D),Ia=w=>vl(w,"Indent"),jl=w=>vl(w,"Outdent"),_d=w=>vl(w,"Flatten"),de="\uFEFF",nu=w=>w===de,Un=(w,D,V)=>Ba(w,D,V).isSome(),Lm=(w,D)=>Un(w,st(tt,D));var Fu=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const sl=dc.DOM,on=w=>{const D={},V=ie=>{let me=w[ie?"startContainer":"endContainer"],Ze=w[ie?"startOffset":"endOffset"];if(bi(me)){const eo=sl.create("span",{"data-mce-type":"bookmark"});me.hasChildNodes()?(Ze=Math.min(Ze,me.childNodes.length-1),ie?me.insertBefore(eo,me.childNodes[Ze]):sl.insertAfter(eo,me.childNodes[Ze])):me.appendChild(eo),me=eo,Ze=0}D[ie?"startContainer":"endContainer"]=me,D[ie?"startOffset":"endOffset"]=Ze};return V(!0),w.collapsed||V(),D},pa=w=>{const D=ie=>{const me=Eo=>{var go;let Vt=(go=Eo.parentNode)===null||go===void 0?void 0:go.firstChild,zn=0;for(;Vt;){if(Vt===Eo)return zn;(!bi(Vt)||Vt.getAttribute("data-mce-type")!=="bookmark")&&zn++,Vt=Vt.nextSibling}return-1};let Ze=w[ie?"startContainer":"endContainer"],eo=w[ie?"startOffset":"endOffset"];if(Ze){if(bi(Ze)&&Ze.parentNode){const Eo=Ze;eo=me(Ze),Ze=Ze.parentNode,sl.remove(Eo),!Ze.hasChildNodes()&&sl.isBlock(Ze)&&Ze.appendChild(sl.create("br"))}w[ie?"startContainer":"endContainer"]=Ze,w[ie?"startOffset":"endOffset"]=eo}};D(!0),D();const V=sl.createRng();return V.setStart(w.startContainer,w.startOffset),w.endContainer&&V.setEnd(w.endContainer,w.endOffset),ae(V)},Zi=w=>{switch(w){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},al=(w,D,V)=>{const ie=V["list-style-type"]?V["list-style-type"]:null;w.setStyle(D,"list-style-type",ie)},Ul=(w,D)=>{ls.each(D,(V,ie)=>{w.setAttribute(ie,V)})},pc=(w,D,V)=>{Ul(D,V["list-attributes"]),ls.each(w.select("li",D),ie=>{Ul(ie,V["list-item-attributes"])})},Qs=(w,D,V)=>{al(w,D,V),pc(w,D,V)},wd=(w,D,V)=>{ls.each(V,ie=>w.setStyle(D,ie,""))},Hu=(w,D)=>pn(D)&&!$c(D,w.schema.getBlockElements()),Of=(w,D,V,ie)=>{let me=D[V?"startContainer":"endContainer"];const Ze=D[V?"startOffset":"endOffset"];bi(me)&&(me=me.childNodes[Math.min(Ze,me.childNodes.length-1)]||me),!V&&pl(me.nextSibling)&&(me=me.nextSibling);const eo=go=>{for(;!w.dom.isBlock(go)&&go.parentNode&&ie!==go;)go=go.parentNode;return go},Eo=(go,Vt)=>{var zn;const Zr=new gi(go,eo(go)),Rr=Vt?"next":"prev";let Cl;for(;Cl=Zr[Rr]();)if(!(Wo(w,Cl)||nu(Cl.textContent)||((zn=Cl.textContent)===null||zn===void 0?void 0:zn.length)===0))return ue.some(Cl);return ue.none()};if(V&&bn(me))if(nu(me.textContent))me=Eo(me,!1).getOr(me);else for(me.parentNode!==null&&Hu(w,me.parentNode)&&(me=me.parentNode);me.previousSibling!==null&&(Hu(w,me.previousSibling)||bn(me.previousSibling));)me=me.previousSibling;if(!V&&bn(me))if(nu(me.textContent))me=Eo(me,!0).getOr(me);else for(me.parentNode!==null&&Hu(w,me.parentNode)&&(me=me.parentNode);me.nextSibling!==null&&(Hu(w,me.nextSibling)||bn(me.nextSibling));)me=me.nextSibling;for(;me.parentNode!==ie;){const go=me.parentNode;if(Er(w,me)||/^(TD|TH)$/.test(go.nodeName))return me;me=go}return me},Ds=(w,D,V)=>{const ie=[],me=w.dom,Ze=Of(w,D,!0,V),eo=Of(w,D,!1,V);let Eo;const go=[];for(let Vt=Ze;Vt&&(go.push(Vt),Vt!==eo);Vt=Vt.nextSibling);return ls.each(go,Vt=>{var zn;if(Er(w,Vt)){ie.push(Vt),Eo=null;return}if(me.isBlock(Vt)||pl(Vt)){pl(Vt)&&me.remove(Vt),Eo=null;return}const Zr=Vt.nextSibling;if(Fu.isBookmarkNode(Vt)&&(Ca(Zr)||Er(w,Zr)||!Zr&&Vt.parentNode===V)){Eo=null;return}Eo||(Eo=me.create("p"),(zn=Vt.parentNode)===null||zn===void 0||zn.insertBefore(Eo,Vt),ie.push(Eo)),Eo.appendChild(Vt)}),ie},Kt=(w,D,V)=>{const ie=w.getStyle(D,"list-style-type");let me=V?V["list-style-type"]:"";return me=me===null?"":me,ie===me},gc=(w,D)=>{const V=w.selection.getStart(!0),ie=Of(w,D,!0,w.getBody());return Lm(Te.fromDom(ie),Te.fromDom(D.commonAncestorContainer))?D.commonAncestorContainer:V},ru=(w,D,V)=>{const ie=w.selection.getRng();let me="LI";const Ze=Il(w,gc(w,ie)),eo=w.dom;if(eo.getContentEditable(w.selection.getNode())==="false")return;D=D.toUpperCase(),D==="DL"&&(me="DT");const Eo=on(ie),go=O(Ds(w,ie,Ze),w.dom.isEditable);ls.each(go,Vt=>{let zn;const Zr=Vt.previousSibling,Rr=Vt.parentNode;Fr(Rr)||(Zr&&Ca(Zr)&&Zr.nodeName===D&&Kt(eo,Zr,V)?(zn=Zr,Vt=eo.rename(Vt,me),Zr.appendChild(Vt)):(zn=eo.create(D),Rr.insertBefore(zn,Vt),zn.appendChild(Vt),Vt=eo.rename(Vt,me)),wd(eo,Vt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qs(eo,zn,V),Zc(w.dom,zn))}),w.selection.setRng(pa(Eo))},ga=(w,D)=>Ca(w)&&w.nodeName===(D==null?void 0:D.nodeName),hc=(w,D,V)=>{const ie=w.getStyle(D,"list-style-type",!0),me=w.getStyle(V,"list-style-type",!0);return ie===me},Ri=(w,D)=>w.className===D.className,bc=(w,D,V)=>ga(D,V)&&hc(w,D,V)&&Ri(D,V),Zc=(w,D)=>{let V,ie=D.nextSibling;if(bc(w,D,ie)){const me=ie;for(;V=me.firstChild;)D.appendChild(V);w.remove(me)}if(ie=D.previousSibling,bc(w,D,ie)){const me=ie;for(;V=me.lastChild;)D.insertBefore(V,D.firstChild);w.remove(me)}},Ms=(w,D,V,ie)=>{if(D.nodeName!==V){const me=w.dom.rename(D,V);Qs(w.dom,me,ie),yd(w,Zi(V),me)}else Qs(w.dom,D,ie),yd(w,Zi(V),D)},il=(w,D,V,ie)=>{if(D.classList.forEach((me,Ze,eo)=>{me.startsWith("tox-")&&(eo.remove(me),eo.length===0&&D.removeAttribute("class"))}),D.nodeName!==V){const me=w.dom.rename(D,V);Qs(w.dom,me,ie),yd(w,Zi(V),me)}else Qs(w.dom,D,ie),yd(w,Zi(V),D)},Zl=(w,D,V,ie,me)=>{const Ze=Ca(D);if(Ze&&D.nodeName===ie&&!su(me)&&!Sf(D))_d(w);else{ru(w,ie,me);const eo=on(w.selection.getRng()),Eo=Ze?[D,...V]:V,go=Ze&&Sf(D)?il:Ms;ls.each(Eo,Vt=>{go(w,Vt,ie,me)}),w.selection.setRng(pa(eo))}},su=w=>"list-style-type"in w,Lp=(w,D,V,ie)=>{if(D!==w.getBody())if(D)if(D.nodeName===V&&!su(ie)&&!Sf(D))_d(w);else{const me=on(w.selection.getRng());Sf(D)&&D.classList.forEach((eo,Eo,go)=>{eo.startsWith("tox-")&&(go.remove(eo),go.length===0&&D.removeAttribute("class"))}),Qs(w.dom,D,ie);const Ze=w.dom.rename(D,V);Zc(w.dom,Ze),w.selection.setRng(pa(me)),ru(w,V,ie),yd(w,Zi(V),Ze)}else ru(w,V,ie),yd(w,Zi(V),D)},yc=(w,D,V)=>{const ie=rt(w);if(bd(w,ie))return;const me=Dn(w),Ze=tr(V)?V:{};me.length>0?Zl(w,ie,me,D,Ze):Lp(w,ie,D,Ze)},Cd=dc.DOM,$u=(w,D)=>{const V=D.parentElement;if(V&&V.nodeName==="LI"&&V.firstChild===D){const ie=V.previousSibling;ie&&ie.nodeName==="LI"?(ie.appendChild(D),fa(w,V)&&Cd.remove(V)):Cd.setStyle(V,"listStyleType","none")}if(Ca(V)){const ie=V.previousSibling;ie&&ie.nodeName==="LI"&&ie.appendChild(D)}},xr=(w,D)=>{const V=ls.grep(w.select("ol,ul",D));ls.each(V,ie=>{$u(w,ie)})},Fa=(w,D,V,ie)=>{let me=D.startContainer;const Ze=D.startOffset;if(bn(me)&&(V?Ze<me.data.length:Ze>0))return me;const eo=w.schema.getNonEmptyElements();bi(me)&&(me=cc.getNode(me,Ze));const Eo=new gi(me,ie);V&&Pl(w.dom,me)&&Eo.next();const go=V?Eo.next.bind(Eo):Eo.prev2.bind(Eo);for(;me=go();)if(me.nodeName==="LI"&&!me.hasChildNodes()||eo[me.nodeName]||bn(me)&&me.data.length>0)return me;return null},ea=(w,D)=>{const V=D.childNodes;return V.length===1&&!Ca(V[0])&&w.isBlock(V[0])},oi=w=>ue.from(w).map(Te.fromDom).filter(ct).exists(D=>Jd(D)&&!gr(["details"],Fn(D))),us=(w,D)=>{ea(w,D)&&oi(D.firstChild)&&w.remove(D.firstChild,!0)},Af=(w,D,V)=>{let ie;const me=ea(w,V)?V.firstChild:V;if(us(w,D),!fa(w,D,!0))for(;ie=D.firstChild;)me.appendChild(ie)},Qr=(w,D,V)=>{let ie;const me=D.parentNode;if(!po(w,D)||!po(w,V))return;Ca(V.lastChild)&&(ie=V.lastChild),me===V.lastChild&&pl(me.previousSibling)&&w.remove(me.previousSibling);const Ze=V.lastChild;Ze&&pl(Ze)&&D.hasChildNodes()&&w.remove(Ze),fa(w,V,!0)&&Qa(Te.fromDom(V)),Af(w,D,V),ie&&V.appendChild(ie);const Eo=Xe(Te.fromDom(V),Te.fromDom(D))?w.getParents(D,Ca,V):[];w.remove(D),Pt(Eo,go=>{fa(w,go)&&go!==w.getRoot()&&w.remove(go)})},ta=(w,D,V)=>{Qa(Te.fromDom(V)),Qr(w.dom,D,V),w.selection.setCursorLocation(V,0)},xl=(w,D,V,ie)=>{const me=w.dom;if(me.isEmpty(ie))ta(w,V,ie);else{const Ze=on(D);Qr(me,V,ie),w.selection.setRng(pa(Ze))}},Ue=(w,D,V,ie)=>{const me=on(D);Qr(w.dom,V,ie);const Ze=pa(me);w.selection.setRng(Ze)},js=(w,D)=>{const V=w.dom,ie=w.selection,me=ie.getStart(),Ze=Mo(w,me),eo=V.getParent(ie.getStart(),"LI",Ze);if(eo){const Eo=eo.parentElement;if(Eo===w.getBody()&&fa(V,Eo))return!0;const go=ae(ie.getRng()),Vt=V.getParent(Fa(w,go,D,Ze),"LI",Ze),zn=Vt&&(D?V.isChildOf(eo,Vt):V.isChildOf(Vt,eo));if(Vt&&Vt!==eo&&!zn)return w.undoManager.transact(()=>{D?xl(w,go,Vt,eo):cs(eo)?jl(w):Ue(w,go,eo,Vt)}),!0;if(zn&&!D&&Vt!==eo)return w.undoManager.transact(()=>{if(go.commonAncestorContainer.parentElement){const Zr=on(go),Rr=go.commonAncestorContainer.parentElement;Af(V,go.commonAncestorContainer.parentElement,Vt),Rr.remove();const Cl=pa(Zr);w.selection.setRng(Cl)}}),!0;if(!Vt&&!D&&go.startOffset===0&&go.endOffset===0)return w.undoManager.transact(()=>{_d(w)}),!0}return!1},au=(w,D,V)=>{const ie=w.getParent(D.parentNode,w.isBlock,V);w.remove(D),ie&&w.isEmpty(ie)&&w.remove(ie)},Or=(w,D)=>{const V=w.dom,ie=w.selection.getStart(),me=Mo(w,ie),Ze=V.getParent(ie,V.isBlock,me);if(Ze&&V.isEmpty(Ze,void 0,{checkRootAsContent:!0})){const eo=ae(w.selection.getRng()),Eo=V.getParent(Fa(w,eo,D,me),"LI",me);if(Eo){const go=Rr=>gr(["td","th","caption"],Fn(Rr)),Vt=Rr=>Rr.dom===me,zn=Os(Te.fromDom(Eo),go,Vt),Zr=Os(Te.fromDom(eo.startContainer),go,Vt);return hn(zn,Zr,tt)?(w.undoManager.transact(()=>{const Rr=Eo.parentNode;au(V,Ze,me),Zc(V,Rr),w.selection.select(Eo,!0),w.selection.collapse(D)}),!0):!1}}return!1},kl=(w,D)=>js(w,D)||Or(w,D),Ha=w=>{const D=w.selection.getStart(),V=Mo(w,D);return w.dom.getParent(D,"LI,DT,DD",V)||jn(w).length>0},_l=w=>Ha(w)?(w.undoManager.transact(()=>{w.execCommand("Delete"),xr(w.dom,w.getBody())}),!0):!1,iu=(w,D)=>{const V=w.selection;return!bd(w,V.getNode())&&(V.isCollapsed()?kl(w,D):_l(w))},ni=w=>{w.on("ExecCommand",D=>{const V=D.command.toLowerCase();(V==="delete"||V==="forwarddelete")&&Ha(w)&&xr(w.dom,w.getBody())}),w.on("keydown",D=>{D.keyCode===eu.BACKSPACE?iu(w,!1)&&D.preventDefault():D.keyCode===eu.DELETE&&iu(w,!0)&&D.preventDefault()})},Xo=w=>({backspaceDelete:D=>{iu(w,D)}}),es=(w,D)=>{const V=rt(w);V===null||bd(w,V)||w.undoManager.transact(()=>{tr(D.styles)&&w.dom.setStyles(V,D.styles),tr(D.attrs)&&Xr(D.attrs,(ie,me)=>w.dom.setAttrib(V,me,ie))})},vc=w=>{const D=la(Hg(w).split("")),V=Fe(D,(ie,me)=>{const Ze=ie.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,me)*Ze});return Qe(V,(ie,me)=>ie+me,0)},Ar=w=>{if(w--,w<0)return"";{const D=w%26,V=Math.floor(w/26),ie=Ar(V),me=String.fromCharCode(65+D);return ie+me}},Vu=w=>/^[A-Z]+$/.test(w),Wl=w=>/^[a-z]+$/.test(w),Im=w=>/^[0-9]+$/.test(w),Nr=w=>Im(w)?2:Vu(w)?0:Wl(w)?1:Pp(w)?3:4,we=w=>{switch(Nr(w)){case 2:return ue.some({listStyleType:ue.none(),start:w});case 0:return ue.some({listStyleType:ue.some("upper-alpha"),start:vc(w).toString()});case 1:return ue.some({listStyleType:ue.some("lower-alpha"),start:vc(w).toString()});case 3:return ue.some({listStyleType:ue.none(),start:""});case 4:return ue.none()}},$a=w=>{const D=parseInt(w.start,10);return gn(w.listStyleType,"upper-alpha")?Ar(D):gn(w.listStyleType,"lower-alpha")?Ar(D).toLowerCase():w.start},ts=w=>{const D=rt(w);!Sa(D)||bd(w,D)||w.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:$a({start:w.dom.getAttrib(D,"start","1"),listStyleType:ue.from(w.dom.getStyle(D,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:V=>{const ie=V.getData();we(ie.start).each(me=>{w.execCommand("mceListUpdate",!1,{attrs:{start:me.start==="1"?"":me.start},styles:{"list-style-type":me.listStyleType.getOr("")}})}),V.close()}})},vi=(w,D)=>()=>{const V=rt(w);return pn(V)&&V.nodeName===D},wl=w=>{w.addCommand("mceListProps",()=>{ts(w)})},fs=w=>{w.on("BeforeExecCommand",D=>{const V=D.command.toLowerCase();V==="indent"?Ia(w):V==="outdent"&&jl(w)}),w.addCommand("InsertUnorderedList",(D,V)=>{yc(w,"UL",V)}),w.addCommand("InsertOrderedList",(D,V)=>{yc(w,"OL",V)}),w.addCommand("InsertDefinitionList",(D,V)=>{yc(w,"DL",V)}),w.addCommand("RemoveList",()=>{_d(w)}),wl(w),w.addCommand("mceListUpdate",(D,V)=>{tr(V)&&es(w,V)}),w.addQueryStateHandler("InsertUnorderedList",vi(w,"UL")),w.addQueryStateHandler("InsertOrderedList",vi(w,"OL")),w.addQueryStateHandler("InsertDefinitionList",vi(w,"DL"))};var ir=tinymce.util.Tools.resolve("tinymce.html.Node");const Mn=w=>w.type===3,ha=w=>w.length===0,xi=w=>{const D=(me,Ze)=>{const eo=ir.create("li");Pt(me,Eo=>eo.append(Eo)),Ze?w.insert(eo,Ze,!0):w.append(eo)},V=(me,Ze)=>Mn(Ze)?[...me,Ze]:!ha(me)&&!Mn(Ze)?(D(me,Ze),[]):me,ie=Qe(w.children(),V,[]);ha(ie)||D(ie)},ri=w=>{w.on("PreInit",()=>{const{parser:D}=w;D.addNodeFilter("ul,ol",V=>Pt(V,xi))})},Wi=w=>{w.on("keydown",D=>{D.keyCode!==eu.TAB||eu.metaKeyPressed(D)||w.undoManager.transact(()=>{(D.shiftKey?jl(w):Ia(w))&&D.preventDefault()})})},ql=w=>{br(w)&&Wi(w),ni(w)},xc=(w,D)=>V=>{const ie=me=>{V.setActive(Mp(me.parents,D)),V.setEnabled(!bd(w,me.element)&&w.selection.isEditable())};return V.setEnabled(w.selection.isEditable()),Ef(w,ie)},Wc=w=>{const D=V=>()=>w.execCommand(V);w.hasPlugin("advlist")||(w.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:D("InsertOrderedList"),onSetup:xc(w,"OL")}),w.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:D("InsertUnorderedList"),onSetup:xc(w,"UL")}))},Nf=(w,D)=>V=>Ef(w,me=>V.setEnabled(Mp(me.parents,D)&&!bd(w,me.element))),Rf=w=>{const D={text:"List properties...",icon:"ordered-list",onAction:()=>w.execCommand("mceListProps"),onSetup:Nf(w,"OL")};w.ui.registry.addMenuItem("listprops",D),w.ui.registry.addContextMenu("lists",{update:V=>{const ie=rt(w,V);return Sa(ie)?["listprops"]:[]}})};var kc=()=>{ia.add("lists",w=>(ei(w),ri(w),w.hasPlugin("rtc",!0)?wl(w):(ql(w),fs(w)),Wc(w),Rf(w),Xo(w)))};kc()})();(function(){var ia=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ls=(k,T,$)=>{var J;return $(k,T.prototype)?!0:((J=k.constructor)===null||J===void 0?void 0:J.name)===T.name},ui=k=>{const T=typeof k;return k===null?"null":T==="object"&&Array.isArray(k)?"array":T==="object"&&Ls(k,String,($,J)=>J.isPrototypeOf($))?"string":T},Is=k=>T=>ui(T)===k,Yn=k=>T=>typeof T===k,ko=k=>T=>k===T,tr=Is("string"),nr=Is("array"),Kr=Yn("boolean"),Xn=ko(void 0),pn=k=>k==null,Ur=k=>!pn(k),Fs=Yn("function"),Bt=Yn("number"),so=()=>{},cn=(k,T)=>$=>k(T($)),cr=k=>()=>k,st=k=>k,uo=(k,T)=>k===T;function Tt(k,...T){return(...$)=>{const J=T.concat($);return k.apply(null,J)}}const ue=k=>{k()},Dt=cr(!1),ye=cr(!0);class ht{constructor(T,$){this.tag=T,this.value=$}static some(T){return new ht(!0,T)}static none(){return ht.singletonNone}fold(T,$){return this.tag?$(this.value):T()}isSome(){return this.tag}isNone(){return!this.tag}map(T){return this.tag?ht.some(T(this.value)):ht.none()}bind(T){return this.tag?T(this.value):ht.none()}exists(T){return this.tag&&T(this.value)}forall(T){return!this.tag||T(this.value)}filter(T){return!this.tag||T(this.value)?this:ht.none()}getOr(T){return this.tag?this.value:T}or(T){return this.tag?this:T}getOrThunk(T){return this.tag?this.value:T()}orThunk(T){return this.tag?this:T()}getOrDie(T){if(this.tag)return this.value;throw new Error(T??"Called getOrDie on None")}static from(T){return Ur(T)?ht.some(T):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(T){this.tag&&T(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const ss=Object.keys,gr=Object.hasOwnProperty,Lo=(k,T)=>{const $=ss(k);for(let J=0,he=$.length;J<he;J++){const Ve=$[J],dt=k[Ve];T(dt,Ve)}},Fe=k=>(T,$)=>{k[$]=T},Pt=(k,T,$,J)=>{Lo(k,(he,Ve)=>{(T(he,Ve)?$:J)(he,Ve)})},O=(k,T)=>{const $={};return Pt(k,T,Fe($),so),$},ot=(k,T)=>{const $=[];return Lo(k,(J,he)=>{$.push(T(J,he))}),$},Qe=k=>ot(k,st),Ft=k=>ss(k).length,Zo=(k,T)=>$e(k,T)?ht.from(k[T]):ht.none(),$e=(k,T)=>gr.call(k,T),Oo=(k,T)=>$e(k,T)&&k[T]!==void 0&&k[T]!==null,la=k=>{for(const T in k)if(gr.call(k,T))return!1;return!0},wt=Array.prototype.indexOf,et=Array.prototype.push,St=(k,T)=>wt.call(k,T),as=(k,T)=>St(k,T)>-1,gn=(k,T)=>{for(let $=0,J=k.length;$<J;$++){const he=k[$];if(T(he,$))return!0}return!1},hn=(k,T)=>{const $=[];for(let J=0;J<k;J++)$.push(T(J));return $},wo=(k,T)=>{const $=k.length,J=new Array($);for(let he=0;he<$;he++){const Ve=k[he];J[he]=T(Ve,he)}return J},H=(k,T)=>{for(let $=0,J=k.length;$<J;$++){const he=k[$];T(he,$)}},wa=(k,T)=>{for(let $=k.length-1;$>=0;$--){const J=k[$];T(J,$)}},Cr=(k,T)=>{const $=[],J=[];for(let he=0,Ve=k.length;he<Ve;he++){const dt=k[he];(T(dt,he)?$:J).push(dt)}return{pass:$,fail:J}},xn=(k,T)=>{const $=[];for(let J=0,he=k.length;J<he;J++){const Ve=k[J];T(Ve,J)&&$.push(Ve)}return $},$i=(k,T,$)=>(wa(k,(J,he)=>{$=T($,J,he)}),$),Bl=(k,T,$)=>(H(k,(J,he)=>{$=T($,J,he)}),$),tn=(k,T,$)=>{for(let J=0,he=k.length;J<he;J++){const Ve=k[J];if(T(Ve,J))return ht.some(Ve);if($(Ve,J))break}return ht.none()},Sn=(k,T)=>tn(k,T,Dt),Ko=k=>{const T=[];for(let $=0,J=k.length;$<J;++$){if(!nr(k[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+k);et.apply(T,k[$])}return T},Te=(k,T)=>Ko(wo(k,T)),yt=(k,T)=>{for(let $=0,J=k.length;$<J;++$){const he=k[$];if(T(he,$)!==!0)return!1}return!0},tt=(k,T)=>{const $={};for(let J=0,he=k.length;J<he;J++){const Ve=k[J];$[String(Ve)]=T(Ve,J)}return $},Xe=(k,T)=>T>=0&&T<k.length?ht.some(k[T]):ht.none(),Wt=k=>Xe(k,0),ao=k=>Xe(k,k.length-1),jo=(k,T)=>{for(let $=0;$<k.length;$++){const J=T(k[$],$);if(J.isSome())return J}return ht.none()},En=8,Jn=9,In=11,Tn=1,Yr=3,Ys=(k,T)=>{const J=(T||document).createElement("div");if(J.innerHTML=k,!J.hasChildNodes()||J.childNodes.length>1){const he="HTML does not have a single root node";throw console.error(he,k),new Error(he)}return Yo(J.childNodes[0])},Fn=(k,T)=>{const J=(T||document).createElement(k);return Yo(J)},Sr=(k,T)=>{const J=(T||document).createTextNode(k);return Yo(J)},Yo=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},ct={fromHtml:Ys,fromTag:Fn,fromText:Sr,fromDom:Yo,fromPoint:(k,T,$)=>ht.from(k.dom.elementFromPoint(T,$)).map(Yo)},Co=(k,T)=>{const $=k.dom;if($.nodeType!==Tn)return!1;{const J=$;if(J.matches!==void 0)return J.matches(T);if(J.msMatchesSelector!==void 0)return J.msMatchesSelector(T);if(J.webkitMatchesSelector!==void 0)return J.webkitMatchesSelector(T);if(J.mozMatchesSelector!==void 0)return J.mozMatchesSelector(T);throw new Error("Browser lacks native selectors")}},Vo=k=>k.nodeType!==Tn&&k.nodeType!==Jn&&k.nodeType!==In||k.childElementCount===0,Hs=(k,T)=>{const $=T===void 0?document:T.dom;return Vo($)?[]:wo($.querySelectorAll(k),ct.fromDom)},fi=(k,T)=>{const $=T===void 0?document:T.dom;return Vo($)?ht.none():ht.from($.querySelector(k)).map(ct.fromDom)},nt=(k,T)=>k.dom===T.dom,Xa=Co;typeof window<"u"||Function("return this;")();const Fo=k=>k.dom.nodeName.toLowerCase(),Ti=k=>k.dom.nodeType,Vn=k=>T=>Ti(T)===k,is=k=>Ti(k)===En||Fo(k)==="#comment",ul=Vn(Tn),nl=Vn(Yr),Oi=Vn(Jn),mi=Vn(In),fl=k=>T=>ul(T)&&Fo(T)===k,Nn=k=>ct.fromDom(k.dom.ownerDocument),mo=k=>Oi(k)?k:Nn(k),Ba=k=>ht.from(k.dom.parentNode).map(ct.fromDom),Os=(k,T)=>{const $=Fs(T)?T:Dt;let J=k.dom;const he=[];for(;J.parentNode!==null&&J.parentNode!==void 0;){const Ve=J.parentNode,dt=ct.fromDom(Ve);if(he.push(dt),$(dt)===!0)break;J=Ve}return he},ud=k=>ht.from(k.dom.previousSibling).map(ct.fromDom),kt=k=>ht.from(k.dom.nextSibling).map(ct.fromDom),_s=k=>wo(k.dom.childNodes,ct.fromDom),Jd=(k,T)=>{const $=k.dom.childNodes;return ht.from($[T]).map(ct.fromDom)},hr=k=>Jd(k,0),fd=k=>mi(k)&&Ur(k.dom.host),Ja=k=>ct.fromDom(k.dom.getRootNode()),Vi=k=>{const T=Ja(k);return fd(T)?ht.some(T):ht.none()},pi=k=>ct.fromDom(k.dom.host),rr=k=>{const T=nl(k)?k.dom.parentNode:k.dom;if(T==null||T.ownerDocument===null)return!1;const $=T.ownerDocument;return Vi(ct.fromDom(T)).fold(()=>$.body.contains(T),cn(rr,pi))};var ca=(k,T,$,J,he)=>k($,J)?ht.some($):Fs(he)&&he($)?ht.none():T($,J,he);const Qa=(k,T,$)=>{let J=k.dom;const he=Fs($)?$:Dt;for(;J.parentNode;){J=J.parentNode;const Ve=ct.fromDom(J);if(T(Ve))return ht.some(Ve);if(he(Ve))break}return ht.none()},Qd=(k,T,$)=>ca((he,Ve)=>Ve(he),Qa,k,T,$),cc=(k,T)=>{const $=he=>T(ct.fromDom(he));return Sn(k.dom.childNodes,$).map(ct.fromDom)},gi=(k,T,$)=>Qa(k,J=>Co(J,T),$),eu=(k,T)=>cc(k,$=>Co($,T)),Hc=(k,T)=>fi(T,k),kn=(k,T,$)=>ca((he,Ve)=>Co(he,Ve),gi,k,T,$),Xr=k=>kn(k,"[contenteditable]"),da=(k,T=!1)=>rr(k)?k.dom.isContentEditable:Xr(k).fold(cr(T),$=>Bu($)==="true"),Bu=k=>k.dom.contentEditable,ji=k=>k.nodeName.toLowerCase(),md=k=>ct.fromDom(k.getBody()),As=k=>T=>nt(T,md(k)),ua=k=>k?k.replace(/px$/,""):"",hi=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,Rn=k=>ct.fromDom(k.selection.getStart()),sr=k=>ct.fromDom(k.selection.getEnd()),Ui=k=>Qd(k,fl("table")).forall(da),dc=(k,T)=>xn(_s(k),T),ls=(k,T)=>{let $=[];return H(_s(k),J=>{T(J)&&($=$.concat([J])),$=$.concat(ls(J,T))}),$},ml=(k,T)=>dc(k,$=>Co($,T)),Tr=(k,T)=>Hs(T,k),bn=(k,T,$)=>{if(tr($)||Kr($)||Bt($))k.setAttribute(T,$+"");else throw console.error("Invalid call to Attribute.set. Key ",T,":: Value ",$,":: Element ",k),new Error("Attribute value was not simple")},bi=(k,T,$)=>{bn(k.dom,T,$)},Ca=(k,T)=>{const $=k.dom;Lo(T,(J,he)=>{bn($,he,J)})},Ns=(k,T)=>{const $=k.dom.getAttribute(T);return $===null?void 0:$},Sa=(k,T)=>ht.from(Ns(k,T)),Fr=(k,T)=>{k.dom.removeAttribute(T)},pd=k=>Bl(k.dom.attributes,(T,$)=>(T[$.name]=$.value,T),{}),to=(k,T,$=uo)=>k.exists(J=>$(J,T)),pl=k=>{const T=[],$=J=>{T.push(J)};for(let J=0;J<k.length;J++)k[J].each($);return T},cs=(k,T,$)=>k.isSome()&&T.isSome()?ht.some($(k.getOrDie(),T.getOrDie())):ht.none(),Er=k=>k.bind(st),$c=(k,T)=>k?ht.some(T):ht.none(),Wo=(k,T)=>k.substring(T),Pl=(k,T,$)=>T===""||k.length>=T.length&&k.substr($,$+T.length)===T,fa=(k,T)=>po(k,T)?Wo(k,T.length):k,po=(k,T)=>Pl(k,T,0),ei=(k=>T=>T.replace(k,""))(/^\s+|\s+$/g),br=k=>k.length>0,Ll=k=>!br(k),Hr=(k,T=10)=>{const $=parseInt(k,T);return isNaN($)?ht.none():ht.some($)},uc=k=>{const T=parseFloat(k);return isNaN(T)?ht.none():ht.some(T)},$s=k=>k.style!==void 0&&Fs(k.style.getPropertyValue),_n=(k,T,$)=>{if(!tr($))throw console.error("Invalid call to CSS.set. Property ",T,":: Value ",$,":: Element ",k),new Error("CSS value must be a string: "+$);$s(k)&&k.style.setProperty(T,$)},gl=(k,T)=>{$s(k)&&k.style.removeProperty(T)},Vc=(k,T,$)=>{const J=k.dom;_n(J,T,$)},gd=(k,T)=>{const $=k.dom,he=window.getComputedStyle($).getPropertyValue(T);return he===""&&!rr(k)?yr($,T):he},yr=(k,T)=>$s(k)?k.style.getPropertyValue(T):"",Ea=(k,T)=>{const $=k.dom,J=yr($,T);return ht.from(J).filter(he=>he.length>0)},G=(k,T)=>{const $=k.dom;gl($,T),to(Sa(k,"style").map(ei),"")&&Fr(k,"style")},ae=(k,T,$=0)=>Sa(k,T).map(J=>parseInt(J,10)).getOr($),xe=(k,T)=>Pe(k,T,ye),Pe=(k,T,$)=>Te(_s(k),J=>Co(J,T)?$(J)?[J]:[]:Pe(J,T,$)),rt=["tfoot","thead","tbody","colgroup"],Lt=k=>as(rt,k),No=(k,T)=>({rows:k,columns:T}),Dn=(k,T,$)=>({element:k,rowspan:T,colspan:$}),Ho=(k,T,$,J,he,Ve)=>({element:k,rowspan:T,colspan:$,row:J,column:he,isLocked:Ve}),jn=(k,T,$)=>({element:k,cells:T,section:$}),$r=(k,T,$,J)=>({startRow:k,startCol:T,finishRow:$,finishCol:J}),Mo=(k,T,$)=>({element:k,colspan:T,column:$}),rl=(k,T)=>({element:k,columns:T}),Il=(k,T,$=Dt)=>{if($(T))return ht.none();if(as(k,Fo(T)))return ht.some(T);const J=he=>Co(he,"table")||$(he);return gi(T,k.join(","),J)},fc=(k,T)=>Il(["td","th"],k,T),Mm=k=>xe(k,"th,td"),Ig=k=>Co(k,"colgroup")?ml(k,"col"):Te(Fg(k),T=>ml(T,"col")),Ni=(k,T)=>kn(k,"table",T),Bm=k=>xe(k,"tr"),Fg=k=>Ni(k).fold(cr([]),T=>ml(T,"colgroup")),Sf=(k,T)=>wo(k,$=>{if(Fo($)==="colgroup"){const J=wo(Ig($),he=>{const Ve=ae(he,"span",1);return Dn(he,1,Ve)});return jn($,J,"colgroup")}else{const J=wo(Mm($),he=>{const Ve=ae(he,"rowspan",1),dt=ae(he,"colspan",1);return Dn(he,Ve,dt)});return jn($,J,T($))}}),Mp=k=>Ba(k).map(T=>{const $=Fo(T);return Lt($)?$:"tbody"}).getOr("tbody"),ft=k=>{const T=Bm(k),J=[...Fg(k),...T];return Sf(J,Mp)},hd="data-snooker-locked-cols",bd=k=>Sa(k,hd).bind(T=>ht.from(T.match(/\d+/g))).map(T=>tt(T,ye)),Ef=(k,T)=>k+","+T,ma=(k,T,$)=>ht.from(k.access[Ef(T,$)]),yd=(k,T,$)=>{const J=tu(k,he=>$(T,he.element));return J.length>0?ht.some(J[0]):ht.none()},tu=(k,T)=>{const $=Te(k.all,J=>J.cells);return xn($,T)},Hg=k=>{const T={};let $=0;return H(k.cells,J=>{const he=J.colspan;hn(he,Ve=>{const dt=$+Ve;T[dt]=Mo(J.element,he,dt)}),$+=he}),T},Bp=k=>{const T={},$=[],he=Wt(k).map(Ws=>Ws.element).bind(Ni).bind(bd).getOr({});let Ve=0,dt=0,ut=0;const{pass:ho,fail:Ut}=Cr(k,Ws=>Ws.section==="colgroup");H(Ut,Ws=>{const Dr=[];H(Ws.cells,Yl=>{let Xl=0;for(;T[Ef(ut,Xl)]!==void 0;)Xl++;const Cc=Oo(he,Xl.toString()),Vm=Ho(Yl.element,Yl.rowspan,Yl.colspan,ut,Xl,Cc);for(let Kc=0;Kc<Yl.colspan;Kc++)for(let Wu=0;Wu<Yl.rowspan;Wu++){const $f=ut+Wu,mu=Xl+Kc,qu=Ef($f,mu);T[qu]=Vm,dt=Math.max(dt,mu+1)}Dr.push(Vm)}),Ve++,$.push(jn(Ws.element,Dr,Ws.section)),ut++});const{columns:Jo,colgroups:Ao}=ao(ho).map(Ws=>{const Dr=Hg(Ws);return{colgroups:[rl(Ws.element,Qe(Dr))],columns:Dr}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:No(Ve,dt),access:T,all:$,columns:Jo,colgroups:Ao}},Fl={fromTable:k=>{const T=ft(k);return Bp(T)},generate:Bp,getAt:ma,findItem:yd,filterItems:tu,justCells:k=>Te(k.all,T=>T.cells),justColumns:k=>Qe(k.columns),hasColumns:k=>ss(k.columns).length>0,getColumnAt:(k,T)=>ht.from(k.columns[T])};var jc=tinymce.util.Tools.resolve("tinymce.util.Tools");const Hl=(k,T,$)=>{const J=k.select("td,th",T);let he;for(let Ve=0;Ve<J.length;Ve++){const dt=k.getStyle(J[Ve],$);if(Xn(he)&&(he=dt),he!==dt)return""}return he},Vs=(k,T,$)=>{jc.each("left center right".split(" "),J=>{J!==$&&k.formatter.remove("align"+J,{},T)}),$&&k.formatter.apply("align"+$,{},T)},yi=(k,T,$)=>{jc.each("top middle bottom".split(" "),J=>{J!==$&&k.formatter.remove("valign"+J,{},T)}),$&&k.formatter.apply("valign"+$,{},T)},vd=(k,T,$)=>{k.dispatch("TableModified",{...$,table:T})},rn=(k,T)=>uc(k).getOr(T),hl=(k,T,$)=>rn(gd(k,T),$),Pu=(k,T,$,J)=>{const he=hl(k,`padding-${$}`,0),Ve=hl(k,`padding-${J}`,0),dt=hl(k,`border-${$}-width`,0),ut=hl(k,`border-${J}-width`,0);return T-he-Ve-dt-ut},Lu=(k,T)=>{const $=k.dom,J=$.getBoundingClientRect().width||$.offsetWidth;return T==="border-box"?J:Pu(k,J,"left","right")},Jr=k=>Lu(k,"content-box");var vr=tinymce.util.Tools.resolve("tinymce.Env");const Js="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ar=hn(5,k=>{const T=`${k+1}px`;return{title:T,value:T}}),xd=wo(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),kd="100%",ws=k=>{var T;const $=k.dom,J=(T=$.getParent(k.selection.getStart(),$.isBlock))!==null&&T!==void 0?T:k.getBody();return Jr(ct.fromDom(J))+"px"},Pa=(k,T)=>Tf(k)||!dn(k)?T:mc(k)?{...T,width:ws(k)}:{...T,width:kd},za=(k,T)=>Tf(k)||dn(k)?T:mc(k)?{...T,width:ws(k)}:{...T,width:kd},gs=k=>T=>T.options.get(k),Uc=k=>{const T=k.options.register;T("table_border_widths",{processor:"object[]",default:ar}),T("table_border_styles",{processor:"object[]",default:xd}),T("table_cell_advtab",{processor:"boolean",default:!0}),T("table_row_advtab",{processor:"boolean",default:!0}),T("table_advtab",{processor:"boolean",default:!0}),T("table_appearance_options",{processor:"boolean",default:!0}),T("table_grid",{processor:"boolean",default:!vr.deviceType.isTouch()}),T("table_cell_class_list",{processor:"object[]",default:[]}),T("table_row_class_list",{processor:"object[]",default:[]}),T("table_class_list",{processor:"object[]",default:[]}),T("table_toolbar",{processor:"string",default:Js}),T("table_background_color_map",{processor:"object[]",default:[]}),T("table_border_color_map",{processor:"object[]",default:[]})},$o=gs("table_sizing_mode"),ds=gs("table_border_widths"),La=gs("table_border_styles"),$l=gs("table_cell_advtab"),Rs=gs("table_row_advtab"),Ht=gs("table_advtab"),bl=gs("table_appearance_options"),yl=gs("table_grid"),dn=gs("table_style_by_css"),ou=gs("table_cell_class_list"),Pm=gs("table_row_class_list"),Vl=gs("table_class_list"),Uo=gs("table_toolbar"),Ta=gs("table_background_color_map"),Iu=gs("table_border_color_map"),mc=k=>$o(k)==="fixed",Tf=k=>$o(k)==="responsive",vl=k=>{const T=k.options,$=T.get("table_default_styles");return T.isSet("table_default_styles")?$:Pa(k,$)},Ia=k=>{const T=k.options,$=T.get("table_default_attributes");return T.isSet("table_default_attributes")?$:za(k,$)},jl=(k,T)=>T.column>=k.startCol&&T.column+T.colspan-1<=k.finishCol&&T.row>=k.startRow&&T.row+T.rowspan-1<=k.finishRow,_d=(k,T)=>{let $=!0;const J=Tt(jl,T);for(let he=T.startRow;he<=T.finishRow;he++)for(let Ve=T.startCol;Ve<=T.finishCol;Ve++)$=$&&Fl.getAt(k,he,Ve).exists(J);return $?ht.some(T):ht.none()},de=(k,T)=>$r(Math.min(k.row,T.row),Math.min(k.column,T.column),Math.max(k.row+k.rowspan-1,T.row+T.rowspan-1),Math.max(k.column+k.colspan-1,T.column+T.colspan-1)),nu=(k,T,$)=>{const J=Fl.findItem(k,T,nt),he=Fl.findItem(k,$,nt);return J.bind(Ve=>he.map(dt=>de(Ve,dt)))},Un=(k,T,$)=>nu(k,T,$).bind(J=>_d(k,J)),Lm=(k,T,$)=>{const J=Fu(k);return Un(J,T,$)},Fu=Fl.fromTable,sl=(k,T)=>{Ba(k).each(J=>{J.dom.insertBefore(T.dom,k.dom)})},on=(k,T)=>{kt(k).fold(()=>{Ba(k).each(he=>{Zi(he,T)})},J=>{sl(J,T)})},pa=(k,T)=>{hr(k).fold(()=>{Zi(k,T)},J=>{k.dom.insertBefore(T.dom,J.dom)})},Zi=(k,T)=>{k.dom.appendChild(T.dom)},al=(k,T)=>{sl(k,T),Zi(T,k)},Ul=(k,T)=>{H(T,($,J)=>{const he=J===0?k:T[J-1];on(he,$)})},pc=(k,T)=>{H(T,$=>{Zi(k,$)})},Qs=k=>{const T=k.dom;T.parentNode!==null&&T.parentNode.removeChild(T)},wd=k=>{const T=_s(k);T.length>0&&Ul(k,T),Qs(k)},Of=((k,T)=>{const $=Ve=>{if(!k(Ve))throw new Error("Can only get "+T+" value of a "+T+" node");return J(Ve).getOr("")},J=Ve=>k(Ve)?ht.from(Ve.dom.nodeValue):ht.none();return{get:$,getOption:J,set:(Ve,dt)=>{if(!k(Ve))throw new Error("Can only set raw "+T+" value of a "+T+" node");Ve.dom.nodeValue=dt}}})(nl,"text"),Ds=k=>Of.get(k),Kt=(k,T)=>Of.set(k,T);var gc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ru=()=>{const k=Ut=>ct.fromDom(Ut.dom.cloneNode(!1)),T=Ut=>mo(Ut).dom,$=Ut=>ul(Ut)?Fo(Ut)==="body"?!0:as(gc,Fo(Ut)):!1,J=Ut=>ul(Ut)?as(["br","img","hr","input"],Fo(Ut)):!1,he=Ut=>ul(Ut)&&Ns(Ut,"contenteditable")==="false",Ve=(Ut,Jo)=>Ut.dom.compareDocumentPosition(Jo.dom),dt=(Ut,Jo)=>{const Ao=pd(Ut);Ca(Jo,Ao)},ut=Ut=>{const Jo=Fo(Ut);return as(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Jo)},ho=Ut=>ul(Ut)?Sa(Ut,"lang"):ht.none();return{up:cr({selector:gi,closest:kn,predicate:Qa,all:Os}),down:cr({selector:Tr,predicate:ls}),styles:cr({get:gd,getRaw:Ea,set:Vc,remove:G}),attrs:cr({get:Ns,set:bi,remove:Fr,copyTo:dt}),insert:cr({before:sl,after:on,afterAll:Ul,append:Zi,appendAll:pc,prepend:pa,wrap:al}),remove:cr({unwrap:wd,remove:Qs}),create:cr({nu:ct.fromTag,clone:k,text:ct.fromText}),query:cr({comparePosition:Ve,prevSibling:ud,nextSibling:kt}),property:cr({children:_s,name:Fo,parent:Ba,document:T,isText:nl,isComment:is,isElement:ul,isSpecial:ut,getLanguage:ho,getText:Ds,setText:Kt,isBoundary:$,isEmptyTag:J,isNonEditable:he}),eq:nt,is:Xa}};const ga=(k,T,$,J)=>{const he=$[0],Ve=$.slice(1);return J(k,T,he,Ve)},hc=(k,T,$)=>$.length>0?ga(k,T,$,Ri):ht.none(),Ri=(k,T,$,J)=>{const he=T(k,$);return $i(J,(Ve,dt)=>{const ut=T(k,dt);return bc(k,Ve,ut)},he)},bc=(k,T,$)=>T.bind(J=>$.filter(Tt(k.eq,J))),Zc=hc,Ms=ru(),il=(k,T)=>Zc(Ms,($,J)=>k(J),T),Zl=k=>gi(k,"table"),su=(k,T)=>{const $=Tr(k,T);return $.length>0?ht.some($):ht.none()},Lp=(k,T,$)=>Hc(k,T).bind(J=>Hc(k,$).bind(he=>il(Zl,[J,he]).map(Ve=>({first:J,last:he,table:Ve})))),yc=(k,T)=>su(k,T),Cd=(k,T,$)=>Lp(k,T,$).bind(J=>{const he=ho=>nt(k,ho),Ve="thead,tfoot,tbody,table",dt=gi(J.first,Ve,he),ut=gi(J.last,Ve,he);return dt.bind(ho=>ut.bind(Ut=>nt(ho,Ut)?Lm(J.table,J.first,J.last):ht.none()))}),$u=k=>wo(k,ct.fromDom),xr="data-mce-selected",Fa="td["+xr+"],th["+xr+"]",ea="data-mce-first-selected",oi="td["+ea+"],th["+ea+"]",us="data-mce-last-selected",Af="td["+us+"],th["+us+"]",Qr={selected:xr,selectedSelector:Fa,firstSelected:ea,firstSelectedSelector:oi,lastSelected:us,lastSelectedSelector:Af},ta=k=>Ni(k).bind(T=>yc(T,Qr.firstSelectedSelector)).fold(cr(k),T=>T[0]),xl=k=>(T,$)=>{const J=Fo(T),he=J==="col"||J==="colgroup"?ta(T):T;return kn(he,k,$)},Ue=xl("th,td,caption"),js=xl("th,td"),au=k=>$u(k.model.table.getSelectedCells()),Or=(k,T)=>{const $=js(k),J=$.bind(he=>Ni(he)).map(he=>Bm(he));return cs($,J,(he,Ve)=>xn(Ve,dt=>gn($u(dt.dom.cells),ut=>Ns(ut,T)==="1"||nt(ut,he)))).getOr([])},kl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ha=k=>({value:Xo(k)}),_l=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,iu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ni=k=>_l.test(k)||iu.test(k),Xo=k=>fa(k,"#").toUpperCase(),es=k=>ni(k)?ht.some({value:Xo(k)}):ht.none(),vc=k=>{const T=k.toString(16);return(T.length===1?"0"+T:T).toUpperCase()},Ar=k=>{const T=vc(k.red)+vc(k.green)+vc(k.blue);return Ha(T)},Vu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Wl=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Im=(k,T,$,J)=>({red:k,green:T,blue:$,alpha:J}),Nr=(k,T,$,J)=>{const he=parseInt(k,10),Ve=parseInt(T,10),dt=parseInt($,10),ut=parseFloat(J);return Im(he,Ve,dt,ut)},we=k=>{const T=Vu.exec(k);if(T!==null)return ht.some(Nr(T[1],T[2],T[3],"1"));const $=Wl.exec(k);return $!==null?ht.some(Nr($[1],$[2],$[3],$[4])):ht.none()},$a=k=>es(k).orThunk(()=>we(k).map(Ar)).getOrThunk(()=>{const T=document.createElement("canvas");T.height=1,T.width=1;const $=T.getContext("2d");$.clearRect(0,0,T.width,T.height),$.fillStyle="#FFFFFF",$.fillStyle=k,$.fillRect(0,0,1,1);const J=$.getImageData(0,0,1,1).data,he=J[0],Ve=J[1],dt=J[2],ut=J[3];return Ar(Im(he,Ve,dt,ut))}),ts=k=>we(k).map(Ar).map(T=>"#"+T.value).getOr(k),vi=k=>{let T=k;return{get:()=>T,set:he=>{T=he}}},wl=k=>{const T=vi(ht.none()),$=()=>T.get().each(k);return{clear:()=>{$(),T.set(ht.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:ut=>{$(),T.set(ht.some(ut))}}},fs=()=>wl(k=>k.unbind()),ir=(k,T,$)=>J=>{const he=fs(),Ve=Ll($),dt=()=>{const ut=au(k),ho=Ut=>k.formatter.match(T,{value:$},Ut.dom,Ve);Ve?(J.setActive(!gn(ut,ho)),he.set(k.formatter.formatChanged(T,Ut=>J.setActive(!Ut),!0))):(J.setActive(yt(ut,ho)),he.set(k.formatter.formatChanged(T,J.setActive,!1,{value:$})))};return k.initialized?dt():k.on("init",dt),he.clear},Mn=k=>Oo(k,"menu"),ha=k=>wo(k,T=>{const $=T.text||T.title||"";return Mn(T)?{text:$,items:ha(T.menu)}:{text:$,value:T.value}}),xi=k=>k.length?ht.some(ha([{text:"Select...",value:"mce-no-match"},...k])):ht.none(),ri=(k,T,$,J)=>wo(T,he=>{const Ve=he.text||he.title;return Mn(he)?{type:"nestedmenuitem",text:Ve,getSubmenuItems:()=>ri(k,he.menu,$,J)}:{text:Ve,type:"togglemenuitem",onAction:()=>J(he.value),onSetup:ir(k,$,he.value)}}),Wi=(k,T)=>$=>{k.execCommand("mceTableApplyCellStyle",!1,{[T]:$})},ql=k=>Te(k,T=>Mn(T)?[{...T,menu:ql(T.menu)}]:br(T.value)?[T]:[]),xc=(k,T,$,J)=>he=>he(ri(k,T,$,J)),Wc=(k,T,$)=>{const J=wo(T,he=>({text:he.title,value:"#"+$a(he.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:J.length>0?J:void 0,allowCustomColors:!1},onAction:he=>{const Ve=he.value==="remove"?"":he.value;k.execCommand("mceTableApplyCellStyle",!1,{[$]:Ve})}}]},Nf=k=>()=>{const $=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:$})},Rf=k=>()=>{const $=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:$})},kc=k=>xi(ou(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),w=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:kl}],D=k=>w.concat(kc(k).toArray()),V=(k,T)=>{const J=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(ha(La(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:T==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(J):J}},me={normal:(k,T)=>{const $=k.dom;return{setAttrib:(dt,ut)=>{$.setAttrib(T,dt,ut)},setStyle:(dt,ut)=>{$.setStyle(T,dt,ut)},setFormat:(dt,ut)=>{ut===""?k.formatter.remove(dt,{value:null},T,!0):k.formatter.apply(dt,{value:ut},T)}}}},Ze=fl("th"),eo=(k,T)=>k&&T?"sectionCells":k?"section":"cells",Eo=k=>{const T=k.section==="thead",$=to(go(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:T||$?{type:"header",subType:eo(T,$)}:{type:"body"}},go=k=>{const T=xn(k,$=>Ze($.element));return T.length===0?ht.some("td"):T.length===k.length?ht.some("th"):ht.none()},Vt=k=>{const T=wo(k,he=>Eo(he).type),$=as(T,"header"),J=as(T,"footer");if(!$&&!J)return ht.some("body");{const he=as(T,"body");return $&&!he&&!J?ht.some("header"):!$&&!he&&J?ht.some("footer"):ht.none()}},zn=k=>{let T=!1,$;return(...J)=>(T||(T=!0,$=k.apply(null,J)),$)},Zr=(k,T)=>jo(k.all,$=>Sn($.cells,J=>nt(T,J.element))),Rr=(k,T,$)=>{const J=wo(T.selection,Ve=>fc(Ve).bind(dt=>Zr(k,dt)).filter($)),he=pl(J);return $c(he.length>0,he)},Cl=(k,T)=>T.mergable,lu=(k,T)=>T.unmergable,Sd=(k,T)=>Rr(k,T,ye),Cs=(k,T)=>Zr(k,T).exists($=>!$.isLocked),Vg=(k,T)=>yt(T,$=>Cs(k,$)),Fm=(k,T)=>Cl(k,T).filter($=>Vg(k,$.cells)),Ip=(k,T)=>lu(k,T).filter($=>Vg(k,$));({...{generate:k=>{if(!nr(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const T=[],$={};return H(k,(J,he)=>{const Ve=ss(J);if(Ve.length!==1)throw new Error("one and only one name per case");const dt=Ve[0],ut=J[dt];if($[dt]!==void 0)throw new Error("duplicate key detected:"+dt);if(dt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!nr(ut))throw new Error("case arguments must be an array");T.push(dt),$[dt]=(...ho)=>{const Ut=ho.length;if(Ut!==ut.length)throw new Error("Wrong number of arguments to case "+dt+". Expected "+ut.length+" ("+ut+"), got "+Ut);return{fold:(...Ao)=>{if(Ao.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+Ao.length);return Ao[he].apply(null,ho)},match:Ao=>{const Bn=ss(Ao);if(T.length!==Bn.length)throw new Error("Wrong number of arguments to match. Expected: "+T.join(",")+`
Actual: `+Bn.join(","));if(!yt(T,Dr=>as(Bn,Dr)))throw new Error("Not all branches were specified when using match. Specified: "+Bn.join(", ")+`
Required: `+T.join(", "));return Ao[dt].apply(null,ho)},log:Ao=>{console.log(Ao,{constructors:T,constructor:dt,params:ho})}}}}),$}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Df=(k,T)=>{const $=Fl.fromTable(k);return Sd($,T).bind(he=>{const Ve=he[he.length-1],dt=he[0].row,ut=Ve.row+Ve.rowspan,ho=$.all.slice(dt,ut);return Vt(ho)}).getOr("")},Mf=k=>po(k,"rgb")?ts(k):k,Di=k=>{const T=ct.fromDom(k);return{borderwidth:Ea(T,"border-width").getOr(""),borderstyle:Ea(T,"border-style").getOr(""),bordercolor:Ea(T,"border-color").map(Mf).getOr(""),backgroundcolor:Ea(T,"background-color").map(Mf).getOr("")}},si=k=>{const T=k[0],$=k.slice(1);return H($,J=>{H(ss(T),he=>{Lo(J,(Ve,dt)=>{const ut=T[he];ut!==""&&he===dt&&ut!==Ve&&(T[he]=he==="class"?"mce-no-match":"")})})}),T},Bf=(k,T,$,J)=>Sn(k,he=>!Xn($.formatter.matchNode(J,T+he))).getOr(""),_c=Tt(Bf,["left","center","right"],"align"),Jy=Tt(Bf,["top","middle","bottom"],"valign"),Hm=(k,T)=>{const $=vl(k),J=Ia(k),he=()=>({borderstyle:Zo($,"border-style").getOr(""),bordercolor:Mf(Zo($,"border-color").getOr("")),backgroundcolor:Mf(Zo($,"background-color").getOr(""))}),Ve={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},dt=()=>{const Jo=$["border-width"];return dn(k)&&Jo?{border:Jo}:Zo(J,"border").fold(()=>({}),Ao=>({border:Ao}))},ut=T?he():{},ho=()=>{const Jo=Zo($,"border-spacing").or(Zo(J,"cellspacing")).fold(()=>({}),Bn=>({cellspacing:Bn})),Ao=Zo($,"border-padding").or(Zo(J,"cellpadding")).fold(()=>({}),Bn=>({cellpadding:Bn}));return{...Jo,...Ao}};return{...Ve,...$,...J,...ut,...dt(),...ho()}},Gc=k=>Ni(ct.fromDom(k)).map(T=>{const $={selection:$u(k.cells)};return Df(T,$)}).getOr(""),Ed=(k,T,$)=>{const J=(ut,ho)=>{const Ut=Ea(ct.fromDom(ho),"border-width");return dn(k)&&Ut.isSome()?Ut.getOr(""):ut.getAttrib(ho,"border")||Hl(k.dom,ho,"border-width")||Hl(k.dom,ho,"border")||""},he=k.dom,Ve=dn(k)?he.getStyle(T,"border-spacing")||he.getAttrib(T,"cellspacing"):he.getAttrib(T,"cellspacing")||he.getStyle(T,"border-spacing"),dt=dn(k)?Hl(he,T,"padding")||he.getAttrib(T,"cellpadding"):he.getAttrib(T,"cellpadding")||Hl(he,T,"padding");return{width:he.getStyle(T,"width")||he.getAttrib(T,"width"),height:he.getStyle(T,"height")||he.getAttrib(T,"height"),cellspacing:Ve??"",cellpadding:dt??"",border:J(he,T),caption:!!he.select("caption",T)[0],class:he.getAttrib(T,"class",""),align:_c(k,T),...$?Di(T):{}}},It=(k,T,$)=>{const J=k.dom;return{height:J.getStyle(T,"height")||J.getAttrib(T,"height"),class:J.getAttrib(T,"class",""),type:Gc(T),align:_c(k,T),...$?Di(T):{}}},Gl=(k,T,$,J)=>{const he=k.dom,Ve=J.getOr(T);return{width:((ut,ho)=>he.getStyle(ut,ho)||he.getAttrib(ut,ho))(Ve,"width"),scope:he.getAttrib(T,"scope"),celltype:ji(T),class:he.getAttrib(T,"class",""),halign:_c(k,T),valign:Jy(k,T),...$?Di(T):{}}},Pf=(k,T)=>{const $=Fl.fromTable(k),J=Fl.justCells($),he=xn(J,Ve=>gn(T,dt=>nt(Ve.element,dt)));return wo(he,Ve=>({element:Ve.element.dom,column:Fl.getColumnAt($,Ve.column).map(dt=>dt.element.dom)}))},zd=(k,T,$,J)=>{J("scope")&&k.setAttrib("scope",$.scope),J("class")&&$.class!=="mce-no-match"&&k.setAttrib("class",$.class),J("width")&&T.setStyle("width",hi($.width))},ba=(k,T,$)=>{$("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",T.backgroundcolor),$("bordercolor")&&k.setFormat("tablecellbordercolor",T.bordercolor),$("borderstyle")&&k.setFormat("tablecellborderstyle",T.borderstyle),$("borderwidth")&&k.setFormat("tablecellborderwidth",hi(T.borderwidth))},Sl=(k,T,$,J)=>{const he=T.length===1;H(T,Ve=>{const dt=Ve.element,ut=he?ye:J,ho=me.normal(k,dt),Ut=Ve.column.map(Jo=>me.normal(k,Jo)).getOr(ho);zd(ho,Ut,$,ut),$l(k)&&ba(ho,$,ut),J("halign")&&Vs(k,dt,$.halign),J("valign")&&yi(k,dt,$.valign)})},ju=(k,T)=>{k.execCommand("mceTableCellType",!1,{type:T.celltype,no_events:!0})},Td=(k,T,$,J)=>{const he=O(J,(Ve,dt)=>$[dt]!==Ve);Ft(he)>0&&T.length>=1&&Ni(T[0]).each(Ve=>{const dt=Pf(Ve,T),ut=Ft(O(he,(Ut,Jo)=>Jo!=="scope"&&Jo!=="celltype"))>0,ho=$e(he,"celltype");(ut||$e(he,"scope"))&&Sl(k,dt,J,Tt($e,he)),ho&&ju(k,J),vd(k,Ve.dom,{structure:ho,style:ut})})},Fp=(k,T,$,J)=>{const he=J.getData();J.close(),k.undoManager.transact(()=>{Td(k,T,$,he),k.focus()})},Kl=(k,T)=>{const $=Ni(T[0]).map(J=>wo(Pf(J,T),he=>Gl(k,he.element,$l(k),he.column)));return si($.getOrDie())},Lf=k=>{const T=au(k);if(T.length===0)return;const $=Kl(k,T),J={type:"tabpanel",tabs:[{title:"General",name:"general",items:D(k)},V(k,"cell")]},he={type:"panel",items:[{type:"grid",columns:2,items:D(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:$l(k)?J:he,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$,onSubmit:Tt(Fp,k,T,$)})},If=k=>xi(Pm(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),it=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Hp=k=>it.concat(If(k).toArray()),Od=(k,T,$)=>{$("class")&&T.class!=="mce-no-match"&&k.setAttrib("class",T.class),$("height")&&k.setStyle("height",hi(T.height))},Bo=(k,T,$)=>{$("backgroundcolor")&&k.setStyle("background-color",T.backgroundcolor),$("bordercolor")&&k.setStyle("border-color",T.bordercolor),$("borderstyle")&&k.setStyle("border-style",T.borderstyle)},jt=(k,T,$,J)=>{const Ve=T.length===1?ye:J;H(T,dt=>{const ut=ml(ct.fromDom(dt),"td,th"),ho=me.normal(k,dt);Od(ho,$,Ve),Rs(k)&&Bo(ho,$,Ve),J("height")&&H(ut,Ut=>{k.dom.setStyle(Ut.dom,"height",null)}),J("align")&&Vs(k,dt,$.align)})},Ad=(k,T)=>{k.execCommand("mceTableRowType",!1,{type:T.type,no_events:!0})},zr=(k,T,$,J)=>{const he=O(J,(Ve,dt)=>$[dt]!==Ve);if(Ft(he)>0){const Ve=$e(he,"type"),dt=Ve?Ft(he)>1:!0;dt&&jt(k,T,J,Tt($e,he)),Ve&&Ad(k,J),Ni(ct.fromDom(T[0])).each(ut=>vd(k,ut.dom,{structure:Ve,style:dt}))}},El=(k,T,$,J)=>{const he=J.getData();J.close(),k.undoManager.transact(()=>{zr(k,T,$,he),k.focus()})},zl=k=>{const T=Or(Rn(k),Qr.selected);if(T.length===0)return;const $=wo(T,dt=>It(k,dt.dom,Rs(k))),J=si($),he={type:"tabpanel",tabs:[{title:"General",name:"general",items:Hp(k)},V(k,"row")]},Ve={type:"panel",items:[{type:"grid",columns:2,items:Hp(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Rs(k)?he:Ve,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:J,onSubmit:Tt(El,k,wo(T,dt=>dt.dom),J)})},_o=(k,T,$)=>{const J=$?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],he=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ve=bl(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],dt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],ut=T.length>0?[{name:"class",type:"listbox",label:"Class",items:T}]:[];return J.concat(he).concat(Ve).concat(dt).concat(ut)},Uu=(k,T,$,J)=>{if(T.tagName==="TD"||T.tagName==="TH")tr($)&&Ur(J)?k.setStyle(T,$,J):k.setStyles(T,$);else if(T.children)for(let he=0;he<T.children.length;he++)Uu(k,T.children[he],$,J)},vb=(k,T,$,J)=>{const he=k.dom,Ve={},dt={},ut=dn(k),ho=Ht(k),Ut=parseFloat($.border)===0;if(!Xn($.class)&&$.class!=="mce-no-match"&&(Ve.class=$.class),dt.height=hi($.height),ut?dt.width=hi($.width):he.getAttrib(T,"width")&&(Ve.width=ua($.width)),ut?(Ut?(Ve.border=0,dt["border-width"]=""):(dt["border-width"]=hi($.border),Ve.border=1),dt["border-spacing"]=hi($.cellspacing)):(Ve.border=Ut?0:$.border,Ve.cellpadding=$.cellpadding,Ve.cellspacing=$.cellspacing),ut&&T.children){const Jo={};if(Ut?Jo["border-width"]="":J.border&&(Jo["border-width"]=hi($.border)),J.cellpadding&&(Jo.padding=hi($.cellpadding)),ho&&J.bordercolor&&(Jo["border-color"]=$.bordercolor),!la(Jo))for(let Ao=0;Ao<T.children.length;Ao++)Uu(he,T.children[Ao],Jo)}if(ho){const Jo=$;dt["background-color"]=Jo.backgroundcolor,dt["border-color"]=Jo.bordercolor,dt["border-style"]=Jo.borderstyle}he.setStyles(T,{...vl(k),...dt}),he.setAttribs(T,{...Ia(k),...Ve})},Le=(k,T,$,J)=>{const he=k.dom,Ve=J.getData(),dt=O(Ve,(ut,ho)=>$[ho]!==ut);J.close(),k.undoManager.transact(()=>{if(!T){const ut=Hr(Ve.cols).getOr(1),ho=Hr(Ve.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:ho,columns:ut}),T=js(Rn(k),As(k)).bind(Ut=>Ni(Ut,As(k))).map(Ut=>Ut.dom).getOrDie()}if(Ft(dt)>0){const ut={border:$e(dt,"border"),bordercolor:$e(dt,"bordercolor"),cellpadding:$e(dt,"cellpadding")};vb(k,T,Ve,ut);const ho=he.select("caption",T)[0];(ho&&!Ve.caption||!ho&&Ve.caption)&&k.execCommand("mceTableToggleCaption"),Vs(k,T,Ve.align)}if(k.focus(),k.addVisual(),Ft(dt)>0){const ut=$e(dt,"caption"),ho=ut?Ft(dt)>1:!0;vd(k,T,{structure:ut,style:ho})}})},$p=(k,T)=>{const $=k.dom;let J,he=Hm(k,Ht(k));T?(he.cols="1",he.rows="1",Ht(k)&&(he.borderstyle="",he.bordercolor="",he.backgroundcolor="")):(J=$.getParent(k.selection.getStart(),"table",k.getBody()),J?he=Ed(k,J,Ht(k)):Ht(k)&&(he.borderstyle="",he.bordercolor="",he.backgroundcolor=""));const Ve=xi(Vl(k));Ve.isSome()&&he.class&&(he.class=he.class.replace(/\s*mce\-item\-table\s*/g,""));const dt={type:"grid",columns:2,items:_o(k,Ve.getOr([]),T)},ut=()=>({type:"panel",items:[dt]}),ho=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[dt]},V(k,"table")]}),Ut=Ht(k)?ho():ut();k.windowManager.open({title:"Table Properties",size:"normal",body:Ut,onSubmit:Tt(Le,k,J,he),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:he})},Ff=k=>{const T=$=>{Ui(Rn(k))&&$()};Lo({mceTableProps:Tt($p,k,!1),mceTableRowProps:Tt(zl,k),mceTableCellProps:Tt(Lf,k),mceInsertTableDialog:Tt($p,k,!0)},($,J)=>k.addCommand(J,()=>T($)))},Hf=(k,T)=>eu(k,T).isSome(),Zu=st,cu=k=>{const T=(J,he)=>Sa(J,he).exists(Ve=>parseInt(Ve,10)>1),$=J=>T(J,"rowspan")||T(J,"colspan");return k.length>0&&yt(k,$)?ht.some(k):ht.none()},xb=(k,T,$)=>T.length<=1?ht.none():Cd(k,$.firstSelectedSelector,$.lastSelectedSelector).map(J=>({bounds:J,cells:T})),Nd=k=>({element:k,mergable:ht.none(),unmergable:ht.none(),selection:[k]}),dr=(k,T,$)=>({element:$,mergable:xb(T,k,Qr),unmergable:cu(k),selection:Zu(k)}),wc=k=>{const T=vi(ht.none()),$=vi([]);let J=ht.none();const he=fl("caption"),Ve=Pn=>J.forall(Mr=>!Mr[Pn]),dt=()=>Ue(Rn(k),As(k)),ut=()=>Ue(sr(k),As(k)),ho=()=>dt().bind(Pn=>Er(cs(Ni(Pn),ut().bind(Ni),(Mr,Va)=>nt(Mr,Va)?he(Pn)?ht.some(Nd(Pn)):ht.some(dr(au(k),Mr,Pn)):ht.none()))),Ut=Pn=>Ni(Pn.element).map(Va=>{const qi=Fl.fromTable(Va),Ug=Sd(qi,Pn).getOr([]),jm=Bl(Ug,(Vf,jf)=>(jf.isLocked&&(Vf.onAny=!0,jf.column===0?Vf.onFirst=!0:jf.column+jf.colspan>=qi.grid.columns&&(Vf.onLast=!0)),Vf),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Fm(qi,Pn).isSome(),unmergeable:Ip(qi,Pn).isSome(),locked:jm}}),Jo=()=>{T.set(zn(ho)()),J=T.get().bind(Ut),H($.get(),ue)},Ao=Pn=>(Pn(),$.set($.get().concat([Pn])),()=>{$.set(xn($.get(),Mr=>Mr!==Pn))}),Bn=(Pn,Mr)=>Ao(()=>T.get().fold(()=>{Pn.setEnabled(!1)},Va=>{Pn.setEnabled(!Mr(Va)&&k.selection.isEditable())})),Ws=(Pn,Mr,Va)=>Ao(()=>T.get().fold(()=>{Pn.setEnabled(!1),Pn.setActive(!1)},qi=>{Pn.setEnabled(!Mr(qi)&&k.selection.isEditable()),Pn.setActive(Va(qi))})),Dr=Pn=>J.exists(Mr=>Mr.locked[Pn]),Yl=Pn=>Bn(Pn,Mr=>!1),Xl=Pn=>Bn(Pn,Mr=>he(Mr.element)),Cc=Pn=>Mr=>Bn(Mr,Va=>he(Va.element)||Dr(Pn)),Vm=Pn=>Mr=>Bn(Mr,Va=>he(Va.element)||Pn().isNone()),Kc=(Pn,Mr)=>Va=>Bn(Va,qi=>he(qi.element)||Pn().isNone()||Dr(Mr)),Wu=Pn=>Bn(Pn,Mr=>Ve("mergeable")),$f=Pn=>Bn(Pn,Mr=>Ve("unmergeable")),mu=Pn=>Ws(Pn,Dt,Mr=>Ni(Mr.element,As(k)).exists(qi=>Hf(qi,"caption"))),qu=(Pn,Mr)=>Va=>Ws(Va,qi=>he(qi.element),()=>k.queryCommandValue(Pn)===Mr),jg=qu("mceTableRowType","header"),pu=qu("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",Jo),{onSetupTable:Yl,onSetupCellOrRow:Xl,onSetupColumn:Cc,onSetupPasteable:Vm,onSetupPasteableColumn:Kc,onSetupMergeable:Wu,onSetupUnmergeable:$f,resetTargets:Jo,onSetupTableWithCaption:mu,onSetupTableRowHeaders:jg,onSetupTableColumnHeaders:pu,targets:T.get}};var Vp=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Tl="x-tinymce/dom-table-",du=Tl+"rows",ll=Tl+"columns",qr=k=>{var T;const $=(T=Vp.read())!==null&&T!==void 0?T:[];return jo($,J=>ht.from(J.getType(k)))},uu=()=>qr(du),hs=()=>qr(ll),$m=k=>T=>{const $=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},Ol=(k,T)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:$m(k),fetch:ut=>ut("inserttable | cell row column | advtablesort | tableprops deletetable")});const $=ut=>()=>k.execCommand(ut),J=(ut,ho)=>{k.queryCommandSupported(ho.command)&&k.ui.registry.addButton(ut,{...ho,onAction:Fs(ho.onAction)?ho.onAction:$(ho.command)})},he=(ut,ho)=>{k.queryCommandSupported(ho.command)&&k.ui.registry.addToggleButton(ut,{...ho,onAction:Fs(ho.onAction)?ho.onAction:$(ho.command)})};J("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:T.onSetupTable}),J("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:T.onSetupTable}),J("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:T.onSetupCellOrRow}),J("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:T.onSetupMergeable}),J("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:T.onSetupUnmergeable}),J("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:T.onSetupCellOrRow}),J("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:T.onSetupCellOrRow}),J("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:T.onSetupCellOrRow}),J("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:T.onSetupCellOrRow}),J("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:T.onSetupColumn("onFirst")}),J("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:T.onSetupColumn("onLast")}),J("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:T.onSetupColumn("onAny")}),J("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:T.onSetupCellOrRow}),J("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:T.onSetupCellOrRow}),J("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:T.onSetupPasteable(uu)}),J("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:T.onSetupPasteable(uu)}),J("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:T.onSetupColumn("onAny")}),J("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:T.onSetupColumn("onAny")}),J("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:T.onSetupPasteableColumn(hs,"onFirst")}),J("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:T.onSetupPasteableColumn(hs,"onLast")}),J("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:$m(k)});const Ve=ql(Vl(k));Ve.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:xc(k,Ve,"tableclass",ut=>k.execCommand("mceTableToggleClass",!1,ut)),onSetup:T.onSetupTable});const dt=ql(ou(k));dt.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:xc(k,dt,"tablecellclass",ut=>k.execCommand("mceTableCellToggleClass",!1,ut)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:xc(k,kl,"tablecellverticalalign",Wi(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:xc(k,ds(k),"tablecellborderwidth",Wi(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:xc(k,La(k),"tablecellborderstyle",Wi(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:ut=>ut(Wc(k,Ta(k),"background-color")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:ut=>ut(Wc(k,Iu(k),"border-color")),onSetup:T.onSetupCellOrRow})),he("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),he("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Nf(k),onSetup:T.onSetupTableRowHeaders}),he("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rf(k),onSetup:T.onSetupTableColumnHeaders})},Us=k=>{const T=J=>k.dom.is(J,"table")&&k.getBody().contains(J)&&k.dom.isEditable(J.parentNode),$=Uo(k);$.length>0&&k.ui.registry.addContextToolbar("table",{predicate:T,items:$,scope:"node",position:"node"})},at=k=>T=>{const $=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},fu=(k,T)=>{const $=Ao=>()=>k.execCommand(Ao),J=(Ao,Bn)=>k.queryCommandSupported(Bn.command)?(k.ui.registry.addMenuItem(Ao,{...Bn,onAction:Fs(Bn.onAction)?Bn.onAction:$(Bn.command)}),!0):!1,he=(Ao,Bn)=>{k.queryCommandSupported(Bn.command)&&k.ui.registry.addToggleMenuItem(Ao,{...Bn,onAction:Fs(Bn.onAction)?Bn.onAction:$(Bn.command)})},Ve=Ao=>{k.execCommand("mceInsertTable",!1,{rows:Ao.numRows,columns:Ao.numColumns})},dt=[J("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:T.onSetupCellOrRow}),J("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:T.onSetupCellOrRow}),J("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:T.onSetupCellOrRow}),J("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:T.onSetupCellOrRow}),J("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:T.onSetupCellOrRow}),J("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:T.onSetupCellOrRow}),J("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:T.onSetupPasteable(uu)}),J("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:T.onSetupPasteable(uu)})],ut=[J("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:T.onSetupColumn("onFirst")}),J("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:T.onSetupColumn("onLast")}),J("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:T.onSetupColumn("onAny")}),J("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:T.onSetupColumn("onAny")}),J("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:T.onSetupColumn("onAny")}),J("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:T.onSetupPasteableColumn(hs,"onFirst")}),J("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:T.onSetupPasteableColumn(hs,"onLast")})],ho=[J("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:T.onSetupCellOrRow}),J("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:T.onSetupMergeable}),J("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:T.onSetupUnmergeable})];yl(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ve}],onSetup:at(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:at(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:at(k)}),J("tableprops",{text:"Table properties",onSetup:T.onSetupTable,command:"mceTableProps"}),J("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:T.onSetupTable,command:"mceTableDelete"}),as(dt,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:cr("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),as(ut,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:cr("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),as(ho,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:cr("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(T.resetTargets(),T.targets().fold(cr(""),Ao=>Fo(Ao.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ut=ql(Vl(k));Ut.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ri(k,Ut,"tableclass",Ao=>k.execCommand("mceTableToggleClass",!1,Ao)),onSetup:T.onSetupTable});const Jo=ql(ou(k));Jo.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ri(k,Jo,"tablecellclass",Ao=>k.execCommand("mceTableCellToggleClass",!1,Ao)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ri(k,kl,"tablecellverticalalign",Wi(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ri(k,ds(k),"tablecellborderwidth",Wi(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ri(k,La(k),"tablecellborderstyle",Wi(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Wc(k,Ta(k),"background-color"),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Wc(k,Iu(k),"border-color"),onSetup:T.onSetupCellOrRow})),he("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),he("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Nf(k),onSetup:T.onSetupTableRowHeaders}),he("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rf(k),onSetup:T.onSetupTableRowHeaders})},Zs=k=>{const T=wc(k);Uc(k),Ff(k),fu(k,T),Ol(k,T),Us(k)};var kb=()=>{ia.add("table",Zs)};kb()})();function KZ(){GZ.init({selector:"textarea#editor",plugins:"advlist code emoticons link lists table",toolbar:"bold italic | bullist numlist | link emoticons",skin_url:"default",content_css:"default"})}const YZ=()=>{const ia=document.createElement("textarea");return ia.id="editor",ia},oI=document.createElement("p");oI.appendChild(YZ());document.body.appendChild(oI);KZ();
